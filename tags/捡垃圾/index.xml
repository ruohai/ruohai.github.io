<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>捡垃圾 on 喵ฅ^•ﻌ•^ฅ</title>
    <link>https://ruohai.wang/tags/%E6%8D%A1%E5%9E%83%E5%9C%BE/</link>
    <description>Recent content in 捡垃圾 on 喵ฅ^•ﻌ•^ฅ</description>
    <generator>Hugo -- gohugo.io</generator>
    <lastBuildDate>Wed, 02 Aug 2023 17:36:56 +0800</lastBuildDate><atom:link href="https://ruohai.wang/tags/%E6%8D%A1%E5%9E%83%E5%9C%BE/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>迅雷赚钱宝一代（WS1408）用USB转TTL工具刷机</title>
      <link>https://ruohai.wang/202308/ws1408-use-ttl-to-flash/</link>
      <pubDate>Wed, 02 Aug 2023 17:36:56 +0800</pubDate>
      
      <guid>https://ruohai.wang/202308/ws1408-use-ttl-to-flash/</guid>
      <description>前言 这是一篇图片比较多的文章。
前两天提到我在给ws1408刷机的时候，因为选择了完全擦除flash模式，导致无法再二次刷机，因为usb burning tool软件中无法识别到设备。虽然不重新刷机也能用，但垃圾佬手上的设备，不能刷机怎么行，必须刷。
然后就入手了usb转ttl的工具，快递一到就立刻动手给两台ws1408拆机用ttl工具重新线刷。
刷机过程的步骤和资料，都是从恩山论坛获取的。但恩山论坛上的各种内容比较分散，在这里就简单的汇总记录。
准备 有一个usb转ttl的转接头和杜邦线。我买的是一款CH340G型号的转接头，指路 → CH340G土豪金USB转TTL模块RS232转串口模块刷机升级小板送杜邦线 有了转接头以后，需要安装驱动。驱动程序在卖转接头的淘宝店就有提供下载。记得安装驱动时需要把转接头插到电脑上，要不然会一直提示驱动安装失败。 电脑已经安装了putty 拆机 要刷机，首先需要把ws1408的主板拆出来。
撕掉贴纸，卸掉螺丝，撬开外壳，再卸掉4颗螺丝。
取下主板保护盖，就可以看到主板了。到这里主板已经可以直接取下来。
到这里就完成拆机了。
刷机 先确定一下主板上ttl针脚的定义，从左往右编号1234，1是TX，2是GND，4是RX。
接下去要连接主板和转接头。主板的tx对应转接头的rx，主板gnd对应转接头的gnd，主板rx对应转接头tx。接好后，usb头插入电脑。
先打开电脑的设备管理，查看usb转接头的硬件名称，这里看到是COM3。
然后电脑上打开putty，连接类型选Serial，Serial line填COM3，Speed填115200。然后点击Open打开终端。
这个时候主板接电源通电，通电后putty终端会开始代码跑屏，立刻按下回车键暂停，然后在终端中输入update后敲回车键确认，此时终端中会显示进入了线刷模式。
到这一步，就可以在电脑上打开usb burning tool软件，导入镜像包，记得选择擦除flash选择普通擦除，然后点开始。
最后用双公头连接主板和电脑，usb burning tool就会检测到硬件，开始烧入固件。
到这里就大功告成了，用usb转ttl工具刷机结束~
😄</description>
    </item>
    
    <item>
      <title>赚钱宝二代（WS1508）直刷固件的初始化设置</title>
      <link>https://ruohai.wang/202308/ws1508-init-setup/</link>
      <pubDate>Tue, 01 Aug 2023 21:33:24 +0800</pubDate>
      
      <guid>https://ruohai.wang/202308/ws1508-init-setup/</guid>
      <description>前言 不知不觉进入8月了，生活就这么碌碌无为又怅然若失。
ws1508的可用固件分为三种：
nand直刷armbian u盘启动armbian u盘启动openwrt 其中nand直刷armbian方案，在刷入固件以后，并不是开箱即用，还需要做一些初始化设置，这里做一些记录。
nand直刷固件原帖指路：【赚钱宝2代 Armbian 直刷包】软件随便装，可以apt-get，可以挂甜糖～
初始化 首先就是重新调整分区大小
resize2fs /dev/data 因为原固件没有预装ntp，需要手动设置时区
timedatectl set-timezone Asia/Shanghai 再手动设置时间，为避免后续update出异常，这里要求时间比正确时间晚一天。比如今天是2023-08-01
timedatectl set-time 2023-07-31 换源/etc/apt/source.list，这里选择用清华的源。固件是debian 10（buster），默认不支持https，所以这里用http。如果想上https，在清华debian源页面有提供设置方法，可以自行查阅。
deb http://mirrors.tuna.tsinghua.edu.cn/debian/ buster main contrib non-free deb http://mirrors.tuna.tsinghua.edu.cn/debian/ buster-updates main contrib non-free deb http://mirrors.tuna.tsinghua.edu.cn/debian/ buster-backports main contrib non-free deb http://mirrors.tuna.tsinghua.edu.cn/debian-security buster/updates main contrib non-free 还是换源，这次是文件/etc/apt/source.list.d/armbian.list，依然用清华的，依然是http。
deb http://mirrors.tuna.tsinghua.edu.cn/armbian buster main buster-utils buster-desktop 然后就可以执行apt update更新软件仓库了。但更新的时候会报错public key is not available，一般缺失的两个公钥是0E98404D386FA1D9和6ED0E7B82643E131，这里需要用命令重新导入公钥。注意俩公钥的编号，需要根据实际报错的公钥编号来调整。
apt-key adv --keyserver hkp://keyserver.ubuntu.com:80 --recv 0E98404D386FA1D9 apt-key adv --keyserver hkp://keyserver.</description>
    </item>
    
    <item>
      <title>迅雷赚钱宝一代（WS1408）的OpenWrt可用源分享</title>
      <link>https://ruohai.wang/202307/ws1408-openwrt-use-guide/</link>
      <pubDate>Sun, 30 Jul 2023 23:58:50 +0800</pubDate>
      
      <guid>https://ruohai.wang/202307/ws1408-openwrt-use-guide/</guid>
      <description>前言 周末回了一趟乡下，耽误了搞机。😄
ws1408只有一版openwrt固件，没有armbian。但之前俩月我都在折腾armbian，对openwrt没啥经验，这里简单记录下这两天折腾openwrt的内容。
首先openwrt也是linux魔改，意味着除了webui之外，还以ssh连上用命令行操作。
其次，这里要着重讲一下，ws1408用usb burning tool软件刷openwrt固件的时候，
【擦除flash】选项选【普通擦除】，千万不要选【全部擦除】
选后者会导致机器变砖，或者导致机器刷成功以后无法再刷机，必须要用usb ttl工具。
换源 首先是ws1408的软件源配置，固件自带的源是supes.top，访问不稳定，先换掉。这里用ustc中科大的源。
src/gz openwrt_core http://mirrors.ustc.edu.cn/openwrt/releases/22.03.3/targets/at91/sama5/packages src/gz openwrt_base http://mirrors.ustc.edu.cn/openwrt/releases/22.03.3/packages/arm_cortex-a5_vfpv4/base src/gz openwrt_luci http://mirrors.ustc.edu.cn/openwrt/releases/22.03.3/packages/arm_cortex-a5_vfpv4/luci src/gz openwrt_packages http://mirrors.ustc.edu.cn/openwrt/releases/22.03.3/packages/arm_cortex-a5_vfpv4/packages src/gz openwrt_routing http://mirrors.ustc.edu.cn/openwrt/releases/22.03.3/packages/arm_cortex-a5_vfpv4/routing src/gz openwrt_telephony http://mirrors.ustc.edu.cn/openwrt/releases/22.03.3/packages/arm_cortex-a5_vfpv4/telephony 注意ws1408要选at91/sama5和arm_cortex-a5_vfpv4这俩硬件分支的源。至于为啥我也不清楚，实际用下来确实没问题，试着装了samba4，一切正常。
换源以后，就可以在webui中点击更新列表，如果web端操作依然报错，可以ssh进系统以后执行以下命令
opkg update </description>
    </item>
    
    <item>
      <title>迅雷赚钱宝一代（WS1408）可用固件分享</title>
      <link>https://ruohai.wang/202307/ws1408-firmware-share/</link>
      <pubDate>Fri, 28 Jul 2023 20:30:01 +0800</pubDate>
      
      <guid>https://ruohai.wang/202307/ws1408-firmware-share/</guid>
      <description>因为捡垃圾，手上有了两台赚钱宝一代，型号ws1408，接近10年龄的老机器了，硬件配置现在看来已经严重落伍。
但电子垃圾到了垃圾佬手上，但凡它还有一点点残余价值可以压榨，都不会把它丢进垃圾桶。
在恩山论坛一阵搜索以后，目前确定，ws1408能用的固件，只有openwrt。有线刷和u盘/tf卡卡刷两个版本。
openwrt可以装很多插件来实现qbittorrent、samba、ddns之类的功能，虽然百兆网口限制了用它当旁路由，但拿来当个samba文件共享服务器和下载机也是不错的。
因为原帖是要求回复可见固件获取地址，为了遵守社区规则，我这里只做帖子引路：
更新直刷包2023.03.27 赚钱宝1代WS1408 旁路由openwrt 22.03.3 内存卡或者U盘启动 线刷和卡刷两个版本都在这个帖子里下载。
这篇文章简单记录下线刷的注意事项：
双公头usb线 usb burning tool软件，最好是v2.1.6.8版本，因为其它版本存在一个bug，固件太大刷入成功后校验时间过长会直接跳任务失败 线刷的openwrt固件 update@2023/07/30：注意用usb burning tool软件刷机的时候，【擦除flash】一栏，务必选择【普通擦除】，不要选【完全擦除】。选后者会导致机器成砖，或者刷机成功以后下次刷机无法被usb burning tool软件识别，必须要上usb ttl工具。我踩坑了，已经下单usb ttl，各位准备刷机的朋友们注意。 实际刷机步骤注意事项：
机器先不要插usb线，我实测usb的供电会被这机器识别为通电，然后会自动开机 usb burning tool软件里选好固件，然后直接点击【开始】 用卡针捅进reset孔，并保持住 先插上usb线，如果识别为通电也无妨，usb burning tool会检测到硬件并开始刷机，如果未识别为通电，就正好插上电源 然后等usb burning tool完成刷机，提示成功以后拔usb线、拔电源。再捅上网线和电源，等开机，然后在路由器网关界面查看新增设备的ip，在浏览器中访问该ip即可。
线刷固件默认用户root，默认密码lanlan。
到此刷机完成，可以开始折腾卵路由，不是，软路由惹~
😄</description>
    </item>
    
    <item>
      <title>今天又捡了几个电子垃圾</title>
      <link>https://ruohai.wang/202307/i-picked-up-some-rubbish-today/</link>
      <pubDate>Fri, 28 Jul 2023 17:26:33 +0800</pubDate>
      
      <guid>https://ruohai.wang/202307/i-picked-up-some-rubbish-today/</guid>
      <description>今天收到了一个快递，是昨天在闲鱼上淘的几个电子垃圾：赚钱宝一代（ws1408）两个，赚钱宝二代（ws1508）两个。
感觉自己和迅雷赚钱宝系列磕上了。😄
一共4个设备，打包了网线和充电头，40块钱包邮，这个价格很难不让人心动啊！
赚钱宝一代ws1408 在恩山论坛搜了一下，这机器太老了而且硬件配置比二代ws1508更缩水
百兆网口，当旁路由都显得鸡肋 256MB的ram，😔 1GB nand flash rom，存储空间倒是给的很大方，但是受nand分区大小限制，最多只能识别80MB。 有1个tf卡槽 有一个usb2.0接口 目前能用的固件只有一版opewrt，支持直刷。下午尝试了刷机，都没啥难度，很快就刷上了openwrt。
那目前来看，ws1408的扩展可玩性的方案，就只能基于openwrt了。还好openwrt的可装的软件也挺多的，虽然灵活性上比不过armbian什么都能手搓，但总比没有固件要好。
赚钱宝二代ws1508 ws1508是老朋友了，之前已经30包邮收过两个，硬件配置：
百兆网口 usb2.0接口一个 nand flash，多少容量不记得了。但能直刷nand的固件最多只能识别4GB 512MB ram，比一代的内存容量翻倍 ws1508因为接口少了，所以可玩性差很多，唯一的usb2.0接口需要用来插启动u盘，导致没有任何扩展存储的可能。目前的玩法，刷armbian或者刷openwrt。
这次捡的俩ws1508里，有一个是emmc版本的，这算捡漏了，emmc版本有直刷固件，那一个金贵的usb2.0接口终于可以释放出来了。</description>
    </item>
    
  </channel>
</rss>
