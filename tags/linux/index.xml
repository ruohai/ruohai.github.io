<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Linux on å–µà¸…^â€¢ï»Œâ€¢^à¸…</title>
    <link>https://ruohai.wang/tags/linux/</link>
    <description>Recent content in Linux on å–µà¸…^â€¢ï»Œâ€¢^à¸…</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>en</language>
    <lastBuildDate>Tue, 25 Jul 2023 21:06:10 +0800</lastBuildDate><atom:link href="https://ruohai.wang/tags/linux/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>Linuxä¸‹udevilæ— æ³•è‡ªåŠ¨æŒ‚è½½exfatæ ¼å¼Uç›˜çš„é—®é¢˜è§£å†³</title>
      <link>https://ruohai.wang/202307/udevil-doesnt-amount-exfat-bugfix/</link>
      <pubDate>Tue, 25 Jul 2023 21:06:10 +0800</pubDate>
      
      <guid>https://ruohai.wang/202307/udevil-doesnt-amount-exfat-bugfix/</guid>
      <description>å‰è¨€ ä¹‹å‰æ–‡ç« æåˆ°è¿‡ï¼Œæˆ‘åœ¨linuxä¸‹ç”¨æ¥å®ç°uç›˜ã€ç§»åŠ¨ç¡¬ç›˜è‡ªåŠ¨æŒ‚è½½çš„æ–¹æ¡ˆæ˜¯udevilã€‚è¿™ä¸ªæ–¹æ¡ˆçš„å¥½å¤„æ˜¯å®‰è£…äº†udevilä»¥åï¼Œå‡ ä¹æ˜¯0é…ç½®ï¼Œéšä¾¿æ’ä»»ä½•uç›˜ã€ç§»åŠ¨ç¡¬ç›˜éƒ½å¯ä»¥è‡ªåŠ¨æŒ‚è½½ã€‚è€Œä¸”udevilçš„è½¯ä»¶åŒ…ä¾èµ–å…³ç³»éå¸¸ç®€å•ï¼Œä¸ä¼šå‡ºç°æœ¬ä½“å‡ ç™¾kbä½†æ˜¯éœ€è¦å‡ ä¸ªmbçš„ä¾èµ–åŒ…ã€‚
ä½†æ˜¯ä»Šå¤©ç¢°åˆ°äº†ä¸€ä¸ªbugï¼Œå°±æ˜¯udevilæ— æ³•è‡ªåŠ¨æŒ‚è½½exfatæ ¼å¼çš„uç›˜ï¼Œæ¢ext4ã€ntfséƒ½æ­£å¸¸ï¼Œåªæœ‰exfatä¸è¡Œã€‚
ç…§ä¾‹ä¸Šç½‘æœè§£å†³æ–¹æ¡ˆï¼Œæœ€ååœ¨å®˜æ–¹repoçš„issueé‡Œæ‰¾åˆ°äº†ã€‚
bugfix å…ˆè´´ä¸Šä¸¤ä¸ªè§£å†³æ–¹æ¡ˆçš„é“¾æ¥ï¼š
Udevil dont mount usb-stick (exfat fs) with linux kernel 5.5.3 udevil doesn&amp;rsquo;t mount exfat media å¯ä»¥ç•™æ„åˆ°å…¶ä¸­ä¸€ä¸ªissueçš„å‘å¸ƒæ—¶é—´æ˜¯2014å¹´ï¼Œä¹Ÿå°±æ˜¯ä»2014è‡³ä»Šï¼Œå¿«10å¹´çš„æ—¶é—´äº†ï¼Œè¿™ä¸ªbugéƒ½æ²¡æœ‰ä¿®å¤ã€‚
è§£å†³æ–¹æ¡ˆå°±æ˜¯ç¼–è¾‘udevilçš„é…ç½®æ–‡ä»¶ï¼Œè·¯å¾„/etc/udevil/udevil.confï¼Œæ‰¾åˆ°default optionsçš„é…ç½®å—ï¼Œå…¶ä¸­æœ‰ä¸€æ¡default_options_exfatè®°å½•ï¼ŒæŠŠè¿™æ¡è®°å½•ä¸­çš„noemptyå‚æ•°åˆ æ‰ï¼Œç„¶åé‡å¯udevilæœåŠ¡å³å¯ã€‚
ä¿®æ”¹å®Œä»¥åé‡å¯udevilæœåŠ¡ã€‚æ³¨æ„å‘½ä»¤ä¸­çš„jackæ”¹æˆè‡ªå·±linuxç³»ç»Ÿçš„ç”¨æˆ·è´¦æˆ·åã€‚
systemctl restart devmon@jack.service </description>
    </item>
    
    <item>
      <title>Linuxä½¿ç”¨ddå‘½ä»¤å…‹éš†ç£ç›˜ï¼ˆåˆ¶ä½œç³»ç»Ÿé•œåƒï¼‰</title>
      <link>https://ruohai.wang/202307/linux-use-dd-to-clone-disk/</link>
      <pubDate>Mon, 24 Jul 2023 06:57:22 +0800</pubDate>
      
      <guid>https://ruohai.wang/202307/linux-use-dd-to-clone-disk/</guid>
      <description>å‰è¨€ æœ€è¿‘ç»å¸¸ç©ç”µå­åƒåœ¾ï¼Œä¹‹å‰éƒ½æ˜¯åˆ·åˆ«äººåˆ¶ä½œå¥½çš„åˆå§‹ç³»ç»Ÿé•œåƒimgæ–‡ä»¶ï¼Œæ¯æ¬¡åˆ·æœºéƒ½è¦è¿›è¡Œä¸€äº›åŸºç¡€é…ç½®ï¼šæ›¿æ¢å›ºä»¶ä¸­çš„ä¸€äº›æ–‡ä»¶ã€è®¾ç½®è´¦æˆ·å’Œå¯†ç ã€æ”¹å›½å†…æºã€æ”¹sshé…ç½®ã€è£…åŸºç¡€è½¯ä»¶ã€‚
ä½†å› ä¸ºæˆ‘ç»å¸¸é‡åˆ·ï¼Œæ¯æ¬¡é‡åˆ·åˆè¦æŠŠä¸Šé¢æåˆ°çš„åŸºç¡€é…ç½®æµç¨‹èµ°ä¸€éï¼Œå°‘è¯´ä¹Ÿè¦åŠä¸ªå°æ—¶ã€‚é‡å¤äº†ä¸€æ¬¡åˆä¸€æ¬¡ä»¥åï¼Œæˆ‘è‚¯å®šè¦è€ƒè™‘è‡ªå·±åˆ¶ä½œé•œåƒæ–‡ä»¶äº†ï¼Œç±»ä¼¼æ—©å¹´çš„windows ghostï¼ŒæŠŠå®Œæˆäº†åŸºç¡€é…ç½®çš„ç³»ç»Ÿç›´æ¥åšæˆé•œåƒï¼Œä¸‹æ¬¡åˆ·æœºå°±ä¸ç”¨å†æ— æ„ä¹‰çš„é‡å¤äº†ã€‚
linuxä¸‹å®ç°è¿™ä¸ªåŠŸèƒ½ï¼Œç”¨ddå‘½ä»¤ã€‚
å‡†å¤‡å·¥ä½œ ç›®çš„æ˜¯å¤‡ä»½æ•´ä¸ªç³»ç»Ÿç›˜ å‡å®šç³»ç»Ÿç›˜æ˜¯/dev/sda è¦å¦ä¸€ä¸ªuç›˜æˆ–è€…ç§»åŠ¨ç¡¬ç›˜åšå¤‡ä»½ç›˜ï¼Œè¿™é‡Œå‡å®šå¤‡ä»½ç›˜ä¸º/dev/sdbã€‚ åˆ¶ä½œé•œåƒ ç¬¬ä¸€æ­¥ï¼šæ’ä¸Šå¤‡ä»½ç›˜ï¼Œç”¨å‘½ä»¤lsblkç¡®è®¤ç³»ç»Ÿç›˜å’Œå¤‡ä»½ç›˜çš„åç§°ï¼Œç³»ç»Ÿç›˜ä¸º/dev/sdaï¼Œå¤‡ä»½ç›˜ä¸º/dev/sdbã€‚
ç¬¬äºŒæ­¥ï¼šæŒ‚è½½å¤‡ä»½ç›˜åˆ°/mnt
mount /dev/sdb /mnt ç¬¬ä¸‰æ­¥ï¼šåˆ¶ä½œé•œåƒã€‚
dd if=/dev/sda of=/mnt/sda_bakcup.img è¿™æ˜¯æœ€ç®€å•çš„å¤‡ä»½æ–¹å¼ï¼Œä¸è€ƒè™‘ä»»ä½•å…¶å®ƒå‚æ•°ï¼ˆæ¯”å¦‚bså’Œcountï¼‰ï¼Œå°±æ˜¯1:1çš„å¤‡ä»½ï¼Œå¦‚æœç³»ç»Ÿç›˜æ˜¯2GBï¼ˆæŒ‡æ•´ä¸ªç›˜çš„å¤§å°ï¼Œä¸æ˜¯æŒ‡å·²ä½¿ç”¨çš„ç©ºé—´ï¼‰ï¼Œé‚£åˆ¶ä½œå‡ºæ¥çš„é•œåƒä¹Ÿå°±æ˜¯2GBã€‚
å¦‚æœæƒ³åˆ¶ä½œçš„é•œåƒæ˜¯å‹ç¼©åŒ…ï¼Œå‡å°‘å ç”¨ç©ºé—´ï¼Œè¿™é‡Œä»¥xzæ ¼å¼ä¸ºä¾‹
dd if=/dev/sda | xz &amp;gt; /mnt/sda_backup.img.xz ä¼˜åŒ– ddå‘½ä»¤å¯ä»¥é€šè¿‡å¢åŠ -bså’Œ-countæ¥ä¼˜åŒ–ä¼ è¾“é€Ÿåº¦å’Œé•œåƒå¤§å°ã€‚
å…ˆçœ‹ä¸‹bså’Œcountçš„å®šä¹‰ï¼š
bs=bytesï¼šåŒæ—¶è®¾ç½®è¯»å…¥/è¾“å‡ºçš„å—å¤§å°ä¸ºbytesä¸ªå­—èŠ‚ï¼Œå¯ä»¥åˆ†æˆibså’Œobsä¸¤ä¸ªå‚æ•°åˆ†åˆ«è®¾å®šè¯»å’Œå†™ã€‚
count=blocksï¼šä»…æ‹·è´blocksä¸ªå—ï¼Œå—å¤§å°ç­‰äºibsæŒ‡å®šçš„å­—èŠ‚æ•°
bsç”¨æ¥è®¾å®šæ¯æ¬¡è¯»å†™çš„æ•°æ®é‡ï¼Œè¯»å–æŒ‡å®šæ•°æ®é‡ä¸ºä¸€ä¸ªå—ï¼ˆblockï¼‰åˆ°ç¼“å­˜ï¼Œç„¶åä»ç¼“å­˜æŠŠæŒ‡å®šçš„æ•°æ®é‡å†™åˆ°å¤‡ä»½ç›˜ã€‚æ— è®ºæ˜¯uç›˜ã€hddè¿˜æ˜¯ssdï¼Œä¸€èˆ¬å¤§æ–‡ä»¶çš„è¿ç»­è¯»å†™é€Ÿåº¦éƒ½æ˜¯è¿œè¿œé«˜äºå°æ–‡ä»¶çš„éšæœºè¯»å†™ï¼Œæ‰€ä»¥è¿™ä¸ªå€¼å¯ä»¥è®¾ç½®çš„å¤§ä¸€äº›ã€‚ä½†ä¹Ÿè¦æ ¹æ®è‡ªå·±çš„å®é™…æƒ…å†µè°ƒæ•´ï¼Œæ¯”å¦‚å°æ–‡ä»¶ç‰¹åˆ«å¤šæ—¶ï¼Œå¯ä»¥åˆ†å¼€è®¾å®šè¯»çš„æ•°æ®é‡ï¼ˆibsï¼‰å’Œå†™çš„æ•°æ®é‡ï¼ˆobsï¼‰ï¼Œæ›´å¥½çš„ä¼˜åŒ–é€Ÿåº¦ã€‚
countç”¨æ¥è®¾å®šè¯»å–å¤šå°‘ä¸ªå—ï¼ˆblockï¼‰ä»¥ååœæ­¢è¯»å–ã€‚å¦‚æœè¿™ä¸ªå€¼ç•™ç©ºï¼Œå…¨ç›˜å…‹éš†æ—¶ï¼ŒåŸç›˜200Gï¼Œç”Ÿæˆçš„é•œåƒä¹Ÿæ˜¯200Gï¼Œæ‰€è°“1:1å¤åˆ¶ã€‚ä½†å…¶å®åªéœ€è¦å…‹éš†æ•°æ®å°±å¯ä»¥äº†ï¼Œæ²¡æœ‰ä½¿ç”¨çš„ç©ºç™½ç©ºé—´ä¸éœ€è¦å†™åˆ°é•œåƒé‡Œï¼Œæ¯”å¦‚200Gçš„ç›˜ï¼Œå®é™…åªä½¿ç”¨äº†8GBï¼Œå‡å®šbs=1Mï¼Œè®¡ç®—ä»¥åå¯å¾—countåº”è¯¥æ˜¯8192ï¼Œè€ƒè™‘åˆ°ç©ºé—´å†—ä½™ï¼Œå¯ä»¥è®¾å®šcount=9000ï¼Œé‚£ç”Ÿæˆçš„é•œåƒæ–‡ä»¶å°±æ˜¯9000Mï¼Œä¸ä¼šå‡ºç°æ— æ„ä¹‰çš„ç©ºç™½ç©ºé—´å ç”¨é•œåƒä½“ç§¯ã€‚
xzå‘½ä»¤å¯ä»¥é€šè¿‡-Tå¢åŠ çº¿ç¨‹æ•°ï¼Œé»˜è®¤æ˜¯1
å¢åŠ ä¸‰ä¸ªå‚æ•°ä»¥åçš„ä¾‹å­ï¼š
dd bs=1M count=1400 if=/dev/sda | xz -T3 &amp;gt; /mnt/ws1508-backup-20230724.img.xz â•®(â•¯â–½â•°)â•­
å‚è€ƒæ–‡ç«  1ï¼š https://www.runoob.com/linux/linux-comm-dd.html</description>
    </item>
    
    <item>
      <title>Linuxä¸‹ä»0å¼€å§‹éƒ¨ç½²WordPressï¼ˆä¸€ï¼‰</title>
      <link>https://ruohai.wang/202307/wordpress-installation-guide/</link>
      <pubDate>Sat, 22 Jul 2023 21:51:16 +0800</pubDate>
      
      <guid>https://ruohai.wang/202307/wordpress-installation-guide/</guid>
      <description>å‰è¨€ è™½ç„¶ä¸Šä¸€ç¯‡æ–‡ç« è¯´æˆ‘ç‚¸äº†ï¼Œå“¦ä¸æ˜¯ï¼Œæˆ‘æ‚Ÿäº†ï¼Œä»¥åä¸ç”¨linuxäº†ã€‚ä½†å¥ˆä½•æˆ‘è¿˜æœ‰å¥½å‡ ç¯‡è½¯ä»¶/æœåŠ¡çš„å®‰è£…è®°å½•æ²¡æœ‰å†™ï¼Œæ¯”å¦‚è¿™ç¯‡wordpressçš„éƒ¨ç½²å®‰è£…ã€‚
wordpressçš„å®‰è£…æ•™ç¨‹ç½‘ä¸Šå¤šå¦‚ç‰›æ¯›ï¼Œæœ¬æ¥ä¹Ÿä¸å·®æˆ‘è¿™ä¸€ç¯‡ã€‚ä½†æˆ‘åœ¨wordpressè¿™ä¸ªå‘ï¼Œä¸æ˜¯ï¼Œè¿™ä¸ªè½¯ä»¶ä¸Šè€½æäº†åå¤šå¹´ï¼Œæœ‰å¾ˆå¤§çš„åŸå› æ­£æ˜¯ç½‘ä¸Šçš„æ•™ç¨‹å¤šå¦‚ç‰›æ¯›ã€‚åå¤šå¹´å‰å¦‚æ­¤ï¼Œç°åœ¨ä¾ç„¶å¦‚æ­¤ã€‚
wordpresså®˜æ–¹æœ‰è‘—åçš„5åˆ†é’Ÿå®‰è£…æ•™ç¨‹ï¼Œä½†è¿™ä¸ªæ•™ç¨‹å‰ææ˜¯å·²ç»æ­å¥½äº†ç¯å¢ƒã€‚å¾ˆå¤šçƒ­å¿ƒç½‘å‹å†™äº†å¾ˆå¤šæ•™ç¨‹ï¼Œä½†å¤§éƒ¨åˆ†åœ¨è®°å½•çš„æ—¶å€™éƒ½çœç•¥äº†å¾ˆå¤šç»†èŠ‚ä¸”æ¯«æ— æ¡ç†ï¼Œæœ‰å¾ˆå¤šä¸€ä¸Šæ¥å°±è®©è£…å®å¡”é¢æ¿ã€è®©è£…xmappã€‚NOï¼Œè¿™äº›éƒ½ä¸æ˜¯æˆ‘æƒ³è¦çš„ï¼Œæˆ‘æƒ³è¦ä¸€ä¸ªä»ä¸€ä¸ªå¹²å‡€çš„linuxç³»ç»Ÿå¼€å§‹ä¸€æ­¥æ­¥è®°å½•çš„ï¼Œæˆ‘æƒ³è¦çš„æ˜¯ä¸€ä¸ªå°ç™½æŒ‰ç…§è¿™ç¯‡æ–‡ç« ä¸€æ­¥æ­¥æ“ä½œå°±èƒ½å®Œæˆæ­å»ºè‡ªå·±çš„wordpressã€‚
wordpressè¯´ç™½äº†å°±æ˜¯ä¸€ä¸ªphpç½‘ç«™æ¨¡æ¿ï¼Œæ—¢ç„¶æ˜¯ç½‘ç«™ï¼Œå°±éœ€è¦ä¸€äº›é…å¥—çš„æœåŠ¡ï¼Œç®€è€Œè¨€ä¹‹ï¼Œæ­å»ºwordpressï¼Œåˆ†ä¸º5ä¸ªæ­¥éª¤ï¼š
æœ‰ä¸€å°ä¸»æœºæˆ–vpsï¼ˆç³»ç»Ÿé€‰linuxï¼Œè¿™é‡Œä»¥debianä¸ºä¾‹ï¼‰ å®‰è£…web server(é€‰apache2) å®‰è£…æ•°æ®åº“ï¼ˆé€‰mariadbï¼‰ å®‰è£…php é…ç½®wordpress å› ä¸ºå†…å®¹æ¯”è¾ƒå¤šï¼Œæ‰€ä»¥å‡†å¤‡åˆ†æˆå‡ ç¯‡æ¥å†™ã€‚è¿™ç¯‡çš„ä¸»è¦å†…å®¹æ˜¯ï¼šapache2çš„å®‰è£…å’Œé…ç½®ã€‚
å‰æœŸå‡†å¤‡ æœ‰ä¸€å°linuxä¸»æœºï¼Œæˆ–è€…vpsã€‚è¿™é‡Œä»¥debianä¸ºä¾‹ã€‚
å®‰è£…apache2 web serverå¯é€‰nginxæˆ–è€…apache2ï¼Œè¿™é‡Œä»¥apache2ä¸ºä¾‹ã€‚
apt install apache2 ç­‰å‘½ä»¤è·‘å®Œä»¥åï¼Œåœ¨æµè§ˆå™¨ä¸­è®¿é—®ä¸»æœºçš„åœ°å€ï¼Œhttp://host-ipï¼Œçœ‹æ˜¯å¦æ˜¾ç¤ºapahce2çš„æ¬¢è¿é¡µé¢ã€‚
é»˜è®¤åˆ°è¿™ä¸€æ­¥å°±å®Œæˆäº†apache2çš„å®‰è£…ï¼Œä½†è¿™é‡Œæœ‰ä¸€äº›è¿›é˜¶å†…å®¹ï¼ˆå¦‚ä½•ä¿®æ”¹apache2é…ç½®æ–‡ä»¶ï¼‰ï¼Œå¦‚æœæ²¡æœ‰å…´è¶£çœ‹çš„è¯ï¼Œæ­å–œä½ ï¼Œä¸‹é¢å†…å®¹éƒ½ä¸ç”¨çœ‹äº†ï¼
è¿›é˜¶å†…å®¹ apache2çš„ç½‘ç«™æ ¹ç›®å½•é»˜è®¤è·¯å¾„æ˜¯/var/www/htmlï¼Œæœ‰å¾ˆå¤šæ•™ç¨‹ç¡®å®å°±ä¼šæŠŠwordpresså®‰è£…åˆ°è¿™ä¸ªç›®å½•ä¸‹ã€‚ä½†è¿™æœ‰ä¸¤ä¸ªé—®é¢˜ï¼Œä¸€ä¸ªæ˜¯æˆ‘æƒ³è‡ªå®šä¹‰ç½‘ç«™ç›®å½•æ–¹ä¾¿ç®¡ç†ï¼ˆå‡å®š/data/wordpressï¼‰ï¼ŒäºŒæ˜¯varç›®å½•ä¸‹æ¶‰åŠrootæƒé™ã€‚
è¦è‡ªå®šä¹‰ç½‘ç«™ç›®å½•ï¼Œå°±è¦ç¼–è¾‘apache2çš„é…ç½®æ–‡ä»¶ï¼Œè·¯å¾„/etc/apache2ï¼Œç›®å½•ç»“æ„å¦‚ä¸‹ï¼š
apache2.confæ˜¯æ€»é…ç½®æ–‡ä»¶ï¼Œä¸€èˆ¬ä¸åŠ¨ ç½‘ç«™é…ç½®æ–‡ä»¶æ”¾åœ¨siteså¼€å¤´çš„ä¸¤ä¸ªæ–‡ä»¶å¤¹ä¸‹ï¼Œå…¶ä¸­sites-availableæ˜¯å¯ç”¨çš„é…ç½®ï¼Œsites-enabledæ˜¯å®é™…ç”Ÿæ•ˆçš„é…ç½®ã€‚ sites-enabledé‡Œé¢çš„çš„é‚£ä¸ªé»˜è®¤æ–‡ä»¶000-default.confåªæ˜¯ä¸ªè½¯é“¾æ¥ï¼ŒçœŸå®æ–‡ä»¶åœ¨sites-available æ‰€ä»¥åˆç†çš„é…ç½®æ–¹æ³•æ˜¯ï¼šåœ¨sites-availableä¿®æ”¹æˆ–è€…ç›´æ¥æ–°å»ºï¼Œç„¶åæŠŠé…ç½®æ–‡ä»¶é€šè¿‡è½¯é“¾æ¥æ”¾åˆ°sites-enabledä½¿å…¶ç”Ÿæ•ˆ é‚£å°±å¼€å§‹é…ç½®å§ï¼è¿™é‡Œé€‰æ‹©åˆ æ‰é»˜è®¤çš„é‚£ä¸ª000æ–‡ä»¶ï¼Œæ–°å»ºwordpress.confï¼Œæ–¹ä¾¿è¾¨è®¤å’Œç®¡ç†ã€‚
# è¿›ç›®å½• cd /etc/apache2/sites-available # åˆ æ‰é»˜è®¤æ–‡ä»¶ rm 000-default.conf # åˆ›å»ºæ–°æ–‡ä»¶ nano wordpress.conf æ·»åŠ å¦‚ä¸‹å†…å®¹ï¼Œä¿å­˜åé€€å‡ºã€‚ç½‘ç«™é»˜è®¤80ç«¯å£ï¼Œç«¯å£è¦è‡ªå®šä¹‰çš„è¯æ”¹æ‰80ã€‚
&amp;lt;VirtualHost *:80&amp;gt; DocumentRoot /data/wordpress &amp;lt;Directory /data/wordpress&amp;gt; AllowOverride none Require all granted &amp;lt;/Directory&amp;gt; ErrorLog ${APACHE_LOG_DIR}/error.log CustomLog ${APACHE_LOG_DIR}/access.log combined &amp;lt;/VirtualHost&amp;gt; ç„¶ååˆ›å»ºè½¯é“¾æ¥
# è¿›ç›®å½• cd /etc/apache2/sites-enabled # åˆ›å»ºè½¯é“¾æ¥ ln -s .</description>
    </item>
    
    <item>
      <title>æˆ‘æ‚Ÿäº†~</title>
      <link>https://ruohai.wang/202307/i-boomed/</link>
      <pubDate>Sat, 22 Jul 2023 17:56:35 +0800</pubDate>
      
      <guid>https://ruohai.wang/202307/i-boomed/</guid>
      <description>ç¿»çœ‹äº†é—²é±¼æ¡åƒåœ¾çš„è®°å½•ï¼Œè¿˜æœ‰ç½‘å¿ƒäº‘çš„æ”¶ç›Šè®°å½•ï¼Œå¼€å§‹æŠ˜è…¾armbianåº”è¯¥æ˜¯ä»6æœˆ18å·å¼€å§‹ï¼Œä»Šå¤©æ˜¯7æœˆ22å·ï¼Œç®—èµ·æ¥ä¸€ä¸ªæœˆå¤š4å¤©ã€‚
ä½†ç»™æˆ‘çš„æ„Ÿè§‰æ˜¯æœ€è¿‘åŠå¹´ä¼¼ä¹éƒ½åœ¨æŠ˜è…¾armbian/debian/linuxã€‚
ä»Šå¤©åˆæ˜¯å‡†å¤‡åˆ·æœºï¼Œä½†ä¸æ˜¯ç»™ws1608åˆ·ï¼Œä¸æ˜¯ç»™ws1508åˆ·ï¼Œæ˜¯ç»™é—²ç½®äº†ä¸¤å¹´å¤šçš„intel nuc11pahi5åˆ·ï¼Œå‡†å¤‡åˆ·ä¸ªdebianã€‚
ä½†ä¸€ä¸‹åˆéƒ½åœ¨ç¿»è½¦ï¼Œä»ä¸­åˆ12ç‚¹å¼€å§‹ï¼Œç¿»è½¦åˆ°å‚æ™š5ç‚¹ï¼Œæ•´æ•´5ä¸ªå°æ—¶ã€‚ä¸€å¼€å§‹æ˜¯å¿˜è®°äº†ç»™x86åˆ·æœºçš„Uç›˜åªæ˜¯åšå¼•å¯¼ + ç³»ç»Ÿé•œåƒçš„ä½œç”¨ï¼Œä¸åƒarmbianå°ä¸»æœºé‚£æ ·uç›˜æ˜¯å¯åŠ¨ç›˜+ç³»ç»Ÿç›˜äºŒåˆä¸€ã€‚åæ¥æ˜¯debian netinstç‰ˆæœ¬åœ¨è£…æœºçš„æ—¶å€™å¿…é¡»è¦è”ç½‘ï¼Œè¿™æˆ‘èƒ½ç†è§£ï¼Œè€Œä¸”æˆ‘å·²ç»åœ¨è™šæ‹Ÿæœºé‡Œè£…è¿‡å¥½å¤šæ¬¡äº†ï¼Œè™½ç„¶è”ç½‘ä¸‹è½½è½¯ä»¶ç¡®å®æœ‰ç‚¹è€—æ—¶ï¼Œä½†ä¹‹å‰æ¯æ¬¡è€—æ—¶å¤§æ¦‚ä¹Ÿå°±5~20åˆ†é’Ÿå·¦å³ã€‚ä¸è¿‡ä¸‹åˆåœ¨nucä¸Šå®‰è£…çš„æ—¶å€™ï¼Œè”ç½‘ä¸‹è½½çš„é¢„è®¡æ—¶é—´ç«Ÿç„¶ç¦»è°±çš„è¦3~4å°æ—¶ç”šè‡³ä¸€åº¦å‡ºç°äº†å¤©ï¼ˆDï¼‰è¿™ä¸ªæ—¶é—´å•ä½ï¼Œå§æ§½æˆ‘æ˜æ˜å·²ç»é€‰æ‹©äº†å›½å†…ustcçš„é•œåƒç«™å•Šï¼Œé©¬å‹’æˆˆå£ã€‚å†ç„¶åæˆ‘ä¾ç„¶ç”¨netinstçš„é•œåƒå®‰è£…ä½†æ˜¯è¿™æ¬¡é€‰æ‹©ä¸é€‰é•œåƒç«™è€Œæ˜¯è·³è¿‡è¿™ä¸€æ­¥ï¼ç»“æœè¿˜æ²¡æ¥å¾—åŠç§°èµè‡ªå·±æœºæ™ºå°±è¢«debianæ‰“äº†è„¸ï¼Œç¦»çº¿å®‰è£…ä»¥åç«Ÿç„¶è¿open ssh serveréƒ½æ²¡æœ‰ï¼Œæ„æ€æ˜¯sshéƒ½æ²¡æ³•è¿ã€‚æ—¢ç„¶netinstç‰ˆç¿»è½¦ï¼Œæˆ‘æ¢å®Œæ•´ç‰ˆå§ï¼Œå®Œæ•´ç‰ˆï¼ˆdvdï¼‰çš„ä½“ç§¯ç«Ÿç„¶è¾¾åˆ°äº†æƒŠäººçš„3.7GBã€‚ä½œä¸ºdebianè¡ç”Ÿçš„ubuntu serveræ‰1.7Gå•Šã€‚æˆ‘ä¼°è®¡å®Œæ•´ç‰ˆé‡Œåº”è¯¥æ˜¯å¡äº†æ‰€æœ‰çš„æ¡Œé¢ç¯å¢ƒå§ã€‚
åˆ°è¿™ä¸€åˆ»æˆ‘å¯¹debiançš„åŒæ¶å·²ç»è¾¾åˆ°äº†é¡¶å³°ï¼Œä¸ºä»€ä¹ˆè¦æœ‰å¿…é¡»è”ç½‘å®‰è£…çš„netinstç‰ˆï¼Œä¸ºä»€ä¹ˆå®Œæ•´ç‰ˆè¦å¡é‚£ä¹ˆå¤šä¸œè¥¿è¿›å»ï¼Œä¸ºä»€ä¹ˆä¸èƒ½åƒubuntué‚£æ ·åˆ†å‡ºå„ç§flavorçš„å•ç‹¬å®‰è£…åŒ…å’Œå•ç‹¬çš„serverç‰ˆæœ¬ã€‚é©¬å‹’æˆˆå£ã€‚
(â•¯â€µâ–¡â€²)â•¯ï¸µâ”»â”â”»
ç„¶åæˆ‘è§‰å¾—è‡ªå·±æ‚Ÿäº†ï¼ˆi boomedï¼‰ï¼Œè·å¾—äº†inner peaceã€‚æˆ‘æ‹†æ‰äº†nucå’Œå®ƒç¡•å¤§ç¬¨é‡çš„ç”µæºé€‚é…å™¨ï¼Œé‡æ–°è£…è¿›åŒ…è£…ç›’ï¼Œæ‹†æ‰äº†æ˜¾ç¤ºå™¨ï¼Œæ‹†æ‰äº†ws1508ï¼Œåˆ æ‰äº†è™šæ‹Ÿæœºé‡Œçš„debianï¼Œé‡ç½®äº†vpsä¸Šçš„debianï¼ŒæŠŠå„ç§çº¿ç¼†ç»•å¥½å†ç”¨æ†æ‰å¸¦é‚¦å¥½ç»Ÿç»Ÿæ”¾è¿›æ”¶çº³ç®±ã€‚
åªä¿ç•™äº†ä¸€å°ws1608å½“ä½œqbitä¸‹è½½æœºå™¨å’Œsambaæ–‡ä»¶æœåŠ¡å™¨ã€‚
çœ‹äº†ä¸‹æ—¶é—´ï¼Œ7æœˆ22å·ã€‚
ä¸ç©linuxäº†ã€‚</description>
    </item>
    
    <item>
      <title>Linuxä¸‹user is not in the sudoers fileé—®é¢˜çš„è§£å†³</title>
      <link>https://ruohai.wang/202307/linux-sudo-previlege-error-fix/</link>
      <pubDate>Sat, 22 Jul 2023 01:52:09 +0800</pubDate>
      
      <guid>https://ruohai.wang/202307/linux-sudo-previlege-error-fix/</guid>
      <description>å‰è¨€ æœ€è¿‘linuxä½¿ç”¨çš„è¶Šæ¥è¶Šé¢‘ç¹ï¼Œå¯¹ç”¨æˆ·ã€ç»„ã€æƒé™å¼€å§‹æ…¢æ…¢å¤šäº†ä¸€äº›äº†è§£ï¼Œæ…¢æ…¢å°±ä»ä¹‹å‰rootä¸€æŠŠæ¢­æ”¹æˆç”¨ç¦æ‰rootç™»å½• + ä½æƒé™è´¦å·é…åˆsudoè¿›è¡Œç³»ç»Ÿç®¡ç†ã€‚
ä½†è¿™æ ·è°¨æ…çš„æ“ä½œçš„æ—¥å¸¸ä½¿ç”¨ä¸­ç¢°åˆ°äº†ä¸€äº›é—®é¢˜ï¼Œæ¯”å¦‚åœ¨vpså’Œè‡ªå·±çš„è™šæ‹Ÿæœºä¸Šå®‰è£…debianæ—¶ï¼Œä»rootåˆ‡æ¢åˆ°ä½æƒé™è´¦æˆ·ï¼ˆå‡å®šæ˜¯jackï¼‰ï¼Œç”¨sudoä¼šæç¤ºjack is not in the sudoers fileï¼Œç”šè‡³åœ¨rootè´¦å·ä¸‹ä¹Ÿä¼šæç¤ºsudo: command not foundã€‚
è¿™ç§æƒ…å†µä¹‹ä¹‹å‰åœ¨ç”¨ubuntuå’Œarmbiançš„æ—¶å€™æ²¡è§è¿‡å•Šï¼Œæœäº†ä¸€äº›è§£å†³æ–¹æ¡ˆï¼Œè¿™é‡Œåšç®€å•è®°å½•ã€‚
æŠ¥é”™ï¼šsudo: command not found è¿™ä¸ªæŠ¥é”™é€šå¸¸æƒ…å†µä¸‹æ˜¯å› ä¸ºsudoæ²¡æœ‰å®‰è£…ã€‚è®²çœŸæˆ‘ä¹Ÿç”¨è¿‡å¥½å¤šlinuxå‘è¡Œç‰ˆï¼ˆåœ¨è™šæ‹Ÿæœºé‡Œç®€å•ä½“éªŒï¼‰ï¼Œè¿™è¿˜æ˜¯ç¬¬ä¸€æ¬¡è§åˆ°è¿sudoéƒ½æ²¡è£…çš„ã€‚
apt install sudo æŠ¥é”™ï¼šjack is not in the sudoers file ç½‘ä¸Šæœ‰ä¸€äº›åŠ£è´¨çš„æ–‡ç« é‡Œè¯´è¿™ä¸ªæŠ¥é”™çš„è§£å†³æ–¹æ¡ˆæ˜¯åœ¨/etc/sudoersåŠ ä¸€æ¡ã€‚
jack ALL=(ALL:ALL) ALL NOï¼Œä¸æ˜¯è¿™ä¹ˆæ”¹çš„ã€‚ä¸æ˜¯ç›´æ¥ç»™ç”¨æˆ·æˆæƒï¼Œè€Œæ˜¯ç»™sudoç»„æˆæƒï¼Œé€šè¿‡sudoå‘½ä»¤æ¥è®©ä½æƒé™ç”¨æˆ·ä¸´æ—¶ä½¿ç”¨rootæƒé™ã€‚
å…ˆç¡®è®¤/etc/sudoersé…ç½®æ–‡ä»¶é‡Œæœ‰æ²¡æœ‰è¿™ä¸€æ¡ï¼Œæ²¡æœ‰å°±åŠ ä¸Šå»ï¼Œä¿å­˜é€€å‡ºã€‚
%sudo ALL=(ALL:ALL) ALL ç„¶åæ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼ŒæŠŠç”¨æˆ·jackæ·»åŠ åˆ°sudoç»„ã€‚
usermod -aG sudo jack åˆ°è¿™é‡Œå°±å®Œæˆé…ç½®äº†ã€‚é»˜è®¤jackæ˜¯ä½æƒé™è´¦æˆ·ï¼Œéœ€è¦rootæƒé™æ—¶é€šè¿‡åŠ sudoå‘½ä»¤æ¥æˆæƒã€‚</description>
    </item>
    
    <item>
      <title>è¿™ä¸ª10å¤šå¹´çš„å‘æˆ‘ä»Šå¤©ç»ˆäºæŠŠä»–è¶Ÿå¹³äº†~</title>
      <link>https://ruohai.wang/202307/wordpress-i-nailed-it/</link>
      <pubDate>Fri, 21 Jul 2023 22:10:19 +0800</pubDate>
      
      <guid>https://ruohai.wang/202307/wordpress-i-nailed-it/</guid>
      <description>è¯´èµ·æ¥å¤§å­¦çš„æ—¶å€™å°±æƒ³è‡ªå·±æŠ˜è…¾wordpressäº†ï¼Œä½†æ¯•ç«Ÿä¸æ˜¯è®¡ç®—æœºä¸“ä¸šï¼Œç½‘ä¸Šçš„æ•™ç¨‹æœäº†å¥½å‡ å¤©ï¼Œä»vpsåˆ°åŸŸåï¼Œä»ç¯å¢ƒæ­å»ºåˆ°å‚æ•°é…ç½®ï¼Œå„ç§wordpressäº”åˆ†é’Ÿæ•™ç¨‹ç¢ç£¨äº†å¥½å‡ å¤©ï¼Œæ„£æ˜¯æ²¡ææ˜ç™½ã€‚
è¿™ä»¶äº‹å°±è¿™ä¹ˆæç½®äº†ï¼Œä¸€æç½®å°±æ˜¯è¿™ä¹ˆå¤šå¹´ã€‚å› ä¸ºä¹‹å‰å—çš„æŠ˜ç£¨ç»™æˆ‘ç•™ä¸‹çš„å¤ªæ·±çš„ä¼¤å®³ï¼Œæ‰€ä»¥ä¹‹åå†å¼„åšå®¢ï¼Œé€‰hexoé€‰typechoé€‰hugoæˆ‘éƒ½ä¸ä¼šå»é€‰wordpressã€‚
ä½†ä»Šå¤©å¿ƒè¡€æ¥æ½®ï¼Œå‡†å¤‡æŠŠè¿™ä¸ªå‘å¡«äº†ã€‚
è¯´æ¥æƒ­æ„§ï¼Œè™½ç„¶è¿™äº›å¹´ä¸­é—´æˆ‘ä¹Ÿè½¬è¡Œå½“äº†å‡ å¹´æ°´è´§ç¨‹åºå‘˜ï¼ˆjava webï¼‰ï¼Œä½†ä»Šå¤©å¼„wordpressï¼Œåå¤šå¹´å‰çš„é‚£ç§èŒ«ç„¶æ— æªçš„æ„Ÿè§‰å†ä¸€æ¬¡ä½“éªŒåˆ°äº†ã€‚
ä½†æ˜¯ç°åœ¨ï¼Œright nowï¼Œæˆ‘æå®šå®ƒäº†~
æ˜å¤©æˆ‘å°±å†™ä¸€ç¯‡ã€ä»0å¼€å§‹åŠ¨æ‰‹æ“ä¸€ä¸ªwordpressç½‘ç«™ã€‘çš„æ•™ç¨‹ï¼Œè¦ä¸ºwordpressçš„å®‰è£…æ•™ç¨‹æ­£æœ¬æ¸…æºï¼è®©å®Œå…¨æ²¡æœ‰ç¼–ç ç»éªŒçš„å°ç™½ä¹Ÿå¯ä»¥æŒ‰éƒ¨å°±ç­çš„å®Œæˆæ­å»ºï¼
ğŸ˜„</description>
    </item>
    
    <item>
      <title>Linuxä¸‹CIFSè®¾ç½®å¼€æœºè‡ªåŠ¨æŒ‚è½½smbå…±äº«æ–‡ä»¶å¤¹</title>
      <link>https://ruohai.wang/202307/cifs-auto-mount-at-linux-start-up/</link>
      <pubDate>Fri, 21 Jul 2023 00:37:06 +0800</pubDate>
      
      <guid>https://ruohai.wang/202307/cifs-auto-mount-at-linux-start-up/</guid>
      <description>å‰è¨€ å‰ä¸¤å¤©å†™è¿‡ä¸€ç¯‡ç”¨cifsæŒ‚è½½smbå…±äº«æ–‡ä»¶å¤¹çš„æ–‡ç« ï¼Œä½†é‚£ç¯‡æ–‡ç« ä¸­å¤šæœ‰ç–æ¼ï¼Œæœ¬æ¥ç›´æ¥åœ¨é‚£ç¯‡æ–‡ç« ä¸­updateè¡¥æ¼ä¿®æ­£å°±è¡Œï¼Œä½†æœ€è¿‘æ‡’äº†ï¼Œç›´æ¥æ‹©é‡ç‚¹é‡å†™ä¸€ç¯‡ã€‚
linuxæŒ‚è½½smbå…±äº«æ–‡ä»¶å¤¹æ¶‰åŠåˆ°å¾ˆå¤šæƒé™åˆ†é…çš„è®¾ç½®ï¼Œæ¯”å¦‚smbæœåŠ¡ç«¯è®¾ç½®çš„ç”¨æˆ·å’Œç»„ã€æœ¬åœ°åˆ†é…çš„ç”¨æˆ·å’Œç»„ã€æ˜¯ä¸æ˜¯æŒ‡å®šæ–‡ä»¶å’Œæ–‡ä»¶å¤¹çš„é»˜è®¤æƒé™ã€‚å¦‚æœå®åœ¨æä¸æ¸…ï¼Œé‚£å°±ç›´æ¥root:rootå’Œ0777ä¸€æŠŠæ¢­ï¼Œä½†åƒä¸‡è€Œä¸”ä¸€å®šè¦æ„è¯†åˆ°rootå’Œ0777çš„æ½œåœ¨é£é™©ã€‚
è®¾å®š æ³¨æ„ä¸‹é¢å‡ºç°çš„é…ç½®æ–‡ä»¶ä¸­çš„ipåœ°å€ã€ç”¨æˆ·åã€ç»„åã€å¯†ç éƒ½è¦æ ¹æ®è‡ªå·±çš„æƒ…å†µåšä¿®æ”¹ã€‚ğŸ˜„
è®¾å®šæœ¬åœ°ç”¨æˆ·éƒ½æ˜¯jackï¼Œæ‰€å±çš„ç»„æ˜¯jack-group è®¾å®šçš„smbå…±äº«æ–‡ä»¶å¤¹çš„è®¿é—®åœ°å€æ˜¯//192.168.1.1/shareï¼Œè®¿é—®ç”¨æˆ·smbï¼Œè®¿é—®å¯†ç 123456 è®¾å®šæœ¬åœ°æŒ‚è½½smbå…±äº«æ–‡ä»¶å¤¹çš„è·¯å¾„æ˜¯/mnt/share æŒ‚è½½ linuxä¸‹å®‰è£…cifs-utilsåï¼ŒæŒ‚è½½å±€åŸŸç½‘smbå…±äº«æ–‡ä»¶å¤¹ï¼Œæ³¨æ„-oå‚æ•°ä¸­åˆ«å¿˜è®°åŠ ä¸Šiocharset=utf8ä»¥é¿å…ä¸­æ–‡ä¹±ç çš„é—®é¢˜ã€‚
mount -t cifs //192.168.1.1/share /mnt/share -o username=smb,password=123456,iocharset=utf8 å–æ¶ˆæŒ‚è½½
umount /mnt/share å¼€æœºè‡ªåŠ¨æŒ‚è½½ ç¼–è¾‘/etc/fstabæ–‡ä»¶ï¼Œæ·»åŠ ä¸€è¡Œï¼š
//192.168.1.1/share /mnt/share cifs credentials=/home/jack/.cifs_creds,file_mode=0755,dir_mode=0755,iocharset=utf8,uid=jack,gid=jack&amp;#39;s_group 0 0 æ³¨æ„ï¼š
smbè®¿é—®è´¦æˆ·çš„ç”¨æˆ·åå’Œå¯†ç ï¼Œå»ºè®®å•ç‹¬æ–°å»ºä¸€ä¸ªæ–‡ä»¶æ¥ä¿å­˜è€Œä¸æ˜¯æ˜æ–‡å†™åœ¨fstabã€‚æˆ‘è¿™é‡Œæ–°å»º/home/jack/.cifs_credsã€‚è®¤è¯æ–‡ä»¶çš„æ ¼å¼å¦‚ä¸‹ï¼š username=smb password=123456 # ä¸‹é¢è¿™ä¸€æ å¯ä»¥ä¸è¦ domain=WORKGROUP domainä¸€æ å¯é€‰ï¼Œä¸å¡«çš„è¯ç³»ç»Ÿä¼šè‡ªåŠ¨çŒœï¼ˆæ„å‘³ç€çŒœä¸ä¸­å°±æ— æ³•æŒ‚è½½ï¼‰ï¼Œä¸€èˆ¬é»˜è®¤éƒ½æ˜¯WORKGROUP uid=jack,gid=jack&#39;s_groupï¼Œè¿™æ˜¯æŒ‡å®šæŒ‚è½½çš„smbå…±äº«æ–‡ä»¶å¤¹çš„æœ¬åœ°ç”¨æˆ·å’Œç»„åˆ†é…ç»™è°ã€ç»™å“ªä¸ªç»„ï¼Œå¦‚æœæ²¡æœ‰æŒ‡å®šuidå’Œgidï¼Œé»˜è®¤å°±æ˜¯root:rootã€‚ file_mode=0755,dir_mode=0755ï¼Œè¿™ä¿©å¾ˆå¥½ç†è§£ï¼Œæ–‡ä»¶çš„æƒé™å’Œæ–‡ä»¶å¤¹çš„æƒé™ï¼Œ0755ä»€ä¹ˆæ„æ€ä¸å†èµ˜è¿°ï¼Œä¸æ‡‚å¾—è¯0777ä¸€æŠŠæ¢­ã€‚ iocharset=utf8ç”¨æ¥å¤„ç†ä¸­æ–‡ä¹±ç é—®é¢˜ ç¼–è¾‘å®Œ/etc/fstabï¼Œæ‰§è¡Œä»¥ä¸‹å‘½ä»¤ä½¿é…ç½®ç”Ÿæ•ˆï¼š
# é‡è½½ systemctl daemon-reload # é‡æ–°æŒ‚è½½ mount -a OKï¼Œå¤§åŠŸå‘Šæˆ~
ğŸ˜„</description>
    </item>
    
    <item>
      <title>LinuxæŠ¥é”™Read-only file systemçš„é—®é¢˜å¤„ç†</title>
      <link>https://ruohai.wang/202307/linux-read-only-filesystem-bugfix/</link>
      <pubDate>Wed, 19 Jul 2023 17:35:02 +0800</pubDate>
      
      <guid>https://ruohai.wang/202307/linux-read-only-filesystem-bugfix/</guid>
      <description>å‰è¨€ åæ§½å®Œèµšé’±å®äºŒä»£ï¼ˆws1508ï¼‰çš„é¸¡è‚‹é…ç½®ä»¥åï¼Œä»Šå¤©è¿˜æ˜¯ä¸å¤ªç”˜å¿ƒï¼Œæƒ³æ¥æƒ³å»ï¼Œæœ€åç»™å®ƒåˆ·äº†æ”¯æŒnandçš„é‚£ç‰ˆå›ºä»¶ï¼ŒåŸºäºdebian 10ï¼ˆbusterï¼‰ï¼Œå†…æ ¸3.10ã€‚
è¿™ç‰ˆå›ºä»¶æœ‰å¾ˆå¤šå…ˆå¤©ä¸è¶³ï¼š
å†…æ ¸å¤ªè€ åªèƒ½è¯†åˆ«4GBçš„nandå­˜å‚¨ç©ºé—´ï¼ˆè™½ç„¶æˆ‘ä¿©æœºå™¨çš„åŒ…è£…ç›’ä¸Šéƒ½æ ‡äº†32GBçš„nandå­˜å‚¨ï¼‰ debian 10ï¼ˆbusterï¼‰å·²ç»EOLï¼Œæºä»“åº“å·²ç»ä¸å†æ›´æ–°ï¼Œé‡Œé¢çš„åŒ…éƒ½å¤ªè€äº† ä½†å¦‚æœèƒ½æ¥å—ä»¥ä¸Šè¿™äº›ç¼ºç‚¹ï¼Œä¼¼ä¹ä¹Ÿç®—æ˜¯ä¸€ä¸ªä¸é”™çš„é€‰æ‹©ã€‚æ¯•ç«Ÿé‚£ä¸ªçè´µçš„usb2.0æ¥å£éœ€è¦ç”¨æ¥å¤–æŒ‚æ•°æ®ç›˜ã€‚
è£…sambaæµ‹è¯•äº†ä¸€ä¸‹ï¼Œå¯ä»¥è·‘æ»¡ç™¾å…†å¸¦å®½ï¼Œä¹Ÿä¸ä¼šå‡ºç°ç¼“å­˜å†™æ»¡ä»¥åå¡ioå¯¼è‡´ç³»ç»Ÿå‡æ­»çš„é—®é¢˜ã€‚ä½†å°±ç®—è·‘æ»¡äº†ç™¾å…†ä¹Ÿå°±10~12MB/sè€Œå·²ï¼Œä¸å ªå¤§ç”¨ã€‚
ä½†æ˜¯ æ²¡é”™ï¼Œé‡ç‚¹æ¥äº†ï¼Œç³»ç»Ÿç›´åˆ·nandï¼Œæˆ‘ä½“éªŒäº†2å¤©ä»¥åï¼Œæœ€å¤§çš„é—®é¢˜æ˜¯ï¼šnandå¾ˆå®¹æ˜“å‡ºç°åå—ï¼ï¼ï¼ï¼
è¿™ä¸ªé—®é¢˜éå¸¸è‡´å‘½ï¼Œå½“ç³»ç»Ÿæ£€æµ‹åˆ°nandåå—ä»¥åä¼šæŠ¥é”™errorsï¼Œç„¶åè¿™ç‰ˆå›ºä»¶/etc/fstabé…ç½®çš„æŒ‚è½½å‚æ•°ä¸­ï¼Œæœ‰ä¸€ä¸ªerrors=remount-roï¼Œä¹Ÿå°±æ„å‘³ç€ä¸€æ—¦ä½¿ç”¨è¿‡ç¨‹ä¸­ç¢°åˆ°åå—çš„blockï¼Œæ•´ä¸ªç³»ç»Ÿç«‹åˆ»å°±ä¼šé‡æ–°æŒ‚è½½ä¸ºåªè¯»ï¼ˆreadonlyï¼‰æ¨¡å¼ä¿æŠ¤æ•°æ®ã€‚
è€Œèµšé’±å®äºŒä»£è¿™ç©æ„æ˜¯2015~2016å¹´çš„è®¾å¤‡ï¼Œäº§å“å®šä½å°±æ˜¯ä¸ºäº†è·‘pdcnï¼Œè‡³å°‘æ˜¯7å¹´çš„è€çŸ¿æœºäº†ï¼Œnandå‡ºç°åå—å‡ ä¹æ˜¯å¿…ç„¶ã€‚
è§£å†³æ–¹æ¡ˆ ç³»ç»Ÿç›˜è¿›å…¥åªè¯»ä¿æŠ¤æ¨¡å¼ä»¥åï¼Œä»»ä½•å†™æ“ä½œéƒ½ä¼šæŠ¥é”™ï¼Œæç¤ºå¦‚ä¸‹ï¼š
Read-only file system è§£å†³åŠæ³•å°±æ˜¯æ–‡ä»¶ç³»ç»Ÿä¿®å¤ã€‚å…ˆç”¨df -hTæŸ¥çœ‹æ ¹ç›®å½•æŒ‚è½½çš„åˆ†åŒºå’Œæ ¼å¼ã€‚
Filesystem Type Size Used Avail Use% Mounted on udev devtmpfs 231M 0 231M 0% /dev tmpfs tmpfs 48M 4.0M 44M 9% /run /dev/data ext4 2.8G 795M 1.9G 30% / tmpfs tmpfs 238M 0 238M 0% /dev/shm tmpfs tmpfs 5.0M 0 5.0M 0% /run/lock tmpfs tmpfs 238M 0 238M 0% /sys/fs/cgroup tmpfs tmpfs 238M 4.</description>
    </item>
    
    <item>
      <title>Linuxæ›´æ–°æºæ—¶æç¤ºthe public key is not availableé—®é¢˜è§£å†³</title>
      <link>https://ruohai.wang/202307/apt-update-public-key-error/</link>
      <pubDate>Mon, 17 Jul 2023 15:02:31 +0800</pubDate>
      
      <guid>https://ruohai.wang/202307/apt-update-public-key-error/</guid>
      <description>æ‰‹ä¸Šçš„èµšé’±å®äºŒä»£ï¼ˆws1508ï¼‰å°è¯•åˆ·å…¥äº†ã€å”¯ä¸€ä¸€ä¸ªæ”¯æŒnand flashçš„ç‰ˆæœ¬ã€‘ï¼Œè¿™ç‰ˆå›ºä»¶æ˜¯åŸºäºdebian10/busterï¼Œå†…æ ¸3.10ï¼Œä¸è®ºæ˜¯debianç‰ˆæœ¬è¿˜æ˜¯å†…æ ¸éƒ½æ¯”è¾ƒè€ã€‚
åˆ·å…¥ç³»ç»Ÿï¼Œå¯åŠ¨æˆåŠŸä»¥åï¼Œæ ¹æ®å¸–å­å†…å®¹è¿›è¡Œäº†ç®€å•çš„åŸºç¡€é…ç½®ï¼Œç„¶åæ“ä½œapt updateï¼Œå¾ˆå¿«å°±å‡ºç°äº†é”™è¯¯æç¤ºã€‚
Err:4 http://mirrors.ustc.edu.cn/debian buster-backports InRelease The following signatures couldn&amp;#39;t be verified because the public key is not available: NO_PUBKEY 0E98404D386FA1D9 NO_PUBKEY 6ED0E7B82643E131 Reading package lists... Done W: GPG error: http://mirrors.ustc.edu.cn/debian buster-backports InRelease: The following signatures couldn&amp;#39;t be verified because the public key is not available: NO_PUBKEY 0E98404D386FA1D9 NO_PUBKEY 6ED0E7B82643E131 E: The repository &amp;#39;http://mirrors.ustc.edu.cn/debian buster-backports InRelease&amp;#39; is not signed. N: Updating from such a repository can&amp;#39;t be done securely, and is therefore disabled by default.</description>
    </item>
    
    <item>
      <title>Linuxä¸‹å®‰è£…DDNS-GO</title>
      <link>https://ruohai.wang/202307/ddns-go-install/</link>
      <pubDate>Mon, 17 Jul 2023 00:24:52 +0800</pubDate>
      
      <guid>https://ruohai.wang/202307/ddns-go-install/</guid>
      <description>å‰è¨€ æ²¡æœ‰å‰è¨€ï¼Œæ‡’å¾—å†™äº†ã€‚
DDNS-GOå®˜æ–¹github repoæŒ‡è·¯ï¼šhttps://github.com/jeessy2/ddns-go
ä¸‹è½½ åœ¨ç³»ç»Ÿé‡Œåˆ›å»ºå®‰è£…ç›®å½•
mkdir -p /usr/local/ddns-go æ ¹æ®è‡ªå·±çš„ç¡¬ä»¶å¹³å°ä¸‹è½½å¯¹åº”ç‰ˆæœ¬çš„å®‰è£…åŒ…ã€‚æˆ‘çš„è®¾å¤‡ä¾ç„¶æ˜¯å®ƒï¼Œèµšé’±å®äºŒä»£ï¼ˆws1508ï¼‰ï¼Œarmv7ã€‚
# è¿›ç›®å½• cd /usr/local/ddns-go # ä¸‹è½½ wget https://github.com/jeessy2/ddns-go/releases/download/v5.3.7/ddns-go_5.3.7_linux_armv7.tar.gz # è§£å‹ tar -zxvf ddns-go_5.3.7_linux_armv7.tar.gz è¿è¡Œ è§£å‹ä»¥åå¾—åˆ°çš„ddns-goé»˜è®¤å°±æœ‰æ‰§è¡Œæƒé™ï¼Œæ‰€ä»¥ç›´æ¥./ddns-goå°±å¯ä»¥è·‘èµ·æ¥äº†ã€‚ä½†æˆ‘ä»¬è‚¯å®šæ˜¯è¦æŠŠæ·»åŠ åˆ°systemdæœåŠ¡ï¼Œå¹¶è®¾ç½®å¼€æœºè‡ªå¯çš„ã€‚
# æ–°å»ºæœåŠ¡æ–‡ä»¶ nano /etc/systemd/system/ddns-go.service ç²˜è´´ä»¥ä¸‹å†…å®¹
[Unit] Description=The DDNS-GO Process Manager After=network.target [Service] Type=simple ExecStart=/usr/local/ddns-go/ddns-go -c /usr/local/ddns-go/ddns_go_config.yaml ExecStop=/bin/killall ddns-go [Install] WantedBy=multi-user.target ç„¶åå°±æ˜¯å¤§å®¶éƒ½å–œæ¬¢çš„systemd reload/start/enableä¸‰æ¿æ–§äº†ã€‚
# é‡è½½ systemctl daemon-reload # å¯åŠ¨ systemctl start ddns-go.service # å¼€æœºå¯åŠ¨ systemctl enable ddns-go.service é…ç½® ddns-goè·‘èµ·æ¥ä»¥åï¼Œé»˜è®¤ç«¯å£æ˜¯9876ï¼Œæ‰“å¼€æµè§ˆå™¨ï¼Œè®¿é—®http://host-ip:9876ï¼Œå°±è¿›å…¥ddns-goçš„webuiäº†ï¼Œä¹‹åå°±æ ¹æ®è‡ªå·±çš„éœ€æ±‚è¿›è¡Œé…ç½®ã€‚</description>
    </item>
    
    <item>
      <title>Linuxä¸‹ç”¨Nginxç»™qBittorrentè®¾ç½®SSLå¼€å¯HTTPSè®¿é—®</title>
      <link>https://ruohai.wang/202307/qbittorrent-update-to-https/</link>
      <pubDate>Sun, 16 Jul 2023 20:14:40 +0800</pubDate>
      
      <guid>https://ruohai.wang/202307/qbittorrent-update-to-https/</guid>
      <description>ç”¨nginxåå‘ä»£ç†ç»™qbitå®ç°httpsè®¿é—®ï¼Œ99%çš„è®¾ç½®éƒ½å’Œã€Linuxä¸‹ç”¨Nginxç»™File Browserè®¾ç½®SSLå¼€å¯HTTPSè®¿é—®ã€‘ä¸€æ ·ï¼Œæ²¡é”™ï¼Œåˆæ˜¯99%çš„å†…å®¹éƒ½æ˜¯å’Œfilebrowseré‚£ç¯‡ä¸€æ ·ã€‚ä½†è¿˜æ˜¯é‚£ä¸ªé—®é¢˜ï¼Œç›´æ¥ç…§æ¬çš„è¯ä¼šæœ‰ä¸€ä¸ªå‘ï¼Œå®Œæˆé…ç½®ä»¥åï¼Œç”¨httpsè®¿é—®qbit-webuiä¼šæ˜¾ç¤ºç©ºç™½é¡µé¢å¹¶æç¤ºunauthorizedã€‚
å¾ˆæ˜æ˜¾è¿™æ˜¯ç¢°åˆ°äº†ä¸€ä¸ªå®‰å…¨è®¾ç½®é—®é¢˜ï¼Œè®¿é—®è¢«qbitæ‹’ç»äº†ã€‚
æœ‰ä¸¤ä¸ªè§£å†³æ–¹æ¡ˆã€‚
æ–¹æ¡ˆä¸€ï¼šå…³é—­qbitçš„ä¸€äº›å®‰å…¨è®¾ç½® qbit webuiè®¾ç½®ä¸­çš„ã€å¯ç”¨host headerå±æ€§éªŒè¯ã€‘å’Œã€å¯ç”¨è·¨ç«™è¯·æ±‚ä¼ªé€ ä¿æŠ¤ã€‘ä¸¤ä¸ªåŠŸèƒ½å»æ‰å‹¾é€‰ã€‚
æ–¹æ¡ˆäºŒï¼šä¿®æ”¹nginxåå‘ä»£ç†çš„é…ç½® å‚è€ƒqbitã€å®˜æ–¹wikiç»™å‡ºçš„æ–¹æ¡ˆã€‘ï¼Œè°ƒæ•´nginxä¸­çš„ä¸€äº›é…ç½®ã€‚
å‡å®šåŸè§„åˆ™å¦‚ä¸‹ï¼š
location / { proxy_pass http://localhost:8089; } è°ƒæ•´ä»¥åçš„é…ç½®å¦‚ä¸‹ï¼š
location / { proxy_pass http://localhost:8089; proxy_http_version 1.1; proxy_set_header Host localhost:8089; proxy_set_header X-Forwarded-Host $http_host; proxy_set_header X-Forwarded-For $remote_addr; # qbitç‰ˆæœ¬v4.2.2ä»¥ä¸ŠåŠ å…¥è¿™æ¡ä¿æŠ¤cookieå®‰å…¨ proxy_cookie_path / &amp;#34;/; Secure&amp;#34;; } ä½¿ç”¨ä»¥ä¸Šé…ç½®ä»¥åï¼Œå®æµ‹qbit webuiä¸­å¯ä»¥å¼€å¯å®‰å…¨è®¾ç½®ï¼Œæ³¨æ„æœåŠ¡å™¨åŸŸåå“ªé‡Œè¦å¡«localhostã€‚</description>
    </item>
    
    <item>
      <title>Linuxä¸‹å®‰è£…SambaæœåŠ¡å¼€å¯æ–‡ä»¶å¤¹å…±äº«åŠŸèƒ½</title>
      <link>https://ruohai.wang/202307/samba-setup-to-share-files/</link>
      <pubDate>Sun, 16 Jul 2023 13:15:51 +0800</pubDate>
      
      <guid>https://ruohai.wang/202307/samba-setup-to-share-files/</guid>
      <description>å‰è¨€ å±€åŸŸç½‘å¦‚æœé‡Œæœ‰ä¸€å°24å°æ—¶å¼€æœºçš„ä½åŠŸè€—linuxä¸»æœºï¼Œé‚£è‡ªç„¶æ˜¯è¦ç»™å®ƒè£…ä¸Šsambaå¼€å¯æ–‡ä»¶å…±äº«åŠŸèƒ½ï¼ŒæŠŠå®ƒä½œä¸ºä¸€ä¸ªæ–‡ä»¶æœåŠ¡å™¨æ¥ç”¨ã€‚å¯èƒ½æœ‰äººä¼šé—®ï¼Œæƒ³å¼€å…±äº«æ–‡ä»¶å¤¹ï¼Œç›´æ¥ç»™ä¸»æœºè£…casaosä¸å°±å¥½äº†ï¼Œå°±ç®—ä¸ç”¨sambaä¹Ÿå¯ä»¥ç”¨filebrowserã€alistã€dufsã€chfsä¹‹ç±»ã€‚emmmï¼Œè¯´çš„å¾ˆå¯¹ï¼Œä½†é‚£ä¸æ˜¯å°‘äº†å¾ˆå¤šæ‰‹åŠ¨æŒ¡çš„ä¹è¶£å˜›ã€‚è€Œä¸”è‡ªå·±æ‰‹æ“ä¸€è¾¹ï¼Œä¹Ÿæ–¹ä¾¿æ›´å¥½çš„ç†è§£sambaã€‚
åœ¨è®°å½•å®‰è£…å’Œé…ç½®çš„å†…å®¹æ—¶ï¼Œç¡®å®ä¼šå‘ç°å¾ˆå¤šç»†èŠ‚æ²¡æ³•å…·ä½“ä¸€ä¸€è®°å½•ï¼Œåªèƒ½è®°å½•ä¸‹ç¬¦åˆæˆ‘çš„éœ€æ±‚çš„é…ç½®ã€‚è¿™æ—¶å€™å°±ä¼šè§‰å¾—ç±»ä¼¼casaosè¿™ç§webuiä¸Šç›´æ¥é¼ æ ‡ç‚¹ç‚¹å°±å¼€å¯å…±äº«çš„æ–¹å¼æ–¹ä¾¿å¤šäº†ã€‚
å‰æœŸå‡†å¤‡ ä¸€å°24å°æ—¶å¼€æœºçš„ä½åŠŸè€—linuxä¸»æœºï¼Œæˆ‘è¿™é‡Œç”¨çš„æ˜¯èµšé’±å®äºŒä»£ï¼ˆws1508ï¼‰ linuxç³»ç»Ÿæœ‰ä¸€ä¸ªérootçš„ä½æƒé™è´¦æˆ·ï¼Œè¿™é‡Œå‡å®šï¼šjack å¦‚æœç³»ç»Ÿå®‰è£…äº†é˜²ç«å¢™ï¼Œè®°å¾—æ”¾è¡ŒsambaæœåŠ¡ sambaçš„å®‰è£… debianä»“åº“é‡Œå°±æœ‰sambaï¼Œç›´æ¥ä¸€é”®å®‰è£…
apt install samba å®‰è£…å®Œæˆåï¼Œå¯ä»¥æ‰§è¡Œsystemctl status smbdçœ‹ä¸‹æœåŠ¡çš„è¿è¡ŒçŠ¶æ€ã€‚
â— smbd.service - Samba SMB Daemon Loaded: loaded (/lib/systemd/system/smbd.service; enabled; preset: enabled) Active: active (running) since Sun 2023-07-16 13:44:59 CST; 11min ago Docs: man:smbd(8) man:samba(7) man:smb.conf(5) Process: 4040 ExecCondition=/usr/share/samba/is-configured smb (code=exited, status=0/SUCCESS) Process: 4043 ExecStartPre=/usr/share/samba/update-apparmor-samba-profile (code=exited, status=0/SUCCESS) Main PID: 4044 (smbd) Status: &amp;#34;smbd: ready to serve connections...&amp;#34; Tasks: 4 (limit: 986) Memory: 4.9M CPU: 9.725s CGroup: /system.</description>
    </item>
    
    <item>
      <title>Linuxä¸‹ç”¨Nginxç»™ttydè®¾ç½®SSLå¼€å¯HTTPSè®¿é—®</title>
      <link>https://ruohai.wang/202307/ttyd-update-to-https/</link>
      <pubDate>Sun, 16 Jul 2023 01:17:58 +0800</pubDate>
      
      <guid>https://ruohai.wang/202307/ttyd-update-to-https/</guid>
      <description>ç”¨nginxç»™ttydå®ç°httpsè®¿é—®ï¼Œ99%çš„è®¾ç½®éƒ½å’Œã€Linuxä¸‹ç”¨Nginxç»™File Browserè®¾ç½®SSLå¼€å¯HTTPSè®¿é—®ã€‘ä¸€æ ·ï¼Œç›´æ¥ç…§æ¬å³å¯ã€‚ä½†å¦‚æœå®Œå…¨ç…§æ¬ï¼Œä¼šå‘ç°httpsä¸‹ç™»å½•ttydä»¥åï¼Œé¡µé¢å…¨é»‘ï¼Œæœ‰ä¸€ä¸ªæµ®çª—æ˜¾ç¤ºã€press enter to reconnectã€‘ï¼Œæ²¡æœ‰å…‰æ ‡ï¼Œä¹Ÿæ²¡æœ‰å‘½ä»¤æç¤ºç¬¦ã€‚
å¾ˆå®¹æ˜“å°±æ˜ç™½å‡ºç°è¿™ä¸ªé—®é¢˜æ˜¯å› ä¸ºttydä½¿ç”¨çš„æ˜¯websocketåè®®ï¼Œé€šè¿‡nginxä»£ç†è½¬å‘ä»¥åå‡ºç°äº†bugã€‚
ç½‘ä¸Šæœäº†ä¸€ä¸‹è§£å†³æ–¹æ¡ˆï¼Œæ ¹æ®ã€è¿™ä¸ªé¡µé¢ã€‘å’Œã€è¿™ä¸ªé¡µé¢ã€‘ä¸Šçš„ä¸¤ä¸ªè§£ç­”ï¼Œéœ€è¦å¯¹nginxçš„é…ç½®å†…å®¹ç¨å¾®ä¿®æ”¹ã€‚
æ³¨æ„ è®¾å®šåŸŸåä¸ºï¼šjackiechang.cn è®¾å®šå¤–ç½‘ç«¯å£ä¸ºï¼š11111 è®¾å®šå†…ç½‘ç«¯å£ä¸ºï¼š4533 é…ç½®æ–‡ä»¶ server {listen [::]:11111 ssl;server_name jackiechang.cn;ssl_certificate ssl/jackiechang.cn.pem;ssl_certificate_key ssl/jackiechang.cn.key;ssl_session_cache shared:SSL:1m;ssl_session_timeout 5m;ssl_ciphers ECDHE-RSA-AES128-GCM-SHA256:ECDHE:ECDH:AES:HIGH:!NULL:!aNULL:!MD5:!ADH:!RC4;ssl_protocols TLSv1.1 TLSv1.2 TLSv1.3;ssl_prefer_server_ciphers on;error_page 497 https://$host:$server_port$uri$is_args$args;location / {# #################################### è¿™éƒ¨åˆ†å®šä¹‰headeræ˜¯æ–°åŠ çš„ï¼ŒæŒ‡å®šwebsocketproxy_set_header Host $host;proxy_set_header X-Forwarded-Proto $scheme;proxy_set_header X-Forwarded-Port $server_port;proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;proxy_set_header Upgrade $http_upgrade;proxy_set_header Connection &amp;#34;upgrade&amp;#34;;proxy_http_version 1.1;# ###################################proxy_pass http://localhost:4533;}} </description>
    </item>
    
    <item>
      <title>Linuxä¸‹ç”¨Nginxç»™File Browserè®¾ç½®SSLå¼€å¯HTTPSè®¿é—®</title>
      <link>https://ruohai.wang/202307/filebrowser-update-to-https/</link>
      <pubDate>Sun, 16 Jul 2023 00:25:11 +0800</pubDate>
      
      <guid>https://ruohai.wang/202307/filebrowser-update-to-https/</guid>
      <description>å‰è¨€ æˆ‘ç”¨èµšé’±å®äºŒä»£ï¼ˆws1508ï¼‰å’Œç©å®¢äº‘ï¼ˆws1608ï¼‰åˆ·å…¥armbianï¼Œç„¶åæ“äº†å¾ˆå¤šæœåŠ¡ï¼Œæ¯”å¦‚file browserã€qbittorrentã€ttydã€alistã€ddns-goã€navidromeã€‚è¿™äº›åº”ç”¨åœ¨å¯åŠ¨ä»¥åï¼Œéƒ½æä¾›äº†webuiç”¨æ¥ç®¡ç†å’Œæ§åˆ¶ã€‚å†é…åˆå½“ä¸‹ipv6çš„å…¬ç½‘ipï¼Œå®ç°äº†å¤–ç½‘è®¿é—®ã€‚
ä½†ç°åœ¨åˆç¢°åˆ°äº†æ–°çš„éœ€æ±‚ï¼ˆæˆ–è€…è¯´é—®é¢˜ï¼‰ï¼Œå°±æ˜¯è¿™äº›åº”ç”¨çš„webuiéƒ½æ˜¯httpï¼Œä¸ºäº†å®‰å…¨ï¼Œæˆ‘å‡†å¤‡å‡çº§åˆ°httpsã€‚å…¶ä¸­æœ‰ä¸€äº›åº”ç”¨ï¼ˆæ¯”å¦‚ttydã€firebrowserï¼‰ç¡®å®æ”¯æŒsslï¼Œä½†ä¹Ÿæœ‰å¾ˆå¤šä¸æ”¯æŒsslã€‚è€Œä¸”å°±ç®—æ”¯æŒsslçš„åº”ç”¨ï¼Œå„è‡ªé…ç½®çš„æ–¹å¼ä¹Ÿä¸ç›¸åŒï¼Œä¸æ–¹ä¾¿åæœŸç»Ÿä¸€ç®¡ç†ã€‚
ä¸ºäº†å®ç°è¿™ä¸ªéœ€æ±‚ï¼Œå°±éœ€è¦ä½¿ç”¨nginxåšåå‘ä»£ç†ã€‚è¿™é‡Œä»¥filebrowserä¸ºä¾‹ï¼Œåšä¸€ä¸‹ç®€å•è®°å½•ã€‚
å‰æœŸå‡†å¤‡ è®¾å¤‡å·²ç»å®ç°äº†ipv6çš„å¤–ç½‘è®¿é—®ï¼Œå‡å®šåŸŸåä¸ºï¼šjackiechang.cn ç³»ç»Ÿå·²ç»å®‰è£…äº†filebrowserä¸”å¯ä»¥æ­£å¸¸è®¿é—®ï¼Œå‡å®šç«¯å£ä¸ºï¼š8600 ä»¥ä¸Šä¸¤ä¸ªå‰æå·²ç»OKï¼Œé‚£å¤–ç½‘è®¿é—®filebrowserçš„urlåº”è¯¥æ˜¯ï¼šhttp://jackiechang.cn:8600 å·²ç»æœ‰sslè¯ä¹¦ï¼Œä¸ç®¡æ˜¯é˜¿é‡Œäº‘ä¹°åŸŸåé€çš„è¯ä¹¦ï¼Œè¿˜æ˜¯Let&amp;rsquo;s Encryptçš„å…è´¹è¯ä¹¦ã€‚ sslè¯ä¹¦éœ€è¦æ˜¯nginxçš„æ ¼å¼ï¼Œä¸€å…±ä¸¤ä¸ªæ–‡ä»¶ï¼šjackiechang.cn.pemå’Œjackiechang.cn.keyã€‚ 8600ä¸€ä¸ªç«¯å£ä¸èƒ½è¢«nginxå’ŒfilebrowseråŒæ—¶ç›‘å¬ï¼Œè¿™é‡Œå‡å®šnginxç›‘å¬ç«¯å£æ˜¯ï¼š22222 è¿™é‡Œå‡å®šçš„å¤–ç½‘ç«¯å£ã€æœ¬åœ°ç«¯å£ã€åŸŸåã€è¯ä¹¦åç§°ï¼Œåœ¨ä¸‹é¢æ•™ç¨‹ä¸­è®°å¾—æ ¹æ®è‡ªå·±çš„æƒ…å†µè¿›è¡Œä¿®æ”¹ã€‚ å®‰è£…nginx æˆ‘çš„ä¸»æœºç³»ç»Ÿæ˜¯armbianï¼Œdebianä»“åº“é‡Œæœ‰nginxã€‚
apt install nginx nginxå®‰è£…å¥½ä»¥åï¼Œå¯ä»¥å…ˆæ‰§è¡Œnginx -tæµ‹è¯•ä¸€ä¸‹nginx.confé…ç½®æ–‡ä»¶çš„è¯­æ³•æ˜¯å¦æ­£ç¡®ï¼Œé¡ºä¾¿çœ‹ä¸€ä¸‹nginxçš„è·¯å¾„ã€‚æˆ‘çš„nginxç›®å½•æ˜¯/etc/nginxã€‚
ä¸Šä¼ sslè¯ä¹¦ åœ¨nginxç›®å½•æ–°å»ºsslæ–‡ä»¶å¤¹ï¼ŒæŠŠä¸¤ä¸ªè¯ä¹¦æ–‡ä»¶æ”¾åˆ°sslç›®å½•ä¸‹
mkdir /etc/nginx/ssl é…ç½®nginx nginxçš„é»˜è®¤é…ç½®æ–‡ä»¶æ˜¯nginx.confï¼Œä½†ç°åœ¨ä¸ºäº†æ•´æ´å’Œæ–¹ä¾¿ç®¡ç†ï¼Œnginxåˆ†å‡ºäº†conf.dã€sites-availableã€site-enabledä¸‰ä¸ªæ–‡ä»¶å¤¹ç”¨æ¥åˆ†åˆ«å­˜æ”¾ä¸åŒç”¨é€”çš„é…ç½®æ–‡ä»¶ã€‚æˆ‘è¿™é‡Œç”¨çš„sites-available/defaultæ–‡ä»¶è¿›è¡Œé…ç½®ã€‚
nano sites-available/default æ·»åŠ å¦‚ä¸‹é…ç½®å†…å®¹ï¼Œç„¶åä¿å­˜é€€å‡ºã€‚
server { # ç›‘å¬ipv6çš„22222ç«¯å£ listen [::]:22222 ssl; # åŸŸå server_name jackiechang.cn; # sslè¯ä¹¦çš„ä½ç½® ssl_certificate ssl/jackiechang.cn.pem; ssl_certificate_key ssl/jackiechang.cn.key; # ssl sessionç¼“å­˜å’Œè¿‡æœŸæ—¶é—´ ssl_session_cache shared:SSL:1m; ssl_session_timeout 5m; # sslçš„ä¸€äº›åŠ å¯†é…ç½® ssl_ciphers ECDHE-RSA-AES128-GCM-SHA256:ECDHE:ECDH:AES:HIGH:!NULL:!aNULL:!MD5:!ADH:!RC4; ssl_protocols TLSv1.1 TLSv1.2 TLSv1.3; ssl_prefer_server_ciphers on; # è¿™å¥æ˜¯ç”¨æ¥httpé‡å®šå‘åˆ°httpsã€‚httpè®¿é—®æ—¶nginxä¼šæŠ¥é”™è¯¯ç 497ï¼Œç›´æ¥æŠŠerror_pageé‡å®šå‘åˆ°https # åŒä¸€ä¸ªç«¯å£å®ç°httpé‡å®šå‘åˆ°httpsï¼Œä¹Ÿæœ‰å¦å¤–æ›´ä¼˜é›…çš„å®ç°æ–¹å¼ï¼Œä½†æˆ‘ç”¨ä¸‹æ¥è¿™ä¸ªæ‹¦æˆªerror_pageæ˜¯æœ€æ–¹ä¾¿çš„ error_page 497 https://$host:$server_port$uri$is_args$args; location / { # æŠŠè¯·æ±‚è½¬å‘åˆ°æœ¬æœºçš„8600ç«¯å£ proxy_pass http://localhost:8600; } } é‡å¯nginx å®Œæˆä¸Šé¢çš„é…ç½®ä»¥åï¼Œå…ˆæ‰§è¡Œnginx -tæµ‹è¯•é…ç½®æ–‡ä»¶çš„è¯­æ³•ï¼Œæ²¡æœ‰æŠ¥é”™å°±è¯´æ˜é…ç½®OKï¼Œæ¥ä¸‹å»é‡å¯nginxå³å¯ã€‚</description>
    </item>
    
    <item>
      <title>Linuxä¸‹ttydä½¿ç”¨Gitæç¤ºAuthor identity unknownå’Œfatal: $HOME not seté—®é¢˜çš„è§£å†³</title>
      <link>https://ruohai.wang/202307/git-home-not-set-bugfix/</link>
      <pubDate>Sat, 15 Jul 2023 17:50:39 +0800</pubDate>
      
      <guid>https://ruohai.wang/202307/git-home-not-set-bugfix/</guid>
      <description>æˆ‘åœ¨ttydä¸‹ä½¿ç”¨git commit -m &#39;xxx&#39;å‘½ä»¤æ—¶ï¼Œå‡ºç°äº†ä¸€ä¸ªæ— æ³•è¯†åˆ«gitç”¨æˆ·ä¿¡æ¯çš„é”™è¯¯ã€‚
å…·ä½“æŠ¥é”™ä¿¡æ¯å¦‚ä¸‹ï¼š
Author identity unknown *** Please tell me who you are. Run git config --global user.email &amp;#34;you@example.com&amp;#34; git config --global user.name &amp;#34;Your Name&amp;#34; to set your account&amp;#39;s default identity. Omit --global to set the identity only in this repository. fatal: unable to auto-detect email address (got &amp;#39;user@hostname.(none)&amp;#39;) æ„æ€å°±æ˜¯gitçš„ç”¨æˆ·èº«ä»½è®¤è¯ä¿¡æ¯æœªçŸ¥ï¼Œéœ€è¦ç”¨git config --globalè¿›è¡Œé…ç½®ã€‚ä½†æˆ‘å·²ç»åœ¨ç³»ç»Ÿä¸­é…ç½®äº†git username&amp;amp;emailï¼Œåœ¨æœ¬åœ°ç»ˆç«¯ä¸­ä½¿ç”¨éƒ½æ­£å¸¸ï¼Œä»…åœ¨ttydä¸­å‡ºç°äº†è¿™ä¸ªbugã€‚
é‚£æ—¢ç„¶éƒ½æç¤ºè¦è®¾ç½®äº†ï¼Œå°±å…ˆgit config --globalè®¾ç½®ä¸€ä¸‹ï¼Œè¿™æ—¶åˆå‡ºç°äº†ç¬¬äºŒä¸ªæŠ¥é”™ã€‚
fatal: $HOME not set åˆ°è¿™é‡ŒåŸºæœ¬å°±æ˜ç™½é”™è¯¯åŸå› äº†ï¼Œttydä¸‹gitæ— æ³•è¯†åˆ«$HOMEç¯å¢ƒå˜é‡ï¼Œæ‰€ä»¥æ— æ³•è¯»å–åˆ°~/.gitconfigæ–‡ä»¶å†…é…ç½®çš„username&amp;amp;emailä¿¡æ¯ã€‚
è§£å†³æ–¹æ¡ˆ æ ¹æ®è¿™ä¸ªæŠ¥é”™æœäº†ä¸€ä¸‹è§£å†³æ–¹æ¡ˆï¼Œæ ¹æ®ã€stackoverflowä¸Šçš„è¿™ä¸ªå¸–å­ã€‘ï¼Œè§£å†³æ–¹æ¡ˆå°±æ˜¯ç”¨git config --systemæ¥è®¾å®šgitç”¨æˆ·ä¿¡æ¯
git config --system user.</description>
    </item>
    
    <item>
      <title>Linuxä¸‹å®‰è£…ttyd</title>
      <link>https://ruohai.wang/202307/install-ttyd/</link>
      <pubDate>Sat, 15 Jul 2023 16:38:06 +0800</pubDate>
      
      <guid>https://ruohai.wang/202307/install-ttyd/</guid>
      <description>å‰è¨€ ttydï¼Œwebuiç‰ˆæœ¬çš„ç»ˆç«¯ï¼Œå’Œæœ¬åœ°ç»ˆç«¯åŠŸèƒ½ä¸€è‡´ï¼Œç‰¹åˆ«é€‚åˆå‡ºé—¨åœ¨å¤–æ²¡æœ‰å¸¦è‡ªå·±ç”µè„‘ä½†åˆéœ€è¦è®¿é—®è‡ªå·±vpsè¿›è¡Œæ“ä½œçš„åœºæ™¯ï¼Œåªéœ€è¦æ‰“å¼€æµè§ˆå™¨ï¼Œè®¿é—®é…ç½®å¥½çš„ttydå°±OKã€‚
ç¬¬ä¸€æ­¥ï¼šåœ¨ç³»ç»Ÿä¸Šåˆ›å»ºå®‰è£…ç›®å½•
mkdir -p /usr/local/ttyd ç¬¬äºŒæ­¥ï¼šè®¿é—®ttydçš„ã€github repoã€‘ï¼Œæ ¹æ®è‡ªå·±çš„ç¡¬ä»¶å¹³å°ï¼Œä¸‹è½½å¯¹åº”çš„çš„å®‰è£…åŒ…ã€‚æˆ‘æ˜¯è£…åœ¨ws1508ä¸Šï¼Œé€‰æ‹©armhfç‰ˆæœ¬ã€‚
# è¿›å®‰è£…ç›®å½• cd /usr/local/ttyd # ä¸‹è½½å®‰è£…åŒ… wget https://github.com/tsl0922/ttyd/releases/download/1.7.3/ttyd.armhf ç¬¬ä¸‰æ­¥ï¼šæˆæƒ
# å¢åŠ å¯æ‰§è¡Œæƒé™ã€‚è¿™é‡Œ`ttyd.armhf`ï¼Œä»¥åŠä¸‹æ–‡ä¸­å‡ºç°çš„`ttyd.armhf`ï¼Œè®°å¾—éƒ½æ”¹æˆè‡ªå·±çš„å®‰è£…åŒ…çš„åå­—ã€‚ chmod +x ttyd.armhf ç¬¬å››æ­¥ï¼šå…ˆå­¦ä¹ ä¸€ä¸‹ttydçš„æ‰‹å†Œã€‚æœ‰ä¸¤ä¸ªå‚æ•°åé¢éœ€è¦ç”¨åˆ°ï¼Œ-pæŒ‡å®šç«¯å£ï¼Œ-cè®¾å®šè®¤è¯ä¿¡æ¯ï¼Œä¹Ÿå°±æ˜¯webuiçš„ç™»å½•è´¦æˆ·å’Œå¯†ç ï¼Œæ ¼å¼æ˜¯username:passwordã€‚
USAGE: ttyd [options] &amp;lt;command&amp;gt; [&amp;lt;arguments...&amp;gt;] OPTIONS: -p, --port Port to listen (default: 7681, use `0` for random port) -i, --interface Network interface to bind (eg: eth0), or UNIX domain socket path (eg: /var/run/ttyd.sock) -U, --socket-owner User owner of the UNIX domain socket file, when enabled (eg: user:group) -c, --credential Credential for basic authentication (format: username:password) -H, --auth-header HTTP Header name for auth proxy, this will configure ttyd to let a HTTP reverse proxy handle authentication -u, --uid User id to run with -g, --gid Group id to run with -s, --signal Signal to send to the command when exit it (default: 1, SIGHUP) -w, --cwd Working directory to be set for the child program -a, --url-arg Allow client to send command line arguments in URL (eg: http://localhost:7681?</description>
    </item>
    
    <item>
      <title>Linuxä¸‹ç”¨SFTPå‘½ä»¤æ“ä½œæ–‡ä»¶ä¸Šä¼ ä¸‹è½½</title>
      <link>https://ruohai.wang/202307/use-sftp-to-handle-file/</link>
      <pubDate>Sat, 15 Jul 2023 14:48:48 +0800</pubDate>
      
      <guid>https://ruohai.wang/202307/use-sftp-to-handle-file/</guid>
      <description>ä¸€èˆ¬è¦åœ¨ä¸€å°è¿œç¨‹vpsä¸Šè¿›è¡Œæ–‡ä»¶ä¸Šä¼ ä¸‹è½½ï¼Œä¸€ä¸¤ä¸ªæ–‡ä»¶ä¼šç”¨lrzsz(å‰ææ˜¯ä½ çš„ç»ˆç«¯è¦æ”¯æŒzmodemï¼‰ï¼Œæ‰¹é‡æ–‡ä»¶ä¼šç”¨winscp/xftpä¹‹ç±»çš„å®¢æˆ·ç«¯ã€‚ä½†å¦‚æœè‡ªå·±çš„ç»ˆç«¯ä¸æ”¯æŒzmodemï¼Œä¹Ÿä¸æƒ³ç”¨ç¬¬ä¸‰æ–¹è½¯ä»¶ï¼Œè€Œä¸”æ–‡ä»¶ä¹Ÿå°±ä¸€ä¸¤ä¸ªå°±æƒ³æ•²å‘½ä»¤æ¥å®Œæˆï¼Œå› ä¸ºæ•²å‘½ä»¤æ³°è£¤è¾£ï¼Œé‚£å°±ç”¨sftpå‘½ä»¤ã€‚
sftpè¿æ¥æœåŠ¡å™¨ã€‚è¿æ¥æˆåŠŸåå…‰æ ‡å¤„çš„å‘½ä»¤æç¤ºç¬¦å˜æˆ sftp&amp;gt; ã€‚æƒ³è¦å…å¯†ç™»å½•è®¾ç½®åŒsshå…å¯†ç™»å½•ï¼Œå¯ä»¥çœ‹è¿™ç¯‡æ–‡ç« ã€‚
sftp jack@192.168.1.10 -p 22 sftpä¸‹è½½æ–‡ä»¶å¹¶ä¿æŒæºæ–‡ä»¶å
get /home/jack/robots.txt C:\Users\Jack\Desktop\ sftpä¸Šä¼ æ–‡ä»¶å¹¶ä¿æŒæºæ–‡ä»¶å
put C:\Users\Jack\Desktop\robots.txt /home/jack/ å¦‚æœè¦ä¸Šä¼ ä¸‹è½½ä¸€ä¸ªæ–‡ä»¶å¤¹ï¼Œåœ¨put/getåé¢è·Ÿä¸€ä¸ªå‚æ•° -r å³å¯ã€‚</description>
    </item>
    
    <item>
      <title>Linuxä¸‹å®ç°æŒ‚è½½SMBå…±äº«æ–‡ä»¶å¤¹</title>
      <link>https://ruohai.wang/202307/linux-smb-mount/</link>
      <pubDate>Sat, 15 Jul 2023 14:40:06 +0800</pubDate>
      
      <guid>https://ruohai.wang/202307/linux-smb-mount/</guid>
      <description>linuxä¸‹è®¿é—®å±€åŸŸç½‘ä¸Šçš„smbå…±äº«æ–‡ä»¶å¤¹ï¼Œéœ€è¦å®‰è£…cifs-utilsã€‚
apt install cifs-utils è¿™é‡Œå‡å®šå…±äº«æ–‡ä»¶å¤¹çš„ç½‘ç»œä½ç½®æ˜¯http://smb_ip/shareï¼Œç”¨æˆ·åsmbï¼Œå¯†ç 123456ã€‚
mount -t cifs //smb_ip/share /mnt/share -o username=smb,password=123456 -t cifsï¼ŒæŒ‚è½½çš„æ–‡ä»¶ç±»å‹ï¼Œsmbä¸º-t cifsã€‚ //smb_ip/shareï¼Œsmbå…±äº«æ–‡ä»¶å¤¹çš„ç½‘ç»œä½ç½® /mnt/shareï¼Œæœ¬åœ°æŒ‚è½½çš„ä½ç½® -oï¼Œ-oåé¢è·Ÿçš„éƒ½æ˜¯æŒ‚è½½çš„è¯¦ç»†å‚æ•°é…ç½®ï¼Œsmbåè®®ã€ç”¨æˆ·åã€å¯†ç ç­‰ç­‰ï¼Œå…·ä½“å¯ä»¥çœ‹è¿™é‡Œè¯¦ç»†å‚æ•°è§£é‡Šï¼Œæˆ–è€…çœ‹å›¾ç‰‡ã€‚ å¦‚æœè¦è®¾ç½®å¼€æœºè‡ªåŠ¨æŒ‚è½½smbï¼Œåœ¨/etc/fstabæ–‡ä»¶ä¸­æ·»åŠ ä¸€è¡Œï¼Œä¿å­˜é€€å‡ºå³å¯ã€‚
//smb_ip/share /mnt/share cifs username=smb,passwd=123456 0 0 ä¹Ÿå¯ä»¥åœ¨/etc/samba/ç›®å½•ä¸‹æ–°å»ºé…ç½®æ–‡ä»¶smbpasswdç”¨æ¥ä¿å­˜smbçš„ç”¨æˆ·åå’Œå¯†ç ä»¥æ–¹ä¾¿ç®¡ç†ï¼Œå†…å®¹å¦‚ä¸‹ã€‚
username=smb password=123456 ç„¶å fstabä¸­æ·»åŠ ä¸€è¡Œ
//smb_ip/share /mnt/share cifs credentials=/etc/samba/smbpasswd 0 0 fstabçš„æ ¼å¼è§„èŒƒå¦‚ä¸‹
&amp;lt;file system&amp;gt; &amp;lt;dir&amp;gt; &amp;lt;type&amp;gt; &amp;lt;options&amp;gt; &amp;lt;dump&amp;gt; &amp;lt;pass&amp;gt; </description>
    </item>
    
    <item>
      <title>Linuxä¸‹ç»™Apache2å®‰è£…SSLè¯ä¹¦</title>
      <link>https://ruohai.wang/202307/apache2-ssl-cert-setup/</link>
      <pubDate>Sat, 15 Jul 2023 14:38:50 +0800</pubDate>
      
      <guid>https://ruohai.wang/202307/apache2-ssl-cert-setup/</guid>
      <description>æ‹–äº†å¥½å‡ å¤©ä¸€ç›´æ‡’å¾—å¼„sslè¯ä¹¦ï¼Œå› ä¸ºè¿™æœåŠ¡å™¨æ˜¯ä¸€æœ‹å‹é—²ç½®æˆ‘æ‹¿æ¥ç»ƒæ‰‹çš„ï¼Œå‰©1ä¸ªæœˆåˆ°æœŸã€‚ä½†æ™šä¸Šè¢«å¤§å­¦åŒå­¦å«å‡ºå»å–é…’ï¼Œå®Œäº†å›æ¥ä»¥åæœ‰ç‚¹ç²¾ç¥ç„¦è™‘ï¼Œç´¢æ€§æŠŠsslè¯ä¹¦ç»™å¼„äº†ç¼“è§£ä¸€ä¸‹æƒ…ç»ªã€‚
è·å–sslè¯ä¹¦çš„æ­¥éª¤è¿™é‡Œå°±ä¸èµ˜è¿°ã€‚ç›´æ¥å¼€å§‹é‡ç‚¹ã€‚
ç¬¬ä¸€æ­¥ï¼Œè·å–åˆ°çš„apahce2çš„è¯ä¹¦åº”è¯¥æ˜¯ä¸‰ä¸ªæ–‡ä»¶ï¼šdomain.key, domain_chain.crt, domain_public.crtã€‚è¿™ä»¨æ–‡ä»¶åæ˜¯é˜¿é‡Œäº‘è¯ä¹¦çš„æ ¼å¼ã€‚æˆ‘çœ‹åˆ°ä¹Ÿæœ‰å«domain_bundle.crtçš„ï¼Œæ²¡å…³ç³»ï¼Œæœ€åéƒ½æ˜¯å†™ä¸€èµ·çš„ã€‚
æ‹¿åˆ°è¯ä¹¦æ–‡ä»¶ä»¥åï¼ŒæŠŠè¿™ä¸‰ä¸ªæ–‡ä»¶ä¸Šä¼ åˆ°/etc/apache2/sslç›®å½•ä¸‹ï¼Œè¿™é‡Œçš„sslæ–‡ä»¶å¤¹éœ€è¦è‡ªå·±æ–°å»ºï¼Œåå­—å¯ä»¥ç”¨è‡ªå·±å–œæ¬¢çš„ï¼Œåé¢é…ç½®æ–‡ä»¶ä¸­è®°å¾—è·¯å¾„åŒæ­¥ä¿®æ”¹å°±okã€‚ä¹Ÿå¯ä»¥ç›´æ¥åˆ°/etc/apache2/sslç›®å½•ä¸‹ç›´æ¥ç”¨wgetä¸‹è½½è¯ä¹¦åè§£å‹ã€‚ ç¬¬äºŒæ­¥ï¼šå¯ç”¨apache2çš„sslæ¨¡å—
a2enmod ssl ç¬¬ä¸‰æ­¥ï¼šapache2é»˜è®¤çš„sslé…ç½®æ–‡ä»¶çš„è·¯å¾„åœ¨/etc/apache2/sites-available/default-ssl.confã€‚ç°åœ¨æŠŠsslè¯ä¹¦ä¸‰ä¸ªæ–‡ä»¶çš„è·¯å¾„æ·»åŠ åˆ°&amp;lt;VirtualHost *:443&amp;gt;çš„æ ‡ç­¾å†…ã€‚
SSLCertificateFile /etc/apache2/ssl/domain_public.crt SSLCertificateKeyFile /etc/apache2/ssl/domain.key SSLCertificateChainFile /etc/apache2/ssl/domain_chain.crt
ç½‘ä¸Šå¾ˆå¤šæ•™ç¨‹å†™åˆ°è¿™é‡Œå°±è¯´å¯ä»¥ä¿å­˜é€€å‡ºäº†ã€‚ä½†æ˜¯è¦æ³¨æ„ï¼Œå¦‚æœä½ çš„ç½‘ç«™æ ¹ç›®å½•ä¸æ˜¯apache2é»˜è®¤çš„/var/www/htmlè€Œæ˜¯è‡ªå®šä¹‰çš„ç›®å½•ï¼Œé‚£åªåŠ è¿™3è¡Œæ˜¯ä¸è¡Œçš„ï¼è¿˜éœ€è¦æŠŠç½‘ç«™ä¿¡æ¯çš„DocumentRootå’Œ&amp;lt;Directory&amp;gt;çš„ä¿¡æ¯ä¹Ÿé…ç½®è¿›å»ã€‚
ç¬¬å››æ­¥ï¼šç°åœ¨éœ€è¦æŠŠsslé…ç½®æ–‡ä»¶ç”¨è½¯é“¾æ¥æ˜ å°„åˆ°/etc/apache2/sites-enabled/ç›®å½•ï¼Œå‘½ä»¤ä¸­çš„001-ssl.confæ–‡ä»¶åå¯ä»¥å–è‡ªå·±å–œæ¬¢çš„ã€‚
ln -s /etc/apache2/sites-available/default-ssl.conf /etc/apache2/sites-enabled/001-ssl.conf å¦‚æœä¸å–œæ¬¢ç”¨è½¯é“¾æ¥ï¼Œä¹Ÿå¯ä»¥ç›´æ¥æŠŠdefault-ssl.confæ–‡ä»¶å¤åˆ¶ä¸€ä»½åˆ°/sites-enabled/ç›®å½•ä¸‹ã€‚
ç¬¬äº”æ­¥ï¼šé‡å¯apache2ã€‚
systemctl restart apache2 ç¬¬å…­æ­¥ï¼šå¦‚æœæ²¡æœ‰å¼€é˜²ç«å¢™ï¼ˆfirewalld/iptablesï¼‰ï¼Œé‚£åˆ°ä¸Šä¸€æ­¥å°±ç»“æŸäº†ã€‚å¦‚æœå¼€å¯äº†é˜²ç«å¢™ï¼ˆæˆ‘ç”¨çš„æ˜¯firewalldï¼‰ï¼Œè®°å¾—å¼€æ”¾443ç«¯å£ã€‚
# å¼€æ”¾ç«¯å£ firewall-cmd --add-port=443/tcp --permanent # é˜²ç«å¢™é‡è½½ firewall-cmd --reload </description>
    </item>
    
    <item>
      <title>Typechoæ›´æ”¹åå°ç™»å½•åœ°å€</title>
      <link>https://ruohai.wang/202307/change-typecho-admin-dir/</link>
      <pubDate>Sat, 15 Jul 2023 14:37:42 +0800</pubDate>
      
      <guid>https://ruohai.wang/202307/change-typecho-admin-dir/</guid>
      <description>typechoåå°ç™»å½•urlé»˜è®¤å°±æ˜¯/admin/ï¼Œä¸ºäº†å®‰å…¨ï¼Œè¿˜æ˜¯è‡ªå®šä¹‰æ¯”è¾ƒå¥½ã€‚
è¿™é‡Œå‡å®šè¦æŠŠ/admin/æ”¹æˆ/abcd/ï¼Œè¦æ”¹ä¸¤ä¸ªåœ°æ–¹ã€‚
ç½‘ç«™æ ¹ç›®å½•ä¸‹çš„adminæ–‡ä»¶å¤¹ï¼Œé‡å‘½åä¸ºabcd
ç½‘ç«™æ ¹ç›®å½•ä¸‹çš„config.inc.phpï¼ŒæŠŠdefine(&amp;rsquo;TYPECHO_ADMIN_DIR&amp;rsquo;, &amp;lsquo;/admin/&amp;rsquo;)ä¸­çš„adminä¿®æ”¹ä¸ºabcdï¼Œç„¶åä¿å­˜é€€å‡º
ä»¥ä¸Šä¸¤æ­¥æ“ä½œå®Œä»¥åå°±å¯ä»¥ç”¨/abcd/ç™»å½•ç½‘ç«™åå°äº†ï¼ŒæˆåŠŸ~</description>
    </item>
    
    <item>
      <title>Linuxä¸‹ä»0å¼€å§‹å®‰è£…Typecho</title>
      <link>https://ruohai.wang/202307/install-typecho-step-by-step/</link>
      <pubDate>Sat, 15 Jul 2023 02:52:12 +0800</pubDate>
      
      <guid>https://ruohai.wang/202307/install-typecho-step-by-step/</guid>
      <description>typechoçš„å®‰è£…ï¼Œå®˜æ–¹æœ‰ã€å®‰è£…æŒ‡å¯¼æ–‡æ¡£ã€‘ï¼Œä½†è®²å®è¯æˆ‘çœ‹å®Œå®˜æ–¹æ–‡æ¡£æ˜¯ä¸€å¤´é›¾æ°´çš„ï¼Œå¹¶ä¸çŸ¥é“è¦æ€ä¹ˆå¼„ã€‚æœå…¶å®ƒæ•™ç¨‹ï¼Œå¾ˆå¤šåˆæ˜¯é…åˆå®å¡”é¢æ¿æ¥éƒ¨ç½²ã€‚å®å¡”é¢æ¿æˆ‘è¯•è¿‡å®˜ç½‘çš„demoï¼Œå¹¶ä¸æ˜¯æˆ‘å¯¹å›½äº§çš„è½¯ä»¶äº§å“æœ‰åè§å•Šï¼Œä½†ä¸»é¢˜å’Œæ— å¤„ä¸åœ¨çš„ä»˜è´¹å‡çº§åˆ°proçš„å…¥å£ï¼Œæˆ‘è§‰å¾—ä¸è¡Œã€‚
æ‰€ä»¥è¿™å°±æ˜¯ä¸€ç¯‡ä»0å¼€å§‹å®Œå…¨æ‰‹æ“çš„å®‰è£…æ•™ç¨‹ã€‚
ç¬¬ä¸€æ­¥ï¼šå®‰è£…ç¯å¢ƒçš„å‡†å¤‡ã€‚typechoè¯´ç™½å°±æ˜¯ä¸€ä¸ªphpç½‘ç«™ï¼Œè¦è·‘phpç½‘ç«™ï¼Œå°±éœ€è¦web serverã€‚é‚£å°±nginxæˆ–è€…apache2äºŒé€‰ä¸€ã€‚è¿™äº›å¹´nginxé£å¤´å¼ºåŠ²ï¼Œapache2æ—¥æš®è¥¿å±±ã€‚ä½†å·§äº†ä¹ˆè¿™ä¸æ˜¯ï¼Œæˆ‘é€‰æ‹©apache2ã€‚
apt install apache2 -y apache2å®‰è£…å¥½ä»¥åï¼Œåœ¨æµè§ˆå™¨ä¸­è¾“å…¥http://host_ipçœ‹æ˜¯å¦èƒ½è®¿é—®åˆ°apache2 indexé¡µé¢ï¼Œèƒ½è®¿é—®è¯´æ˜å®‰è£…æˆåŠŸã€‚
ç¬¬äºŒæ­¥ï¼šç½‘ç«™è¦è·‘èµ·æ¥ï¼Œæœ‰äº†web serverï¼Œæ¥ä¸‹å»å°±æ˜¯å®‰è£…æ•°æ®åº“ã€‚typechoå®˜æ–¹è¯´æ”¯æŒmysqlã€postgresqlå’Œsqliteï¼Œåˆåˆ°äº†æŠ€æœ¯é€‰å‹çš„åˆ†å²”å£äº†ã€‚mysqlå› ä¸ºoracelè¿™ä¸ªçˆ¹çš„åŸå› ï¼Œä»debiançš„æºä»“åº“è¢«ç§»é™¤äº†ï¼Œpostgresqlæˆ‘ä¸ç†Ÿï¼Œç•¥è¿‡ï¼Œé‚£å‰©ä¸‹çš„å°±åªæœ‰sqliteæƒ¹ã€‚å…¶å®debiançš„æºä»“åº“é‡Œæœ‰mariadb-serverå¯ä»¥è£…ï¼Œä½†ç”¨mariadbçš„è¯å’Œmysqlä¸€æ ·éœ€è¦å®‰è£…mysqliè¿™ä¸ªphpæ‰©å±•ï¼Œå¾ˆä¸å·§mysqliä¹Ÿä»debianæºä»“åº“é‡Œè¢«ç§»é™¤äº†ã€‚å¼€æºäººéƒ½æ˜¯æœ‰æ´ç™–çš„ï¼Œç¢°äº†oracelçš„ç»Ÿç»Ÿéƒ½è¦æ¸…ç†æ‰ã€‚æˆ‘è¿™é‡Œå·æ‡’ï¼Œåªæƒ³ç”¨apt installä¸€é”®å®‰è£…è€Œä¸æ˜¯å»ä¸‹mysqlå®‰è£…åŒ…ï¼Œæ‰€ä»¥æ•°æ®åº“æœ€ç»ˆé€‰æ‹©ï¼šsqliteã€‚
apt install sqlite3 -y å®‰è£…å®Œæˆåï¼Œè¾“å…¥sqlite3ï¼Œçœ‹å‘½ä»¤æç¤ºç¬¦æ˜¯ä¸æ˜¯ sqlite3 æ¥åˆ¤æ–­æ˜¯å¦æˆåŠŸï¼Œæ•².quité€€å‡ºã€‚
ç¬¬ä¸‰æ­¥ï¼šç°åœ¨è¦åœ¨apache2ä¸­è¿›è¡Œvirtualhosté…ç½®ï¼Œä¹Ÿå°±æ˜¯ç½‘ç«™ä¿¡æ¯é…ç½®ã€‚å¯ä»¥åœ¨/etc/apahce2/apache2.confæ–‡ä»¶ä¸­é…ç½®ï¼Œä¹Ÿå¯ä»¥/etc/apache2/sites-enabled/ç›®å½•ä¸‹é…ç½®ã€‚ä¸ºäº†æ–¹ä¾¿ç®¡ç†ï¼Œè¿™é‡Œé€‰æ‹©/sites-enabled/ç›®å½•ã€‚
å°†ç›®å½•ä¸‹çš„000-default.confé‡å‘½åä¸ºtypecho.conf åœ¨typecho.confä¸­çš„&amp;lt;VirtualHost *:80&amp;gt;æ ‡ç­¾å†…è¿›è¡Œå¦‚ä¸‹é…ç½®ã€‚DocumentRooté…ç½®çš„æ˜¯ä½ ç½‘ç«™çš„æ ¹ç›®å½•ã€‚ DocumentRoot /data/typecho &amp;lt;Directory /data/typecho&amp;gt; Options Indexes FollowSymLinks AllowOverride All Require all granted &amp;lt;/Directory&amp;gt; å®Œæˆé…ç½®åï¼Œé‡å¯apahce2ã€‚ systemctl restart apache2 åœ¨ç½‘ç«™æ ¹ç›®å½•æ–°å»ºphpinfo.phpï¼Œå†…å®¹&amp;lt;?php phpinfo(); ?&amp;gt;ï¼Œä¿å­˜ã€‚ç„¶åæµè§ˆå™¨è®¿é—®http://host_ip/phpinfo.phpï¼ŒæŸ¥çœ‹æ˜¯å¦èƒ½æ­£å¸¸è®¿é—®é¡µé¢ã€‚ è¿™é‡Œæœ‰ä¸€ä¸ªéœ€è¦æ³¨æ„çš„é—®é¢˜ã€‚apache2è·‘èµ·æ¥çš„ç”¨æˆ·:ç»„æ˜¯www-data:www-dataï¼Œè®°å¾—ç»™ç½‘ç«™ç›®å½•/data/typechoåˆ†é…åˆç†æƒé™ï¼Œè¦ä¸ç„¶ä¼šæç¤ºã€you don&amp;rsquo;t hava permissionã€‘æ— æ³•è®¿é—®ã€‚ ç¬¬å››æ­¥ï¼šå¼€å§‹å®‰è£…phpã€‚å…¨ç¨‹æ²¡å•¥å¥½æ³¨æ„çš„ï¼Œç­‰å‘½ä»¤è·‘å®Œå°±å¥½äº†ã€‚
apt install php -y ç¬¬äº”æ­¥ï¼šä¸çŸ¥ä¸è§‰ç»ˆäºåˆ°ç¬¬äº”æ­¥äº†ï¼Œå†™æ•™ç¨‹å¯çœŸç´¯å•Šã€‚åˆ°æ­¤ä¸ºæ­¢ï¼Œå®‰è£…ç¯å¢ƒç®—æ˜¯éƒ½å‡†å¤‡å¥½äº†ï¼Œç°åœ¨å¯ä»¥å»typechoå®˜ç½‘ä¸‹è½½å®‰è£…åŒ…æƒ¹ã€‚
# è¿›å…¥ç½‘ç«™æ ¹ç›®å½• cd /data/typecho # ä¸‹è½½æœ€æ–°ç‰ˆtypechoä»£ç  wget https://github.com/typecho/typecho/releases/download/v1.2.1/typecho.zip # è§£å‹åˆ°å½“å‰ç›®å½• unzip typecho.zip æ¥ç€å°±å¯ä»¥åœ¨æµè§ˆå™¨ä¸­è¾“å…¥http://host_ip/install.phpè¿›è¡Œå®‰è£…ï¼Œç„¶åæ ¹æ®ç½‘é¡µæç¤ºçš„æŠ¥é”™ä¿¡æ¯è¿›è¡Œdebugã€‚ ç¬¬å…­æ­¥ï¼šé©¬ä¸Šå¤§åŠŸå‘Šæˆäº†ã€‚ç‚¹å‡»ä¸‹ä¸€æ­¥ï¼Œé©¬ä¸Šå°±ä¼šçœ‹åˆ°çº¢å­—é”™è¯¯æç¤ºã€‚ ä¸è¦æ…Œï¼Œæ ¹æ®é”™è¯¯æç¤ºä¸€ä¸ªä¸ªå¤„ç†å³å¯ã€‚
# å®‰è£…mbstringï¼Œéœ€è¦é‡å¯apache2ç”Ÿæ•ˆ apt install php-mbstring -y # å®‰è£…æ•°æ®åº“æ‰©å±•ï¼Œæˆ‘ç”¨çš„æ˜¯sqlite3ï¼Œå°±è£…sqlite3çš„æ‰©å±•ï¼Œéœ€è¦é‡å¯apache2ç”Ÿæ•ˆ apt install php-sqlite3 -y # usr/uploadsç›®å½•åˆ†é…æƒé™ã€‚ä¿©æ–¹æ³•ï¼ŒæŠŠ/typecho/ç›®å½•æŒ‡å®šç»™www-data:www-dataï¼Œæˆ–è€…ç»™755ã€‚å› ä¸ºç­‰ä¼šè¿˜éœ€è¦åœ¨ç½‘ç«™æ ¹ç›®å½•å†™å…¥ä¸€ä¸ªconfig.</description>
    </item>
    
    <item>
      <title>Linuxä¸‹å®‰è£…Syncthing</title>
      <link>https://ruohai.wang/202307/install-syncthing/</link>
      <pubDate>Sat, 15 Jul 2023 02:50:44 +0800</pubDate>
      
      <guid>https://ruohai.wang/202307/install-syncthing/</guid>
      <description>ä¸å¾—ä¸è¯´åœ¨linuxä¸‹éšä¾¿å®‰è£…ä¸€ä¸ªè½¯ä»¶éƒ½å¯ä»¥å†™ä¸€ä»½æ•™ç¨‹ï¼Œä¸åƒWindowsä¸‹è½½exeåŒå‡»è¿è¡Œç„¶åä¸‹ä¸€æ­¥ä¸‹ä¸€æ­¥å°±èƒ½æå®šã€‚
è¿™æ¬¡æ˜¯å®‰è£…syncthingï¼Œdebian12çš„ä»“åº“é‡Œå°±æœ‰ï¼Œç›´æ¥aptå®‰è£…å°±è¡Œã€‚
apt install syncthing ä½†è¿™ä¸€æ­¥åªæ˜¯æŠŠsyncthingå®‰è£…åˆ°ç³»ç»Ÿï¼Œæœ€æœ€å…³é”®çš„å¯åŠ¨æœåŠ¡ç„¶åè®¿é—®webuiè¿˜æ˜¯éœ€è¦è‡ªå·±ç¢ç£¨ã€‚æˆ‘å¤§æ¦‚èƒ½çŒœåˆ°å¯åŠ¨å‘½ä»¤æ˜¯systemctl start syncthingï¼Œä½†å®æµ‹å¯åŠ¨ä¸äº†ã€‚è¡Œå§ï¼Œå®˜ç½‘æ²¡å†™ï¼Œè‡ªå·±æ‰¾æ•™ç¨‹ã€‚
ç½‘ä¸Šæœ‰ä¸¤ä»½æ•™ç¨‹ï¼Œä¸€ä»½æ˜¯è¯´ç”¨systemctl start syncthing@user.serviceï¼Œæˆ‘æµ‹è¯•ä»¥åå‘ç°ç¡®å®èƒ½å¯åŠ¨syncthing@user.serviceæœåŠ¡ï¼Œä½†webuiæ— æ³•è®¿é—®ã€‚
æ‰€ä»¥æ­£ç¡®æ˜¯æ•™ç¨‹æ˜¯è¿™æ ·ï¼š
ç¬¬ä¸€æ­¥ï¼šåœ¨/etc/systemd/system/ç›®å½•ä¸‹ï¼Œæ–°å»ºä¸€ä¸ªsyncthing.servceæ–‡ä»¶ï¼Œå†…å®¹å¦‚ä¸‹ã€‚æ³¨æ„Userä¸€æ è®¾ç½®è¿è¡ŒsyncthingæœåŠ¡çš„ç”¨æˆ·ï¼Œæ”¹æˆè‡ªå·±ç³»ç»Ÿçš„ç”¨æˆ·ã€‚
[Unit] Description=Syncthing - Open Source Continuous File Synchronization for %I Documentation=man:syncthing(1) After=network.target [Service] User=Jack ExecStart=/usr/bin/syncthing -no-browser -gui-address=&amp;#34;0.0.0.0:8384&amp;#34; -no-restart -logflags=0 Restart=on-failure SuccessExitStatus=3 4 RestartForceExitStatus=3 4 [Install] WantedBy=multi-user.target ç¬¬äºŒæ­¥ï¼šdaemon-reload/start/enableä¸‰ä»¶å¥—ã€‚
# æœåŠ¡é‡è½½ systemctl daemon-reload # å¯åŠ¨syncthingæœåŠ¡ systemctl start syncthing.service # è®¾ç½®å¼€æœºå¯åŠ¨ systemctl enable syncthing.service ç¬¬ä¸‰æ­¥ï¼šsyncthingé»˜è®¤ç«¯å£8384ï¼Œæ‰“å¼€æµè§ˆå™¨ï¼Œè®¿é—®http://host_ip:8384ï¼Œæå®š~</description>
    </item>
    
    <item>
      <title>Linuxä¸‹å®ç°USBè®¾å¤‡è‡ªåŠ¨æŒ‚è½½</title>
      <link>https://ruohai.wang/202307/linux-auto-mount-usb-storage/</link>
      <pubDate>Sat, 15 Jul 2023 02:49:06 +0800</pubDate>
      
      <guid>https://ruohai.wang/202307/linux-auto-mount-usb-storage/</guid>
      <description>å‰è¨€ ç»™ç©å®¢äº‘åˆ·çš„armbiané»˜è®¤ä¸æ”¯æŒusbè®¾å¤‡è‡ªåŠ¨æŒ‚è½½ï¼Œéœ€è¦è‡ªå·±æ‰‹åŠ¨mountï¼Œå¦‚æœæƒ³å®ç°å¼€æœºè‡ªåŠ¨æŒ‚è½½ï¼Œæœ‰è¿™ä¹ˆå‡ ä¸ªæ–¹æ¡ˆï¼š
å¦‚æœuç›˜ã€ç§»åŠ¨ç¡¬ç›˜æŒ‚ä¸Šå»å°±åŠæ°¸ä¹…ä¸ä¼šæ‹”ä¸‹æ¥ï¼Œé‚£å°±ç¼–è¾‘/etc/fstab å¦‚æœä¼šç»å¸¸æ’æ‹”ï¼Œè€Œä¸”åŠ¨æ‰‹èƒ½åŠ›å¼ºï¼Œå¯ä»¥ç¼–å†™udevçš„è§„åˆ™è„šæœ¬ å¦‚æœä¼šç»å¸¸æ’æ‹”ï¼Œä½†åˆä¸æƒ³å†™è„šæœ¬ï¼Œé‚£å°±è£…è½¯ä»¶ï¼Œæ¯”å¦‚udevilã€udiskieã€udisk2ã€usbmount æ ¹æ®è‡ªå·±çš„å®é™…æƒ…å†µï¼Œæœ€åæˆ‘é€‰æ‹©äº†udevilï¼Œä¸€ä¸ªæ˜¯å› ä¸ºå®‰è£…ç®€å•0é…ç½®è€Œä¸”ä¾èµ–å…³ç³»å¾ˆç®€å•ï¼Œå¦ä¸€ä¸ªæ˜¯å› ä¸ºcasaoså®ç°uç›˜è‡ªåŠ¨æŒ‚è½½ç”¨çš„ä¹Ÿæ˜¯è¿™ä¸ªæ–¹æ¡ˆã€‚
ğŸ˜„
å®‰è£… debiançš„è½¯ä»¶ä»“åº“é‡Œå°±æœ‰udevilï¼Œä¸€æ¡å‘½ä»¤å°±æå®šå®‰è£…
apt install udevil udevilçš„é…ç½®æ–‡ä»¶è·¯å¾„æ˜¯/etc/udevil/udevil.confï¼Œé»˜è®¤ä¼šæŠŠusbè®¾å¤‡æŒ‚è½½åˆ°/media/userç›®å½•ä¸‹ï¼ˆè¿™é‡Œçš„useråœ¨åé¢çš„å‘½ä»¤ä¸­ä½“ç°ï¼‰ã€‚å¦‚æœè¦è°ƒæ•´è‡ªåŠ¨æŒ‚è½½è·¯å¾„ï¼Œéœ€è¦åœ¨udevil.confä¸­ä¿®æ”¹ã€‚
æ¥ä¸‹å»è¦å¯åŠ¨udevilæœåŠ¡æƒ¹ã€‚
systemctl start devmon@jack.service æ³¨æ„å‘½ä»¤ä¸­çš„jackï¼Œè¿™é‡Œå¯¹åº”çš„æ˜¯linuxç³»ç»Ÿçš„ç”¨æˆ·è´¦æˆ·ã€‚å¦‚æœä½ çš„ç³»ç»Ÿä½¿ç”¨çš„è´¦æˆ·æ˜¯markï¼Œé‚£å¯¹åº”çš„å‘½ä»¤å°±æ˜¯devmon@markï¼Œusbè®¾å¤‡çš„æŒ‚è½½ç‚¹å°±æ˜¯/media/markã€‚
å¯åŠ¨æˆåŠŸä»¥åï¼Œå°±å¯ä»¥æ’æ‹”uç›˜ã€ç§»åŠ¨ç¡¬ç›˜æŸ¥çœ‹æŒ‚è½½æƒ…å†µäº†ï¼Œç¡®è®¤ä¸‹æ˜¯å¦å·¥ä½œæ­£å¸¸ã€‚
æœ€åå°±æ˜¯æŠŠudevilè®¾ç½®æˆå¼€æœºå¯åŠ¨ã€‚
systemctl enable devmon@jack.service é—®é¢˜ å®é™…ä½¿ç”¨ä¸­å‘ç°æœ‰ä¸€ç‚¹ç‚¹å°é—®é¢˜ï¼Œå¦‚æœsdå¡æ§½ä¸­æ’äº†å¡ï¼Œåœ¨ç³»ç»Ÿé‡å¯ä»¥åï¼Œsdå¡æ— æ³•è‡ªåŠ¨æŒ‚è½½ï¼Œéœ€è¦æ‰‹åŠ¨æ’æ‹”ä¸€æ¬¡ä»¥åæ‰èƒ½æ­£å¸¸è¯†åˆ«å¹¶è‡ªåŠ¨æŒ‚è½½ã€‚</description>
    </item>
    
    <item>
      <title>Apache2ä¸‹å®ç°Typechoæ°¸ä¹…é“¾æ¥ï¼ˆä¼ªé™æ€ï¼‰</title>
      <link>https://ruohai.wang/202307/apache2-url-rewrite/</link>
      <pubDate>Sat, 15 Jul 2023 02:43:32 +0800</pubDate>
      
      <guid>https://ruohai.wang/202307/apache2-url-rewrite/</guid>
      <description>ä¼ªé™æ€é€šè¿‡url rewriteå®ç°ï¼Œè¿™é‡Œè®°å½•ä¸‹apahceå¼€å¯rewriteåŠŸèƒ½çš„æ–¹æ³•ã€‚
é¦–å…ˆç¬¬ä¸€æ­¥è‚¯å®šæ˜¯åœ¨typechoåå°å¼€å¯åœ°å€é‡å†™åŠŸèƒ½ï¼Œä¸è¦ç®¡é”™è¯¯æç¤ºï¼Œé€‰æ‹©ã€å¯ç”¨ã€‘å¹¶ä¿å­˜è®¾ç½®ã€‚ ç„¶åå¼€å§‹åœ¨apache2ä¸­è¿›è¡Œé…ç½®ï¼š
æœ¬åœ°æ–°å»ºä¸€ä¸ªæ–‡ä»¶ï¼Œæ–‡ä»¶å**.htaccess** ï¼ŒæŠŠä¸‹é¢è¿™æ®µå†…å®¹ç²˜è´´è¿›å»ï¼Œä¿å­˜ï¼Œç„¶åä¸Šä¼ åˆ°ç½‘ç«™æ ¹ç›®å½•ã€‚ &amp;lt;IfModule mod_rewrite.c&amp;gt; RewriteEngine On RewriteBase / RewriteCond %{REQUEST_FILENAME} !-f RewriteCond %{REQUEST_FILENAME} !-d RewriteRule ^(.*)$ index.php [L,E=PATH_INFO:$1] &amp;lt;/IfModule&amp;gt; æ–‡ä»¶ä½ç½®ç¤ºæ„å›¾ï¼š
ä¿®æ”¹apache2.confï¼ˆå¦‚æœä½ çš„ç½‘ç«™è·¯å¾„ä¿¡æ¯é…ç½®åœ¨VirtualHostä¸‹åˆ™ä¿®æ”¹å¯¹åº”ä½ç½®ï¼‰ã€‚è¿™é‡Œä»¥é»˜è®¤çš„/var/wwwä¸ºä¾‹ï¼ŒæŠŠAllowOverrideåçš„å‚æ•°æ”¹ä¸ºFileInfoï¼Œä¸éœ€è¦æ”¹æˆallï¼Œfileinfoçš„æƒé™å°±å¤Ÿäº†ã€‚ &amp;lt;Directory /var/www/&amp;gt; Options Indexes FollowSymLinks AllowOverride FileInfo Require all granted &amp;lt;/Directory&amp;gt; å®Œæˆä»¥ä¸Šä¸¤æ­¥ä»¥åï¼Œå¯ä»¥è¯•ç€é‡å¯apache2ï¼Œå¦‚æœrewriteæ¨¡å—å·²ç»å¼€å¯çš„è¯ï¼Œåˆ°è¿™ä¸€æ­¥ä¼ªé™æ€å°±å·²ç»å®Œæˆäº†ã€‚ systemctl restart apache2 å¦‚æœå¾ˆä¸å¹¸æ“ä½œapache2é‡å¯ä»¥åä½ çš„åœ°å€é‡å†™åŠŸèƒ½ä¾ç„¶æ²¡æœ‰ç”Ÿæ•ˆï¼Œé‚£å°±æ˜¯æœåŠ¡å™¨æ²¡æœ‰å¯ç”¨rewriteæ¨¡å—ï¼Œæ‰§è¡Œä¸‹é¢è¿™æ¡å‘½ä»¤å¯ç”¨apache2-rewriteï¼Œç„¶åå†é‡å¯apache2ã€‚ a2enmod rewrite systemctl restart apache2 </description>
    </item>
    
    <item>
      <title>Linuxä¸‹å®‰è£…Navidromeè‡ªå»ºæµåª’ä½“æœåŠ¡</title>
      <link>https://ruohai.wang/202307/navidrome-setup/</link>
      <pubDate>Sat, 15 Jul 2023 00:28:12 +0800</pubDate>
      
      <guid>https://ruohai.wang/202307/navidrome-setup/</guid>
      <description>navidromeï¼Œå¼€æºçš„æµåª’ä½“æœåŠ¡å™¨ï¼Œå…¨å¹³å°å®¢æˆ·ç«¯éƒ½æœ‰ã€‚åŠŸèƒ½å’Œç¾¤æ™–çš„audio stationä¸€æ ·ï¼Œä½†é¦–å…ˆä¸æ˜¯äººäººéƒ½æœ‰ç¾¤æ™–ï¼Œå…¶æ¬¡æœ‰ç¾¤æ™–çš„äººä¹Ÿä¸ä¸€å®šéƒ½å–œæ¬¢ç¾¤æ™–é‚£ä¸ªæ²™é›•çš„audio stationã€‚
è¿™é‡Œè®°å½•ä¸‹å®‰è£…æ­¥éª¤ã€‚å…¶å®å®˜ç½‘çš„å®‰è£…æ•™ç¨‹å·²ç»éå¸¸å®Œæ•´ä¸”è¯¦ç»†ï¼Œåªæ˜¯æ²¡æœ‰ä¸­æ–‡ç‰ˆè€Œå·²ã€‚è‹±æ–‡é˜…è¯»æ²¡é—®é¢˜çš„å¯ä»¥ç›´æ¥çœ‹ã€å®˜æ–¹å®‰è£…æ•™ç¨‹ã€‘ã€‚è¿™é‡Œä»…åšä¸€ä¸ªè‡ªå·±å®‰è£…è¿‡ç¨‹çš„è®°å½•å’Œè‹±è¯‘ä¸­ã€‚æœ‰äººä¼šé—®navidromeä¸æ˜¯æ”¯æŒdockerå®‰è£…å—è€Œä¸”dockerå®‰è£…å¾ˆç®€å•ï¼ŒSTOPï¼æˆ‘ä¸å–œæ¬¢dockerï¼Œæ‰€ä»¥é€‰æ‹©è‡ªå·±æ‰‹æ“ã€‚
å¥½äº†ï¼Œè®©æˆ‘ä»¬å¼€å§‹å®‰è£…navidromeå§ï¼
ç¬¬ä¸€æ­¥ï¼šå®‰è£…ffmpegï¼ˆå¤§æ¦‚500MBï¼‰
apt install ffmpeg -y ç¬¬äºŒæ­¥ï¼šåˆ›å»ºnavidromeçš„å®‰è£…æ–‡ä»¶å¤¹å’Œè¿è¡Œæ–‡ä»¶å¤¹å¹¶åˆ†é…ç”¨æˆ·å’Œç»„ã€‚å¯¹çš„ï¼Œè¿™ä¸€æ­¥å°±è¦æƒ³å¥½è¿è¡Œnavidromeè¦åˆ†é…çš„æƒé™äº†ï¼Œæ€•éº»çƒ¦å°±rootä¸€æŠŠæ¢­ã€‚è¿™é‡Œç”¨æˆ·å’Œç»„æˆ‘ä»¬éƒ½ç”¨jackã€‚æ–‡ä»¶å¤¹è·¯å¾„å¯ä»¥è‡ªå®šä¹‰ï¼Œåªæ˜¯åé¢çš„é…ç½®è¿‡ç¨‹ä¸­åŒæ­¥ä¿®æ”¹ä¸ºè‡ªå®šä¹‰è·¯å¾„å³å¯ã€‚
install -d -o jack -g jack /opt/navidrome install -d -o jack -g jack /var/lib/navidrome ç¬¬ä¸‰æ­¥ï¼šè¿›å…¥/opt/navidromeï¼Œåˆ°å®˜æ–¹githubä¸‹è½½å¯¹åº”è‡ªå·±ç¡¬ä»¶å¹³å°ç‰ˆæœ¬çš„å®‰è£…åŒ…ï¼Œæˆ‘è¿™é‡Œä»¥amd64ç‰ˆæœ¬ä¸ºä¾‹ï¼Œè§£å‹å¹¶åˆ†é…æƒé™ã€‚
cd /opt/navidrome wget https://github.com/navidrome/navidrome/releases/download/v0.49.3/navidrome_0.49.3_Linux_arm64.tar.gz tar -zxvf navidrome_0.49.3_Linux_arm64.tar.gz chown -R jack:jack /opt/navidrome ç¬¬å››æ­¥ï¼šåœ¨/var/lib/navidromeç›®å½•ä¸‹åˆ›å»ºé…ç½®æ–‡ä»¶navidrome.tomlï¼Œé…ç½®å‚æ•°ã€‚é»˜è®¤åªæœ‰ä¸€å¥ï¼Œç”¨æ¥æŒ‡å®šéŸ³ä¹çš„æºæ–‡ä»¶è·¯å¾„ã€‚æ›´å¤šè‡ªå®šä¹‰å‚æ•°çœ‹ã€å®˜æ–¹é¡µé¢ã€‘ã€‚
MusicFolder = &amp;#34;/media/music&amp;#34; æ³¨æ„é…ç½®è¿™ä¸ªåª’ä½“æºæ–‡ä»¶å¤¹çš„ç”¨æˆ·æƒé™ï¼Œå¦‚æœå¼„ä¸æ¸…å°±ç…§æ ·åˆ†é…ç»™jackã€‚
chown -R jack:jack /media/music ç¬¬äº”æ­¥ï¼šåˆ°è¿™ä¸€æ­¥å…¶å®å·²ç»ç®—å¤§åŠŸå‘Šæˆäº†ï¼Œæ¥ä¸‹å»åªæ˜¯æŠŠnavidromeæ·»åŠ åˆ°ç³»ç»ŸæœåŠ¡å¹¶è®¾ç½®å¼€æœºè‡ªå¯ã€‚åœ¨/etc/systemd/systemç›®å½•ä¸‹æ–°å»ºnavidrome.serviceæ–‡ä»¶ï¼Œç„¶åæ·»åŠ é…ç½®ä¿¡æ¯ã€‚æ³¨æ„å‚æ•°ä¸­çš„Userå’ŒGroupä¸¤ä¸ªå‚æ•°å¯¹åº”çš„å€¼è¦æ”¹æˆä½ è‡ªå·±çš„å€¼ã€‚å…¶å®ƒå‚æ•°é»˜è®¤å³å¯ï¼Œå¦‚æœä½ èƒ½çœ‹æ‡‚å‚æ•°ä¹Ÿå¯ä»¥è‡ªè¡Œä¿®æ”¹ã€‚
[Unit] Description=Navidrome Music Server and Streamer compatible with Subsonic/Airsonic After=remote-fs.target network.target AssertPathExists=/var/lib/navidrome [Install] WantedBy=multi-user.target [Service] User=jack Group=jack Type=simple ExecStart=/opt/navidrome/navidrome --configfile &amp;#34;/var/lib/navidrome/navidrome.toml&amp;#34; WorkingDirectory=/var/lib/navidrome TimeoutStopSec=20 KillMode=process Restart=on-failure # See https://www.</description>
    </item>
    
    <item>
      <title>Linuxä¸‹Tailscaleçš„å®‰è£…å’Œé…ç½®</title>
      <link>https://ruohai.wang/202307/tailscale-setup/</link>
      <pubDate>Sat, 15 Jul 2023 00:25:16 +0800</pubDate>
      
      <guid>https://ruohai.wang/202307/tailscale-setup/</guid>
      <description>å‰è¨€ æˆ‘çš„naså’Œç©å®¢äº‘armbianå°ä¸»æœºçš„å¤–ç½‘è®¿é—®æ–¹æ¡ˆä¸€ç›´ç”¨çš„æ˜¯ipv6 + ddnsï¼Œå› ä¸ºæˆ‘æ‰‹ä¸Šæ­£å¥½æœ‰ä¸ªåŸŸåï¼Œè¿™ä¸ªæ–¹æ¡ˆç¡®å®å¾ˆå¥½ç”¨ï¼Œä¸ä»…æ–¹ä¾¿è€Œä¸”é…ç½®ä¹Ÿå¾ˆç®€å•ï¼Œé™¤äº†ipv6åœ°å€æ›´æ–°çš„ååˆ†é’Ÿå·¦å³çš„æ—¶é—´ä¼šçŸ­æš‚æ‰çº¿ï¼Œå…¶å®ƒæ–¹é¢æˆ‘è§‰å¾—å·²ç»ååˆ†å®Œç¾ã€‚
ä»Šå¤©åœ¨twitteræœ‰æœ‹å‹é—®é¢˜ç©å®¢äº‘æœºå™¨åˆ·armbianåèƒ½ä¸èƒ½è·‘tailscaleï¼Œæˆ‘è¯´æ²¡ç”¨è¿‡ä¸æ¸…æ¥šï¼Œä½†å‹¾èµ·äº†æˆ‘çš„å¥½å¥‡å¿ƒï¼Œæ‰€ä»¥æŒ‰ç…§å®˜æ–¹æ–‡æ¡£çš„æ‰‹å†Œå®‰è£…é…ç½®äº†ä¸€ä¸‹ï¼Œemmmï¼ŒåŒæ ·å¾ˆå¥½ç”¨ï¼ŒåŒæ ·å¾ˆæ–¹ä¾¿è€Œä¸”é…ç½®ç®€å•ï¼Œç®€å•åˆ°å‹æ ¹å°±æ²¡æœ‰å‡ æ­¥æ“ä½œï¼Œæ•™ç¨‹éƒ½æ²¡ä»€ä¹ˆå¥½å†™çš„ã€‚
ä½†æˆ‘åœ¨å®‰è£…ç»„ç½‘å¥½äº†ä»¥åè¿˜æ˜¯ç¢°åˆ°äº†ä¸€ç‚¹ç®€å•çš„ä½¿ç”¨å°ç–‘æƒ‘ã€‚è€Œä¸”tailscaleå’Œipv6å…¬ç½‘ä½¿ç”¨åœºæ™¯è™½ç„¶å­˜åœ¨é‡å ï¼Œä¹Ÿæ˜¯æœ‰ä¸€äº›å·®å¼‚åŒ–çš„ï¼Œæ‰€ä»¥è®°å½•ä¸€ä¸‹ã€‚
å®‰è£… é¦–å…ˆå°±æ˜¯å»ã€tailscaleå®˜ç½‘ã€‘æ³¨å†Œè´¦å·äº†ï¼Œæ²¡å•¥å¥½è¯´çš„ï¼Œæ ¹æ®å®˜ç½‘æç¤ºæ“ä½œå°±è¡Œäº†ã€‚æ³¨å†Œå¥½äº†ä»¥åï¼Œsshè¿›linuxæœºå™¨ï¼Œå¼€å§‹å®‰è£…ã€‚
ç¬¬ä¸€æ­¥ï¼šå®‰è£…ï¼Œä¸€æ¡å‘½ä»¤ï¼Œè€å¿ƒç­‰å®ƒè·‘å®Œï¼Œè·‘å®Œä¼šæç¤ºå®‰è£…æˆåŠŸã€‚
curl -fsSL https://tailscale.com/install.sh | sh å®‰è£…æˆåŠŸçš„æç¤º
ç¬¬äºŒæ­¥ï¼šæ ¹æ®ç»ˆç«¯é‡Œå®‰è£…æˆåŠŸçš„æç¤ºï¼Œå¯åŠ¨tailscaleã€‚
tailscale up å¯åŠ¨æˆåŠŸä»¥åï¼Œç»ˆç«¯ä¼šå‡ºç°ä¸€ä¸ªurlé“¾æ¥ï¼Œå¤åˆ¶é“¾æ¥åˆ°æµè§ˆå™¨ä¸­æ‰“å¼€ï¼Œæ ¹æ®æç¤ºä¸‹ä¸€æ­¥å†ä¸‹ä¸€æ­¥ï¼ŒæŠŠè®¾å¤‡æ·»åŠ åˆ°è‡ªå·±è´¦å·ã€‚
ç¬¬ä¸‰æ­¥ï¼šåœ¨tailscaleçš„ä¸ªäººä¸­å¿ƒçš„machinesæ ‡ç­¾é¡µï¼Œå¯ä»¥çœ‹åˆ°è‡ªå·±è´¦å·ä¸‹çš„è®¾å¤‡ã€‚
å¯ä»¥çœ‹åˆ°æ¯ä¸ªè®¾å¤‡åé¢éƒ½åˆ†é…äº†ä¸€ä¸ª100å¼€å¤´çš„ipv4åœ°å€ã€‚åˆ°è¿™ä¸€æ­¥å°±å®Œæˆäº†tailscaleçš„å®‰è£…ã€æ·»åŠ è®¾åˆ«å’Œå¼‚åœ°ç»„ç½‘ã€‚
ä½¿ç”¨ å‡å®šæˆ‘ç°åœ¨éœ€è¦åœ¨debianè¿™å°æœºå™¨ä¸Šè®¿é—®onecloudæœºå™¨ä¸Šçš„ä¸€ä¸ªæœåŠ¡ï¼ˆæ¯”å¦‚ç¾¤æ™–ï¼Œç«¯å£æ˜¯5000)ï¼Œé‚£åªéœ€è¦åœ¨debianæœºå™¨ä¸Šæ‰“å¼€æµè§ˆå™¨ï¼Œè¾“å…¥onecloudçš„tailscaleåˆ†é…çš„ipv4åœ°å€å’Œç«¯å£å·ï¼Œä¹Ÿå°±æ˜¯100.xxx.xx.xx:5000ï¼Œå°±å¯ä»¥æƒ¹~~å®æµ‹åŸºæœ¬èƒ½è·‘æ»¡å¸¦å®½ã€‚
å®é™…ä½“éªŒä¸‹æ¥ï¼Œæ³¨å†Œã€å®‰è£…ã€ä½¿ç”¨ï¼Œå®Œå…¨å°±æ˜¯å‚»ç“œå¼æ“ä½œï¼Œ0é…ç½®å°±å¯ä»¥ä½¿ç”¨ï¼Œæ¯”ipv6 + ddnsçš„æ–¹æ¡ˆè¿˜è¦ç®€å•ã€‚
ä½¿ç”¨åœºæ™¯ å†è¯´ä¸€ä¸‹tailscaleå’Œipv6æ–¹æ¡ˆä½¿ç”¨åœºæ™¯çš„ä¸åŒã€‚é»˜è®¤é…ç½®ä¸‹ï¼Œipv6æ˜¯å…¬ç½‘å¼€æ”¾çš„ï¼Œæ„å‘³ç€åªè¦çŸ¥é“ipv6åœ°å€å’Œç«¯å£å·ï¼Œæ‰€æœ‰äººéƒ½å¯ä»¥è®¿é—®åˆ°ï¼Œè¿™å°±å¸¦æ¥ä¸€ä¸ªå®‰å…¨ä¸Šé—®é¢˜ï¼Œéœ€è¦ç”¨æˆ·è‡ªå·±è¿›è¡Œä¸€äº›å®‰å…¨åŠ å›ºçš„é…ç½®ï¼Œæ¯”å¦‚è£…é˜²ç«å¢™ã€ä¿®æ”¹æœåŠ¡çš„é»˜è®¤ç«¯å£ã€ä½¿ç”¨å¤æ‚å¯†ç ç­‰ç­‰ã€‚ä½†tailscaleåªæ˜¯ä¸€ä¸ªè´¦æˆ·ä¸‹çš„å±€åŸŸç½‘ä¹‹å†…çš„è®¾å¤‡ä¹‹é—´å¼€æ”¾è®¿é—®ï¼Œå¹¶ä¸å¯¹å…¬ç½‘å¼€æ”¾ï¼Œè€Œä¸”tailscaleæœåŠ¡æœ¬èº«çš„å®‰å…¨æªæ–½å°±æ‹‰æ»¡ã€‚
æ‰€ä»¥æ¯”è¾ƒåˆé€‚çš„ä½¿ç”¨åœºæ™¯æ˜¯ï¼š
å…¬å¼€èµ„æ–™ï¼Œæ¯”å¦‚ç½‘ç»œèµ„æºï¼ˆç½‘ä¸Šèƒ½ä¸‹è½½åˆ°çš„å„ç§ç”µå½±ç”µè§†å‰§ç”µå­ä¹¦éŸ³ä¹å›¾ç‰‡æ–‡ç« ï¼‰ï¼Œç”¨ipv6 + ddnså³å¯ï¼Œæ³„éœ²ä¹Ÿæ— å¦¨ã€‚ ä¸ªäººèµ„æ–™ï¼Œï¼ˆå·¥ä½œç”Ÿæ´»å®¶åº­ä¸­çš„ç…§ç‰‡éŸ³é¢‘æ–‡æ¡£ç­‰ç§å¯†ææ–™ï¼‰ï¼Œç”¨tailscaleï¼Œæœç»ç§å¯†èµ„æ–™æ³„éœ²ã€‚ </description>
    </item>
    
    <item>
      <title>Linuxä¸‹firewalldé˜²ç«å¢™çš„å®‰è£…å’Œé…ç½®</title>
      <link>https://ruohai.wang/202307/firewalld-setup/</link>
      <pubDate>Sat, 15 Jul 2023 00:19:54 +0800</pubDate>
      
      <guid>https://ruohai.wang/202307/firewalld-setup/</guid>
      <description>å‰å‡ å¹´ä¹°äº†vpsä»¥åéƒ½æ˜¯è·‘ssä¸€é”®è„šæœ¬ç„¶åå°±æ‰”é‚£å„¿ä¸ç®¡äº†ï¼Œé™¤äº†vpsæœåŠ¡å•†é»˜è®¤æä¾›çš„å®‰å…¨æªæ–½ï¼Œå…¶å®ƒé˜²æŠ¤ä¸º0ã€‚è™½ç„¶åšäº†å¥½å¤šå¹´çš„webå¼€å‘ï¼Œä½†éƒ½åªæ˜¯åšä¸€äº›crudæ¬ç –ç²—æ´»ï¼Œå¯¹linuxç»´æŠ¤å¹¶ä¸äº†è§£ã€‚è¿™æ¬¡å€Ÿç€æŠ˜è…¾ç©å®¢äº‘å°æœºå™¨armbiançš„æœºä¼šï¼Œæ­£å¥½æ‘¸ç´¢å­¦ä¹ ä¸€ä¸‹ã€‚
ğŸ˜„
linuxä¸‹ç®¡ç†é˜²ç«å¢™è§„åˆ™çš„å·¥å…·ï¼Œå¤§è‡´æ˜¯iptables/firewalld/ufwï¼Œè¿™é‡Œç•¥è¿‡æ–¹æ¡ˆé€‰å‹è¿‡ç¨‹ï¼Œåªè¯´firewalldçš„å®‰è£…å’Œç®€å•é…ç½®ã€‚è¦æ³¨æ„firewalldå®‰è£…å¥½ä»¥åï¼Œé»˜è®¤åªå…è®¸dhcpv6-clientå’ŒsshæœåŠ¡ï¼Œå…¶å®ƒæœåŠ¡ã€ç«¯å£å…¨éƒ¨ä¼šè¢«æ‹¦æˆªï¼Œå¦‚æœsshæ”¹äº†è‡ªå®šä¹‰ç«¯å£ï¼ŒåŠ¡å¿…è¦è®°å¾—æ”¾è¡Œè¯¥ç«¯å£ã€‚
å®‰è£…ï¼Œå¾ˆç®€å•ã€‚å®‰è£…å¥½ä»¥åè‡ªåŠ¨å¯ç”¨ï¼Œè‡ªåŠ¨é…ç½®ä¸ºå¼€æœºå¯åŠ¨æœåŠ¡ã€‚
apt install firewalld æŸ¥çœ‹firewalldå½“å‰çŠ¶æ€
systemctl status firewalld æ°¸ä¹…å¼€æ”¾æŸä¸ªç«¯å£
firewall-cmd --add-port=80/tcp --permanent ä¿®æ”¹è§„åˆ™ä»¥åé‡è½½ç”Ÿæ•ˆ
firewall-cmd --reload æŸ¥çœ‹å½“å‰å¼€æ”¾çš„æœåŠ¡
firewall-cmd --list-service æŸ¥çœ‹å½“å‰å¼€æ”¾çš„ç«¯å£
firewall-cmd --list-ports æ°¸ä¹…å¼€æ”¾æŸä¸ªæœåŠ¡
firewall-cmd --add-service=samba --permanent æ°¸ä¹…å…³é—­æŸä¸ªç«¯å£
firewall-cmd --remove-port=22/tcp --permanent </description>
    </item>
    
    <item>
      <title>Linuxä¸‹é…ç½®RSAå…¬é’¥è®¤è¯ç™»å½•</title>
      <link>https://ruohai.wang/202307/pub-key-auth-config/</link>
      <pubDate>Fri, 14 Jul 2023 23:41:25 +0800</pubDate>
      
      <guid>https://ruohai.wang/202307/pub-key-auth-config/</guid>
      <description>ä¸ºäº†å®‰å…¨ï¼Œlinuxä¸»æœºä¸€èˆ¬éƒ½ä¼šç¦æ‰å¯†ç ç™»å½• + rsaå¯†é’¥è®¤è¯ç™»å½•ã€‚è¿™é‡Œè®°å½•ä»¥ä¸‹è¿™ä¸¤ä¸ªæ“ä½œçš„è¿‡ç¨‹ã€‚
ç¬¬ä¸€æ­¥ï¼šç”Ÿæˆrsaå¯†é’¥å¯¹ï¼Œä¸å¤šèµ˜è¿°ã€‚
ssh-keygen ç”Ÿæˆä¿©æ–‡ä»¶ï¼Œid_rsaå’Œid_rsa.pubã€‚
ç¬¬äºŒæ­¥ï¼šç¡®ä¿åœ¨linuxä¸»æœºç”¨æˆ·ç›®å½•ä¸‹æœ‰.sshæ–‡ä»¶å¤¹ï¼Œæ²¡æœ‰çš„è¯å°±æ–°å»ºã€‚
mkdir ~/.ssh ç¬¬ä¸‰æ­¥ï¼šç”¨sftpå‘½ä»¤æˆ–è€…sftpå®¢æˆ·ç«¯ï¼ŒæŠŠid_rsa.pubä¸Šä¼ åˆ°~/.sshç›®å½•ä¸‹ã€‚ä¸Šä¼ å®Œæˆåï¼Œæœ€å¥½æŠŠid_rsa.pubæ–‡ä»¶é‡å‘½åä¸ºauthorized_keysã€‚
ç¬¬å››æ­¥ï¼šç¼–è¾‘/etc/ssh/sshd_configæ–‡ä»¶ã€‚
# æ‰¾åˆ°è¿™ä¸ªé…ç½®ï¼Œå»æ‰æ³¨é‡Šå¯ç”¨ PubkeyAuthentication yes # æ‰¾åˆ°è¿™ä¸ªé…ç½®ï¼Œå»æ‰æ³¨é‡Šå¯ç”¨ AuthorizedKeysFile .ssh/authorized_keys ç¬¬äº”æ­¥ï¼šæœ¬åœ°ç»ˆç«¯é…ç½®å¥½id_rsaç§é’¥å°±å¯ä»¥sshå…å¯†ç ç™»å½•äº†ã€‚æ¥ä¸‹å»å°±æ˜¯ç¦ç”¨å¯†ç ç™»å½•ã€‚
# æ‰¾åˆ°è¿™ä¸ªé…ç½®ï¼Œå»æ‰æ³¨é‡Šå¯ç”¨ï¼Œæ³¨æ„valueæ˜¯noï¼Œç¦æ­¢å¯†ç éªŒè¯ PasswordAuthentication no ä¿®æ”¹åä¿å­˜é€€å‡ºï¼Œé‡å¯sshdåé…ç½®ç”Ÿæ•ˆã€‚ğŸ˜„
sysmtectl restart sshd </description>
    </item>
    
    <item>
      <title>Linuxä¸‹å®‰è£…qBittorrent</title>
      <link>https://ruohai.wang/202307/install-qbit/</link>
      <pubDate>Fri, 14 Jul 2023 23:35:17 +0800</pubDate>
      
      <guid>https://ruohai.wang/202307/install-qbit/</guid>
      <description>debianä»“åº“é‡Œqbitæœ‰ä¿©ç‰ˆæœ¬ï¼Œä¸€ä¸ªqbittorrentï¼Œå¦ä¸€ä¸ªqbittorrent-noxã€‚å‰è€…å¸¦qt5ç¼–å†™çš„guiï¼Œåè€…æ²¡æœ‰guiåªæœ‰webuiã€‚æˆ‘æ˜¯åœ¨ç©å®¢äº‘çš„å°æœºå™¨ä¸Šè£…ï¼Œä¸éœ€è¦guiï¼Œæ‰€ä»¥è¿™é‡Œé€‰qbittorrent-noxã€‚
apt install qbittorrent-nox å®‰è£…å®Œæˆåï¼Œç›´æ¥ç”¨å®ˆæŠ¤çº¿ç¨‹æ¨¡å¼å¯åŠ¨ã€‚
qbittorrent-nox -d é»˜è®¤ç«¯å£8080ï¼Œæ‰“å¼€æµè§ˆå™¨ï¼Œè®¿é—®http://host_ip:8080ï¼Œé»˜è®¤ç”¨æˆ·adminï¼Œé»˜è®¤å¯†ç adminadminï¼Œå°±å¯ä»¥å¼€å§‹ä½¿ç”¨äº†ã€‚
ä¹Ÿå¯ä»¥æŠŠqbitæ·»åŠ åˆ°systemdæœåŠ¡å¹¶è®¾ç½®å¼€æœºè‡ªå¯ï¼Œè¿™æ ·å°±ä¸éœ€è¦å†æ¯æ¬¡æ•²å‘½ä»¤å¯åŠ¨ã€‚
ç¬¬ä¸€æ­¥ï¼šåœ¨/etc/systemd/system/ç›®å½•ä¸‹æ–°å»ºæ–‡ä»¶qbittorrent.serviceï¼ŒæŠŠä¸‹é¢å†…å®¹å¤åˆ¶è¿›å»ï¼Œä¿å­˜é€€å‡ºã€‚æ³¨æ„Userä¸€æ çš„å€¼æ˜¯æŒ‡å®šè¿è¡Œqbitä»»åŠ¡çš„ç”¨æˆ·ï¼Œéœ€è¦æ ¹æ®è‡ªå·±çš„æƒ…å†µä¿®æ”¹ã€‚
[Unit] Description=qBittorrent Daemon Service After=network.target [Service] User=Jack ExecStart=/usr/bin/qbittorrent-nox ExecStop=/usr/bin/killall -w qbittorrent-nox [Install] WantedBy=multi-user.target ç¬¬äºŒéƒ¨ï¼šæ·»åŠ systemdæœåŠ¡çš„ä¸‰æ¡å‘½ä»¤ã€‚
# æœåŠ¡é‡è½½ systemctl daemon-reload # å¯åŠ¨æœåŠ¡(å¦‚æœå·²ç»å¯åŠ¨qbitï¼Œè¿™ä¸€æ­¥å¯ä»¥è·³è¿‡ï¼‰ systemctl start qbittorrent.service # æ·»åŠ ä¸ºå¼€æœºè‡ªå¯ systemctl enable qbittorrent.service </description>
    </item>
    
    <item>
      <title>Linuxä¸‹è‡ªå®šä¹‰ä¸»æœºåç§°ï¼ˆhostnameï¼‰</title>
      <link>https://ruohai.wang/202307/change-hostname/</link>
      <pubDate>Fri, 14 Jul 2023 23:28:48 +0800</pubDate>
      
      <guid>https://ruohai.wang/202307/change-hostname/</guid>
      <description>æŸ¥çœ‹å½“å‰çš„ä¸»æœºå
hostname æˆ–è€…
hostnamectl å›¾æ–¹ä¾¿å¯ä»¥ç”¨ä¸€æ¡å‘½ä»¤ä¿®æ”¹ï¼Œè¿™æ¡å‘½ä»¤ä¿®æ”¹çš„æ˜¯/etc/hostnameæ–‡ä»¶ã€‚é€€å‡ºé‡æ–°ç™»å½•ä»¥åå°±å¯ä»¥çœ‹åˆ°æ˜¯æ–°çš„ä¸»æœºå
hostnamectl set-hostname [newname] ä¸¥è°¨ä¸€äº›å¯ä»¥ä¿®æ”¹/etc/hostsï¼Œä½†ä¸Šé¢è¿™ä¸ªæ“ä½œåæˆ‘çš„ç›®çš„å·²ç»å®Œæˆï¼Œæ‰€ä»¥è¿™é‡Œä¸åšè®°å½•ã€‚ğŸ˜„</description>
    </item>
    
    <item>
      <title>Linuxä¸‹è®¾ç½®é™æ€IPï¼ˆå›ºå®šIPï¼‰</title>
      <link>https://ruohai.wang/202307/static-ip-address-config/</link>
      <pubDate>Fri, 14 Jul 2023 23:23:33 +0800</pubDate>
      
      <guid>https://ruohai.wang/202307/static-ip-address-config/</guid>
      <description>å…ˆæŸ¥çœ‹è‡ªå·±è®¾å¤‡çš„ç½‘å¡åç§°
ifconfig å¦‚æœæç¤ºå‘½ä»¤ä¸å­˜åœ¨ï¼Œåˆ™å…ˆå®‰è£…net-tools
apt install net-tools è·å–åˆ°ç½‘å¡åç§°åï¼Œåœ¨/etc/network/interfacesæ–‡ä»¶ä¸­è¿›è¡Œç¼–è¾‘ã€‚å­ç½‘æ©ç ã€ç½‘å…³åœ°å€ã€dnsåœ°å€å¯ä»¥æ ¹æ®è‡ªå·±çš„å®é™…ç½‘ç»œæƒ…å†µè¿›è¡Œè°ƒæ•´ã€‚å®Œæˆç¼–è¾‘ä»¥åä¿å­˜é€€å‡ºã€‚
# å¼€æœºè‡ªåŠ¨å¯ç”¨eth0 auto eth0 # ä½¿ç”¨é™æ€ip iface eth0 inet static # ipåœ°å€ address 192.168.1.4 # å­ç½‘æ©ç  netmask 255.255.255.0 # ç½‘å…³åœ°å€ gateway 192.168.1.1 # dnsæœåŠ¡å™¨ dns-nameservers 192.168.1.1 é‡å¯ç½‘ç»œ
service network restart æˆ–è€…
systemctl restart network å¦‚æœä»¥ä¸Šä¸¤ä¸ªå‘½ä»¤éƒ½æç¤ºæ— æ•ˆï¼Œç›´æ¥é‡å¯å§ã€‚ğŸ˜„</description>
    </item>
    
    <item>
      <title>Linuxä¸‹å®‰è£…Docker Engine</title>
      <link>https://ruohai.wang/202307/install-docker-engine/</link>
      <pubDate>Fri, 14 Jul 2023 23:20:11 +0800</pubDate>
      
      <guid>https://ruohai.wang/202307/install-docker-engine/</guid>
      <description>åœ¨linuxä¸Šå®‰è£…dockerï¼Œå®˜æ–¹æœ‰è¯¦ç»†çš„æ•™ç¨‹æŒ‡å¯¼å¦‚ä½•å®‰è£…ã€‚ä½†å¦‚æœä½ å’Œæˆ‘ä¸€æ ·ç”¨çš„linuxå‘è¡Œç‰ˆæ˜¯debianä»¥åŠdebiançš„è¡ç”Ÿå‘è¡Œç‰ˆï¼Œå¯ä»¥ç›´æ¥ç”¨debianå®˜æ–¹ç»´æŠ¤çš„docker.ioã€‚
apt install docker.io dockerå®˜æ–¹æŠŠdocker.ioç§°ä¸ºunofficial packageséå®˜æ–¹çš„ç‰ˆæœ¬ã€‚
å› ä¸ºdocker.ioæ˜¯debianåœ¨ç»´æŠ¤è€Œä¸æ˜¯dockerå®˜æ–¹ï¼Œè€Œä¸”2019å¹´çš„æ—¶å€™æ›¾ç»åœæ­¢ç»´æŠ¤äº†1å¹´å¯¼è‡´ç‰ˆæœ¬è½åå¤ªå¤šã€‚ä½†ç°åœ¨ä¸ç”¨æ‹…å¿ƒdocker.ioç‰ˆæœ¬é—®é¢˜ï¼Œç›®å‰ä»“åº“é‡Œå·²ç»æ˜¯20.10.24ã€‚</description>
    </item>
    
    <item>
      <title>Linuxä¸‹æ·»åŠ è‡ªå®šä¹‰alias</title>
      <link>https://ruohai.wang/202307/add-alias/</link>
      <pubDate>Fri, 14 Jul 2023 23:14:36 +0800</pubDate>
      
      <guid>https://ruohai.wang/202307/add-alias/</guid>
      <description>linuxä¸‹æ·»åŠ è‡ªå®šä¹‰aliasï¼Œç¼–è¾‘çš„æ–‡ä»¶ä½ç½®æœ‰ä¿©åœ°æ–¹ï¼Œå…¨å±€ï¼ˆå¯¹æ‰€æœ‰ç”¨æˆ·ç”Ÿæ•ˆï¼‰ç”Ÿæ•ˆæ˜¯/etc/bash.bashrcï¼Œå¯¹å½“å‰ç”¨æˆ·ç”Ÿæ•ˆæ˜¯~/.bashrcã€‚
è¿™é‡Œä»¥ä»…é’ˆå¯¹å•ä¸ªç”¨æˆ·è¿›è¡Œé…ç½®ä¸ºä¾‹ã€‚
nano ~/.bashrc åœ¨æœ€åº•ä¸‹æ·»åŠ ä¸€è¡Œ
alias ll=&amp;#39;ls -l&amp;#39; ä¿å­˜ï¼Œç„¶åç”¨sourceå‘½ä»¤ä½¿ç”Ÿæ•ˆ
source ~/.bashrc </description>
    </item>
    
    <item>
      <title>Linuxä¸‹å®‰è£…File Browser</title>
      <link>https://ruohai.wang/202307/filebrowser-setup/</link>
      <pubDate>Fri, 14 Jul 2023 23:00:29 +0800</pubDate>
      
      <guid>https://ruohai.wang/202307/filebrowser-setup/</guid>
      <description>ç¬¬ä¸€æ­¥ï¼šæ–°å»ºå®‰è£…ç›®å½•
mkdir /usr/local/filebrowser ç¬¬äºŒæ­¥ï¼šæ ¹æ®è‡ªå·±çš„ç¡¬ä»¶å¹³å°ä»ã€å®˜æ–¹github repoã€‘ä¸‹è½½å¯¹åº”ç‰ˆæœ¬çš„å®‰è£…åŒ…ï¼Œè¿™é‡Œä»¥armv7ä¸ºä¾‹ã€‚
# è¿›å…¥å®‰è£…æ–‡ä»¶å¤¹ cd /usr/local/filebrowser # ä¸‹è½½å®‰è£…åŒ… wget https://github.com/filebrowser/filebrowser/releases/download/v2.23.0/linux-armv7-filebrowser.tar.gz # è§£å‹ tar -zxvf linux-armv7-filebrowser.tar.gz ç¬¬ä¸‰æ­¥ï¼šåœ¨å®‰è£…ç›®å½•/usr/local/filebrowserä¸‹æ–°å»ºconfig.jsonï¼Œæ·»åŠ é…ç½®ä¿¡æ¯ã€‚
# åˆ›å»ºé…ç½®æ–‡ä»¶ nano /usr/local/filebrowser/config.json æ·»åŠ ä»¥ä¸‹å†…å®¹ã€‚å…¶ä¸­rootå‚æ•°ç”¨æ¥æŒ‡å®šfireborwserå±•ç¤ºçš„æ ¹ç›®å½•ï¼Œæ¯”å¦‚è®¾å®šä¸º/homeï¼Œåˆ™webuiä¸­åªèƒ½çœ‹åˆ°/homeç›®å½•ä¸‹çš„å†…å®¹ã€‚
{ &amp;#34;port&amp;#34;: 8600, &amp;#34;address&amp;#34;: &amp;#34;0.0.0.0&amp;#34;, &amp;#34;root&amp;#34;: &amp;#34;/&amp;#34;, &amp;#34;database&amp;#34;: &amp;#34;/usr/local/filebrowser/filebrowser.db&amp;#34;, &amp;#34;log&amp;#34;: &amp;#34;/var/log/filebrowser.log&amp;#34;, &amp;#34;username&amp;#34;: &amp;#34;admin&amp;#34; } ç¬¬å››æ­¥ï¼šæŠŠfilebrowseræ·»åŠ åˆ°systemdæœåŠ¡ã€‚
# åˆ›å»ºé…ç½®æ–‡ä»¶ nano /etc/systemd/system/filebrowser.service æ·»åŠ å¦‚ä¸‹å†…å®¹åä¿å­˜é€€å‡ºã€‚
[Unit] Description=The filebrowser Process Manager After=network.target [Service] Type=simple ExecStart=/usr/local/filebrowser/filebrowser -c /usr/local/filebrowser/config.json ExecStop=/bin/killall filebrowser PrivateTmp=true [Install] WantedBy=multi-user.target ç¬¬äº”æ­¥ï¼šsystemdé‡è½½æœåŠ¡å¹¶è®¾ç½®å¼€æœºå¯åŠ¨
# é‡è½½æœåŠ¡ systemctl daemon-reload # å¯åŠ¨filebrowser systemctl start filebrowser.service # è®¾ç½®å¼€æœºå¯åŠ¨ systemctl enable filebrowser.</description>
    </item>
    
    <item>
      <title>Linuxä¸‹Bash Shellå¼€å¯å‘½ä»¤è‡ªåŠ¨è¡¥å…¨</title>
      <link>https://ruohai.wang/202307/bash-completion-setup/</link>
      <pubDate>Fri, 14 Jul 2023 22:51:22 +0800</pubDate>
      
      <guid>https://ruohai.wang/202307/bash-completion-setup/</guid>
      <description>å¦‚æœåªæ˜¯å¯¹å•ä¸ªç”¨æˆ·ç”Ÿæ•ˆï¼Œé‚£ä¸‹æ–‡ä¸­çš„/etc/bash.bashrcéƒ½è¦è°ƒæ•´ä¸º~/.bashrcã€‚
ç¬¬ä¸€æ­¥ï¼šå®‰è£…bash-completionã€‚
apt install bash-completion ç¬¬äºŒæ­¥ï¼šæŸ¥çœ‹/etc/bash.bashrcæ–‡ä»¶ä¸­æ˜¯å¦é€‚é…ã€‚
# æ‰“å¼€bashçš„ç”¨æˆ·é…ç½®æ–‡ä»¶ nano /etc/bash.bashrc æŸ¥çœ‹æ˜¯å¦æœ‰ä¸‹é¢è¿™æ®µå†…å®¹ï¼Œå¦‚æœæ²¡æœ‰å°±æ·»åŠ åˆ°æœ€åï¼Œä¿å­˜é€€å‡ºã€‚è¿™æ®µä»£ç çš„æ„æ€æ˜¯åˆ¤æ–­ç³»ç»Ÿæ˜¯å¦å®‰è£…äº†bash_completionï¼Œå¦‚æœå®‰è£…åˆ™å¯ç”¨è‡ªåŠ¨è¡¥å…¨åŠŸèƒ½ã€‚
if ! shopt -oq posix; then if [ -f /usr/share/bash-completion/bash_completion ]; then . /usr/share/bash-completion/bash_completion elif [ -f /etc/bash_completion ]; then . /etc/bash_completion fi fi ç¬¬ä¸‰æ­¥ï¼šé‡æ–°åŠ è½½ç”¨æˆ·çš„bashé…ç½®ä¿¡æ¯ã€‚
source /etc/bash.bashrc </description>
    </item>
    
    <item>
      <title>Linuxä¸‹ä¿®æ”¹SSHé»˜è®¤ç«¯å£</title>
      <link>https://ruohai.wang/202307/set-new-ssh-port/</link>
      <pubDate>Fri, 14 Jul 2023 22:28:56 +0800</pubDate>
      
      <guid>https://ruohai.wang/202307/set-new-ssh-port/</guid>
      <description>å‰è¨€ è¿™æ˜¯ä¸€ç¯‡ä»æ¬ç“¦å·¥vpsçš„typechoæ¬è¿‡æ¥çš„æ–‡ç« ã€‚å¯¹å†…å®¹å’Œæ ¼å¼åšäº†è½»å¾®è°ƒæ•´ã€‚
å†™è¿™ç¯‡æ–‡ç« æ˜¯å› ä¸ºå‰ä¸¤å¤©æƒ³åŠ¨æ‰‹æ”¹linuxä¸»æœºçš„é»˜è®¤sshç«¯å£ï¼Œä½†å‘ç°æ— è®ºæ€ä¹ˆæ”¹sshd_configæ–‡ä»¶éƒ½æ— æµäºäº‹ã€‚ç®€ä¸­äº’è”ç½‘ä¸Šä»¥å…³é”®å­—sshã€ä¿®æ”¹ç«¯å£ä¹‹ç±»æœå‡ºæ¥çš„æ–‡ç« éƒ½åƒç¯‡ä¸€å¾‹ï¼Œå†æœç«¯å£ä¿®æ”¹ä»¥åæ— æ•ˆï¼Œå‡ºæ¥çš„å†…å®¹éƒ½è¯´å› ä¸ºselinuxã€‚æˆ‘å°±åœ¨è¿™è¿™ä¸ªé”™è¯¯çš„æ–¹å‘ä¸ŠæŠ˜è…¾äº†å¥½ä¹…ï¼Œä½†å®é™…æˆ‘çš„ä¸»æœºå‹æ ¹å°±æ²¡å¼€å¯selinuxã€‚
æœ€åç”¨googleæœè‹±æ–‡å…³é”®å­—ï¼Œæ‰æ‰¾åˆ°åŸå› ï¼šsystemdç¯å¢ƒä¸‹sshåˆ†ä¸ºssh.socketå’Œssh.serviceï¼Œè¿™ä¿©ä¸åŒæœåŠ¡çš„é…ç½®æ–‡ä»¶å®Œå…¨ä¸åŒã€‚è€Œè¾ƒæ–°çš„debian/ubuntuç³»ç»Ÿç”¨çš„æ˜¯ssh.socketã€‚
æ‰¾åˆ°é—®é¢˜åŸå› ä»¥åå°±å¾ˆå¥½è§£å†³äº†ï¼Œè¿™é‡Œåšç®€å•è®°å½•ã€‚
æŸ¥çœ‹sshæœåŠ¡ç±»å‹ è¦ä¿®æ”¹sshé»˜è®¤ç«¯å£ï¼Œé¦–å…ˆè¦åˆ†æ¸…æ¥šè‡ªå·±linuxæœºå™¨çš„sshæ˜¯ssh.socketè¿˜æ˜¯ssh.serviceã€‚
systemctl status sshd æ ¹æ®å›¾ä¸­å‡ºç°çš„ssh.socketå­—æ ·åŒºåˆ†ã€‚ ssh.service ssh.serviceçš„ç«¯å£ä¿®æ”¹å¾ˆç®€å•ï¼Œæ‰“å¼€é…ç½®æ–‡ä»¶
nano /etc/ssh/sshd_config æ‰¾åˆ°portçš„é…ç½®è¿›è¡Œä¿®æ”¹
# æ‰¾åˆ°è¿™æ¡ï¼Œé»˜è®¤æ˜¯æ³¨é‡Šæ‰çš„ï¼Œè¿™é‡Œå»æ‰æ³¨é‡Š Port 22 # æ·»åŠ ä¸€è¡Œè‡ªå®šä¹‰çš„ç«¯å£ Port 12345 ç„¶åé‡å¯sshæœåŠ¡å³å¯
systemctl restart sshd æµ‹è¯•æ–°ç«¯å£OKä»¥åï¼Œå†æ³¨é‡Šæ‰æ—§ç«¯å£ç„¶åé‡å¯sshdå³å¯ã€‚
ssh.socket ssh.socketé…ç½®æ–‡ä»¶åœ¨/lib/systemd/system/ssh.socketï¼Œä½†æˆ‘å»ºè®®ä½ åƒä¸‡ä¸è¦å»åŠ¨åŸå§‹æ–‡ä»¶ã€‚é¦–å…ˆæ˜¯è¿™ä¸ªé…ç½®æ–‡ä»¶ä¼šåœ¨æ›´æ–°opensshçš„æ—¶å€™è¢«è¦†ç›–æ‰ï¼Œå…¶æ¬¡åœ¨ssh.socketè¿è¡ŒçŠ¶æ€ä¸‹ä¿®æ”¹é…ç½®æ–‡ä»¶ï¼Œä¼šå¯¼è‡´ssh.socketæœåŠ¡å‡ºç°å¼‚å¸¸ï¼ˆåœæ­¢å·¥ä½œè€Œä¸”æ— æ³•æ¥å—æ–°çš„è¿æ¥ï¼‰ã€‚æ‰€ä»¥æ­£ç¡®çš„é…ç½®æ–¹å¼å¦‚ä¸‹
# æ–°å»ºé…ç½®æ–‡ä»¶ç›®å½• mkdir -p /etc/systemd/system/ssh.socket.d æ–°å»ºé…ç½®æ–‡ä»¶å¹¶å†™å…¥ç›‘å¬ç«¯å£ä¿¡æ¯
cat &amp;gt;/etc/systemd/system/ssh.socket.d/listen.conf &amp;lt;&amp;lt;EOF [Socket] # è¿™ä¸€æ éœ€è¦ä¿ç•™ï¼Œç”¨æ¥è¦†ç›–åŸé…ç½®æ–‡ä»¶ä¸­çš„22ç«¯å£ ListenStream= # è¿™ä¸€æ å¡«å†™æ–°çš„sshç«¯å£ ListenStream=1234 EOF æœ€åå°±æ˜¯systemdé‡è½½æœåŠ¡å¹¶é‡å¯sshäº†ã€‚
# é‡è½½æœåŠ¡ systemctl daemon-reload # é‡å¯ssh systemctl restart ssh è¿™ä¸ªé…ç½®æ–¹æ³•çš„å‚è€ƒæ¥æºï¼š
https://askubuntu.com/questions/1439461/ssh-default-port-not-changing-ubuntu-22-10 https://discourse.ubuntu.com/t/sshd-now-uses-socket-based-activation-ubuntu-22-10-and-later/30189/6 ä»ssh.socketåˆ‡æ¢åˆ°ssh.service è®²çœŸï¼Œæˆ‘è™½ç„¶å·²ç»æŒæ¡åœ¨ssh.socketæ¨¡å¼ä¸‹é…ç½®æ–°ç«¯å£çš„æ–¹æ³•ï¼Œä½†å®é™…æ“ä½œè¿‡ç¨‹ä¸­è¿˜æ˜¯ç¢°åˆ°äº†ssh.socketå¼‚å¸¸çš„é—®é¢˜ã€‚é‚£ä¸å¦‚ç›´æ¥ä»ssh.socketåˆ‡æ¢åˆ°ssh.serviceå§ï¼
# ç¦ç”¨ssh.socketæœåŠ¡ systemctl disable --now ssh.socket # å¯ç”¨ssh.</description>
    </item>
    
    <item>
      <title>Linuxä¸‹ç”¨Hugoæ­å»ºåšå®¢å¹¶éƒ¨ç½²åˆ°Github Pages</title>
      <link>https://ruohai.wang/202307/hugo-setup-and-deploy-to-github/</link>
      <pubDate>Fri, 14 Jul 2023 15:15:15 +0800</pubDate>
      
      <guid>https://ruohai.wang/202307/hugo-setup-and-deploy-to-github/</guid>
      <description>å‰è¨€ æ‰‹ä¸Šå¥½å‡ å°armv7å¹³å°çš„ç”µå­åƒåœ¾ï¼Œæ²¡é”™è¯´çš„å°±æ˜¯è¿…é›·èµšé’±å®äºŒä»£ï¼ˆws1508ï¼‰å’Œè¿…é›·ç©å®¢äº‘ï¼ˆws1608ï¼‰ã€‚æ€»ç¢ç£¨ç€è®©è¿™äº›ç”µå­åƒåœ¾åœ¨å®ƒä»¬çš„ç”Ÿå‘½æœ«æœŸå‘æŒ¥æœ€åçš„å…‰å’Œçƒ­ï¼Œç»™å®ƒä»¬åˆ·armbianã€åˆ·openwrtã€‚æ­£å¥½æˆ‘çš„æ¬ç“¦å·¥vpsè¿˜å‰©åŠä¸ªæœˆè¦åˆ°æœŸäº†ï¼Œ49.99åˆ€/å¹´çš„è´¹ç”¨ï¼Œå¯¹äºç°åœ¨çš„æˆ‘ä¹Ÿç®—æ˜¯ä¸€ç¬”ä¸å°çš„æ”¯å‡ºã€‚èƒ½çœåˆ™çœï¼Œæ‰€ä»¥å‡†å¤‡åšå®¢æ¬å®¶ã€‚æœ‰å¾ˆå¤šæ¡åƒåœ¾ç©å®¶ä¼šæŠŠåšå®¢è·‘åœ¨è‡ªå·±çš„armå°ä¸»æœºä¸Šï¼Œä½†å›½å†…çš„ç½‘ç»œç¯å¢ƒä¸‹ï¼Œè‡ªå»ºæœåŠ¡å™¨çš„å¤‡æ¡ˆå’Œ80/443ç«¯å£è§£å°æ ¹æœ¬æ— è§£ï¼Œåªèƒ½åšåˆ°url:portè¿›è¡Œå…¬ç½‘è®¿é—®ï¼Œä½†è¿™çº¯ç²¹å°±æ˜¯è‡ªå¨±è‡ªä¹å˜›ã€‚æœ€åè¿˜æ˜¯å†³å®šæŠŠåšå®¢éƒ¨ç½²åˆ°å…è´¹çš„github pagesã€‚
æ—¢ç„¶è¦ç”¨github pagesï¼Œé‚£åªèƒ½ç”¨é™æ€åšå®¢ï¼Œæ— è®ºæ˜¯hexoã€hugoè¿˜æ˜¯jekyllï¼Œéƒ½éœ€è¦ä¸€ä¸ªæœ¬åœ°çš„ç¼–è¯‘ç¯å¢ƒã€‚æ—¢ç„¶å¦‚æ­¤ï¼Œæ­£å¥½å°è¯•ä¸€ä¸‹åœ¨èµšé’±å®äºŒä»£ï¼ˆws1508ï¼‰è¿™å°è®¾å¤‡ä¸Šå®‰è£…hugoã€‚
ç©å®¢äº‘ï¼ˆws1608ï¼‰å’Œèµšé’±å®äºŒä»£ï¼ˆws1508ï¼‰ä¸»è¦ç¡¬ä»¶é…ç½®ä¸Šä¸€æ¨¡ä¸€æ ·ï¼ŒåŒæ ·é€‚ç”¨è¿™ä¸ªæ•™ç¨‹ã€‚
å…¶å®å…¨å¹³å°éƒ½é€‚ç”¨è¿™ä¸ªæ•™ç¨‹ï¼Œåªéœ€è¦æŠŠapt installæ¢æˆè‡ªå·±ç³»ç»Ÿçš„ç‰ˆæœ¬å°±è¡Œäº†ã€‚
å‰æœŸå‡†å¤‡ ä¸€å°åŠŸèƒ½æ­£å¸¸çš„ç”µè„‘/ä¸»æœºï¼Œlinux/windows/macos/&amp;hellip;ã€‚èµšé’±å®äºŒä»£çš„ç¡¬ä»¶æ˜¯32ä½armv7ï¼Œç³»ç»Ÿæ˜¯armbian-bookworn githubè´¦å·ï¼Œå‡å®šç”¨æˆ·åjackï¼Œå¹¶æ–°å»ºrepoå–åä¸ºjack.github.io å®‰è£…hugo å®‰è£…git apt install git å®‰è£…hugoã€‚åœ¨armbian-bookwormçš„ä»“åº“é‡Œæœ‰hugoï¼Œåœ¨å½“ä¸‹è¿™ä¸ªæ—¥æœŸï¼ˆ2023-07-14ï¼‰ï¼Œä»“åº“é‡Œçš„hugoç‰ˆæœ¬æ˜¯v0.111.3ï¼Œæ˜¯2023å¹´3æœˆå‘å¸ƒçš„ã€‚github hugoå®˜æ–¹ä»“åº“çš„ç‰ˆæœ¬å·²ç»æ˜¯v0.115.3ã€‚è™½ç„¶éƒ½è¯´å–œæ–°åŒæ—§ï¼Œä½†è¿™ä¸æ˜¯å·§äº†ä¹ˆï¼Œæˆ‘å°±ç”¨armbianä»“åº“çš„æ—§ç‰ˆã€‚ apt install hugo 2023-07-17 update è¿™é‡Œè¡¥å……ä¸€ä¸‹é€šè¿‡ä¸‹è½½å®˜æ–¹github repoçš„äºŒè¿›åˆ¶åŒ…å®‰è£…çš„æ–¹æ³•ã€‚
1-æ–°å»ºå®‰è£…ç›®å½•
mkdir -p /usr/local/hugo 2-åˆ°å®˜æ–¹github repoä¸‹è½½å¯¹åº”è‡ªå·±ç¡¬ä»¶å¹³å°çš„åŒ…ï¼Œæˆ‘çš„è®¾å¤‡æ˜¯èµšé’±å®äºŒä»£ï¼ˆws1508ï¼‰ï¼Œè€æœ‹å‹äº†ï¼Œarmv7ã€‚
cd /usr/local/hugowget https://github.com/gohugoio/hugo/releases/download/v0.115.3/hugo_0.115.3_linux-arm.tar.gztar -zxvf hugo_0.115.3_linux-arm.tar.gz 3-è§£å‹ä»¥åå¾—åˆ°çš„hugoå®‰è£…åŒ…é»˜è®¤å°±æœ‰å¯æ‰§è¡Œæƒé™ï¼Œæ¥ä¸‹å»è¦åšçš„æ˜¯æŠŠhugoæ·»åŠ åˆ°ç¯å¢ƒå˜é‡ã€‚æˆ‘è¿™é‡ŒæŠŠç¯å¢ƒå˜é‡é…ç½®åˆ°~/.bashrcï¼Œä»…å¯¹å½“å‰ç”¨æˆ·ç”Ÿæ•ˆã€‚å¦‚æœè¦å…¨å±€ç”Ÿæ•ˆï¼Œå¯ä»¥æ·»åŠ åˆ°/etc/profileã€‚
nano ~/.bashrc æœ«å°¾æ·»åŠ ä¸€è¡Œã€‚
export PATH=$PATH:/usr/local/hugo ä¿å­˜é€€å‡ºï¼Œé‡è½½é…ç½®ä½¿ç”Ÿæ•ˆ
source ~/.bashrc 4-åˆ°è¿™éƒ¨å°±å®‰è£…å®Œæˆäº†ã€‚æ‰§è¡Œä»¥ä¸‹å‘½ä»¤æŸ¥çœ‹æ˜¯å¦æˆåŠŸã€‚
hugo -h å¦‚æœå®‰è£…æˆåŠŸçš„è¯ï¼Œä¼šå‡ºç°hugoçš„å¸®åŠ©æ‰‹å†Œã€‚
åˆ›å»ºåšå®¢ç›®å½•ï¼Œä¸‹è½½ä¸»é¢˜ # ä¸ºæ–¹ä¾¿ç®¡ç†åœ¨æ ¹ç›®å½•æ–°å»ºdataæ–‡ä»¶å¤¹mkdir /data# åœ¨dataç›®å½•ä¸‹åˆ›å»ºåšå®¢ç›®å½•cd data/hugo new site blog# è¿›å…¥blogç›®å½•ï¼Œè¿›è¡Œgitåˆå§‹åŒ–cd blog/git init# ä¸‹è½½è‡ªå·±å–œæ¬¢çš„ä¸»é¢˜ï¼ˆè¿™é‡Œç”¨m10cä¸ºä¾‹ï¼‰git clone https://github.</description>
    </item>
    
    <item>
      <title>Linuxä¸‹ç”¨Speedtest CLIè¿›è¡Œç½‘ç»œæµ‹é€Ÿ</title>
      <link>https://ruohai.wang/202307/speedtest-cli-setup/</link>
      <pubDate>Fri, 14 Jul 2023 14:57:37 +0800</pubDate>
      
      <guid>https://ruohai.wang/202307/speedtest-cli-setup/</guid>
      <description>å‰è¨€ æƒ³è¦linuxä¸‹æµ‹ä¸€ä¸‹ç½‘é€Ÿï¼Œæœºå™¨æ˜¯èµšé’±å®äºŒä»£ï¼ˆws1508ï¼‰ï¼Œç¡¬ä»¶æ˜¯32ä½armv7ï¼Œç³»ç»Ÿæ˜¯armbian-bookwormã€‚
debiançš„ä»“åº“é‡Œæœ‰ä¸€ä¸ªspeedtest-cliçš„åŒ…ï¼Œä¸€å¼€å§‹æˆ‘ç”¨çš„å°±æ˜¯è¿™ä¸ªã€‚ä½†æ³¨æ„è¿™ä¸ªåŒ…ä¸æ˜¯speedtestå®˜æ–¹åœ¨ç»´æŠ¤ï¼Œä¸æ˜¯å®˜æ–¹çš„ï¼è¿™ä¹Ÿè§£é‡Šäº†ä¸ºä»€ä¹ˆæˆ‘ä¹‹å‰ç”¨debianä»“åº“é‡Œçš„speedtest-cliè¿›è¡Œæµ‹é€Ÿçš„æ—¶å€™ï¼Œå®ƒè‡ªåŠ¨é€‰æ‹©çš„æœåŠ¡å™¨éƒ½æ˜¯hongkongæˆ–è€…taiwanï¼Œå¯¼è‡´æµ‹é€Ÿå®Œå…¨ä¸å‡†ã€‚è€Œä¸”é€šè¿‡å‘½ä»¤speedtest --list|grep Chinaä¹Ÿæœä¸å‡ºä»»ä½•ç»“æœï¼Œä¸€åº¦ç¦»è°±åˆ°speedtest --listå‡ºæ¥åªæœ‰taiwançš„æœåŠ¡å™¨ã€‚
åæ¥ç½‘ä¸Šæœäº†ä¸€åœˆã€æ‰¾åˆ°äº†åŸå› ã€‘ï¼Œæ‰çŸ¥é“è¿™ä¸ªåŒ…ä¸æ˜¯speedtestå®˜æ–¹çš„ã€‚
linuxä¸ŠçœŸçš„æ˜¯å¥½å¤šå‘å•Šï¼Œä¸€ä¸ªç®€å•çš„ç½‘ç»œæµ‹é€Ÿéƒ½æ˜¯å¦‚æ­¤ã€‚
å¥½äº†ï¼Œç°åœ¨è®°å½•ä¸€ä¸‹æ€ä¹ˆå®‰è£…speedtestå®˜æ–¹çš„å·¥å…·æ¥å®Œæˆlinuxä¸‹çš„ç½‘ç»œæµ‹é€Ÿã€‚
å®‰è£… æ‰¾åˆ°ã€speedtestå®˜æ–¹ç½‘ç«™ã€‘ï¼Œé¦–é¡µå°±æœ‰å®‰è£…æ­¥éª¤ã€‚ # ä¸‹è½½shè„šæœ¬ curl -s https://packagecloud.io/install/repositories/ookla/speedtest-cli/script.deb.sh | sudo bash # å®‰è£… apt install speedtest æŸ¥è¯¢å¯ç”¨çš„æµ‹é€ŸæœåŠ¡å™¨ å…ˆspeedtest -hçœ‹ä¸€ä¸‹ä½¿ç”¨æ‰‹å†Œã€‚ Usage: speedtest [&amp;lt;options&amp;gt;] -h, --help Print usage information -V, --version Print version number -L, --servers List nearest servers -s, --server-id=# Specify a server from the server list using its id -I, --interface=ARG Attempt to bind to the specified interface when connecting to servers -i, --ip=ARG Attempt to bind to the specified IP address when connecting to servers -o, --host=ARG Specify a server, from the server list, using its host&amp;#39;s fully qualified domain name -p, --progress=yes|no Enable or disable progress bar (Note: only available for &amp;#39;human-readable&amp;#39; or &amp;#39;json&amp;#39; and defaults to yes when interactive) -P, --precision=# Number of decimals to use (0-8, default=2) -f, --format=ARG Output format (see below for valid formats) --progress-update-interval=# Progress update interval (100-1000 milliseconds) -u, --unit[=ARG] Output unit for displaying speeds (Note: this is only applicable for â€˜human-readableâ€™ output format and the default unit is Mbps) -a Shortcut for [-u auto-decimal-bits] -A Shortcut for [-u auto-decimal-bytes] -b Shortcut for [-u auto-binary-bits] -B Shortcut for [-u auto-binary-bytes] --selection-details Show server selection details --ca-certificate=ARG CA Certificate bundle path -v Logging verbosity.</description>
    </item>
    
  </channel>
</rss>
