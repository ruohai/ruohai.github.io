<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>CIFS on å–µà¸…^â€¢ï»Œâ€¢^à¸…</title>
    <link>https://ruohai.wang/tags/cifs/</link>
    <description>Recent content in CIFS on å–µà¸…^â€¢ï»Œâ€¢^à¸…</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>en</language>
    <lastBuildDate>Fri, 21 Jul 2023 00:37:06 +0800</lastBuildDate><atom:link href="https://ruohai.wang/tags/cifs/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>Linuxä¸‹CIFSè®¾ç½®å¼€æœºè‡ªåŠ¨æŒ‚è½½smbå…±äº«æ–‡ä»¶å¤¹</title>
      <link>https://ruohai.wang/202307/cifs-auto-mount-at-linux-start-up/</link>
      <pubDate>Fri, 21 Jul 2023 00:37:06 +0800</pubDate>
      
      <guid>https://ruohai.wang/202307/cifs-auto-mount-at-linux-start-up/</guid>
      <description>å‰è¨€ å‰ä¸¤å¤©å†™è¿‡ä¸€ç¯‡ç”¨cifsæŒ‚è½½smbå…±äº«æ–‡ä»¶å¤¹çš„æ–‡ç« ï¼Œä½†é‚£ç¯‡æ–‡ç« ä¸­å¤šæœ‰ç–æ¼ï¼Œæœ¬æ¥ç›´æ¥åœ¨é‚£ç¯‡æ–‡ç« ä¸­updateè¡¥æ¼ä¿®æ­£å°±è¡Œï¼Œä½†æœ€è¿‘æ‡’äº†ï¼Œç›´æ¥æ‹©é‡ç‚¹é‡å†™ä¸€ç¯‡ã€‚
linuxæŒ‚è½½smbå…±äº«æ–‡ä»¶å¤¹æ¶‰åŠåˆ°å¾ˆå¤šæƒé™åˆ†é…çš„è®¾ç½®ï¼Œæ¯”å¦‚smbæœåŠ¡ç«¯è®¾ç½®çš„ç”¨æˆ·å’Œç»„ã€æœ¬åœ°åˆ†é…çš„ç”¨æˆ·å’Œç»„ã€æ˜¯ä¸æ˜¯æŒ‡å®šæ–‡ä»¶å’Œæ–‡ä»¶å¤¹çš„é»˜è®¤æƒé™ã€‚å¦‚æœå®åœ¨æä¸æ¸…ï¼Œé‚£å°±ç›´æ¥root:rootå’Œ0777ä¸€æŠŠæ¢­ï¼Œä½†åƒä¸‡è€Œä¸”ä¸€å®šè¦æ„è¯†åˆ°rootå’Œ0777çš„æ½œåœ¨é£é™©ã€‚
è®¾å®š æ³¨æ„ä¸‹é¢å‡ºç°çš„é…ç½®æ–‡ä»¶ä¸­çš„ipåœ°å€ã€ç”¨æˆ·åã€ç»„åã€å¯†ç éƒ½è¦æ ¹æ®è‡ªå·±çš„æƒ…å†µåšä¿®æ”¹ã€‚ğŸ˜„
è®¾å®šæœ¬åœ°ç”¨æˆ·éƒ½æ˜¯jackï¼Œæ‰€å±çš„ç»„æ˜¯jack-group è®¾å®šçš„smbå…±äº«æ–‡ä»¶å¤¹çš„è®¿é—®åœ°å€æ˜¯//192.168.1.1/shareï¼Œè®¿é—®ç”¨æˆ·smbï¼Œè®¿é—®å¯†ç 123456 è®¾å®šæœ¬åœ°æŒ‚è½½smbå…±äº«æ–‡ä»¶å¤¹çš„è·¯å¾„æ˜¯/mnt/share æŒ‚è½½ linuxä¸‹å®‰è£…cifs-utilsåï¼ŒæŒ‚è½½å±€åŸŸç½‘smbå…±äº«æ–‡ä»¶å¤¹ï¼Œæ³¨æ„-oå‚æ•°ä¸­åˆ«å¿˜è®°åŠ ä¸Šiocharset=utf8ä»¥é¿å…ä¸­æ–‡ä¹±ç çš„é—®é¢˜ã€‚
mount -t cifs //192.168.1.1/share /mnt/share -o username=smb,password=123456,iocharset=utf8 å–æ¶ˆæŒ‚è½½
umount /mnt/share å¼€æœºè‡ªåŠ¨æŒ‚è½½ ç¼–è¾‘/etc/fstabæ–‡ä»¶ï¼Œæ·»åŠ ä¸€è¡Œï¼š
//192.168.1.1/share /mnt/share cifs credentials=/home/jack/.cifs_creds,file_mode=0755,dir_mode=0755,iocharset=utf8,uid=jack,gid=jack&amp;#39;s_group 0 0 æ³¨æ„ï¼š
smbè®¿é—®è´¦æˆ·çš„ç”¨æˆ·åå’Œå¯†ç ï¼Œå»ºè®®å•ç‹¬æ–°å»ºä¸€ä¸ªæ–‡ä»¶æ¥ä¿å­˜è€Œä¸æ˜¯æ˜æ–‡å†™åœ¨fstabã€‚æˆ‘è¿™é‡Œæ–°å»º/home/jack/.cifs_credsã€‚è®¤è¯æ–‡ä»¶çš„æ ¼å¼å¦‚ä¸‹ï¼š username=smb password=123456 # ä¸‹é¢è¿™ä¸€æ å¯ä»¥ä¸è¦ domain=WORKGROUP domainä¸€æ å¯é€‰ï¼Œä¸å¡«çš„è¯ç³»ç»Ÿä¼šè‡ªåŠ¨çŒœï¼ˆæ„å‘³ç€çŒœä¸ä¸­å°±æ— æ³•æŒ‚è½½ï¼‰ï¼Œä¸€èˆ¬é»˜è®¤éƒ½æ˜¯WORKGROUP uid=jack,gid=jack&#39;s_groupï¼Œè¿™æ˜¯æŒ‡å®šæŒ‚è½½çš„smbå…±äº«æ–‡ä»¶å¤¹çš„æœ¬åœ°ç”¨æˆ·å’Œç»„åˆ†é…ç»™è°ã€ç»™å“ªä¸ªç»„ï¼Œå¦‚æœæ²¡æœ‰æŒ‡å®šuidå’Œgidï¼Œé»˜è®¤å°±æ˜¯root:rootã€‚ file_mode=0755,dir_mode=0755ï¼Œè¿™ä¿©å¾ˆå¥½ç†è§£ï¼Œæ–‡ä»¶çš„æƒé™å’Œæ–‡ä»¶å¤¹çš„æƒé™ï¼Œ0755ä»€ä¹ˆæ„æ€ä¸å†èµ˜è¿°ï¼Œä¸æ‡‚å¾—è¯0777ä¸€æŠŠæ¢­ã€‚ iocharset=utf8ç”¨æ¥å¤„ç†ä¸­æ–‡ä¹±ç é—®é¢˜ ç¼–è¾‘å®Œ/etc/fstabï¼Œæ‰§è¡Œä»¥ä¸‹å‘½ä»¤ä½¿é…ç½®ç”Ÿæ•ˆï¼š
# é‡è½½ systemctl daemon-reload # é‡æ–°æŒ‚è½½ mount -a OKï¼Œå¤§åŠŸå‘Šæˆ~
ğŸ˜„</description>
    </item>
    
    <item>
      <title>Linuxä¸‹å®ç°æŒ‚è½½SMBå…±äº«æ–‡ä»¶å¤¹</title>
      <link>https://ruohai.wang/202307/linux-smb-mount/</link>
      <pubDate>Sat, 15 Jul 2023 14:40:06 +0800</pubDate>
      
      <guid>https://ruohai.wang/202307/linux-smb-mount/</guid>
      <description>linuxä¸‹è®¿é—®å±€åŸŸç½‘ä¸Šçš„smbå…±äº«æ–‡ä»¶å¤¹ï¼Œéœ€è¦å®‰è£…cifs-utilsã€‚
apt install cifs-utils è¿™é‡Œå‡å®šå…±äº«æ–‡ä»¶å¤¹çš„ç½‘ç»œä½ç½®æ˜¯http://smb_ip/shareï¼Œç”¨æˆ·åsmbï¼Œå¯†ç 123456ã€‚
mount -t cifs //smb_ip/share /mnt/share -o username=smb,password=123456 -t cifsï¼ŒæŒ‚è½½çš„æ–‡ä»¶ç±»å‹ï¼Œsmbä¸º-t cifsã€‚ //smb_ip/shareï¼Œsmbå…±äº«æ–‡ä»¶å¤¹çš„ç½‘ç»œä½ç½® /mnt/shareï¼Œæœ¬åœ°æŒ‚è½½çš„ä½ç½® -oï¼Œ-oåé¢è·Ÿçš„éƒ½æ˜¯æŒ‚è½½çš„è¯¦ç»†å‚æ•°é…ç½®ï¼Œsmbåè®®ã€ç”¨æˆ·åã€å¯†ç ç­‰ç­‰ï¼Œå…·ä½“å¯ä»¥çœ‹è¿™é‡Œè¯¦ç»†å‚æ•°è§£é‡Šï¼Œæˆ–è€…çœ‹å›¾ç‰‡ã€‚ å¦‚æœè¦è®¾ç½®å¼€æœºè‡ªåŠ¨æŒ‚è½½smbï¼Œåœ¨/etc/fstabæ–‡ä»¶ä¸­æ·»åŠ ä¸€è¡Œï¼Œä¿å­˜é€€å‡ºå³å¯ã€‚
//smb_ip/share /mnt/share cifs username=smb,passwd=123456 0 0 ä¹Ÿå¯ä»¥åœ¨/etc/samba/ç›®å½•ä¸‹æ–°å»ºé…ç½®æ–‡ä»¶smbpasswdç”¨æ¥ä¿å­˜smbçš„ç”¨æˆ·åå’Œå¯†ç ä»¥æ–¹ä¾¿ç®¡ç†ï¼Œå†…å®¹å¦‚ä¸‹ã€‚
username=smb password=123456 ç„¶å fstabä¸­æ·»åŠ ä¸€è¡Œ
//smb_ip/share /mnt/share cifs credentials=/etc/samba/smbpasswd 0 0 fstabçš„æ ¼å¼è§„èŒƒå¦‚ä¸‹
&amp;lt;file system&amp;gt; &amp;lt;dir&amp;gt; &amp;lt;type&amp;gt; &amp;lt;options&amp;gt; &amp;lt;dump&amp;gt; &amp;lt;pass&amp;gt; </description>
    </item>
    
  </channel>
</rss>
