<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>OpenWrt on å–µà¸…^â€¢ï»Œâ€¢^à¸…</title>
    <link>https://ruohai.wang/tags/openwrt/</link>
    <description>Recent content in OpenWrt on å–µà¸…^â€¢ï»Œâ€¢^à¸…</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>en</language>
    <lastBuildDate>Wed, 02 Aug 2023 22:35:07 +0800</lastBuildDate><atom:link href="https://ruohai.wang/tags/openwrt/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>è¿…é›·èµšé’±å®ä¸€ä»£ï¼ˆWS1408ï¼‰åœ¨OpenWrtå›ºä»¶åŸºç¡€ä¸Šå®‰è£…å’Œé…ç½®Samba</title>
      <link>https://ruohai.wang/202308/ws1408-samba-use-guide/</link>
      <pubDate>Wed, 02 Aug 2023 22:35:07 +0800</pubDate>
      
      <guid>https://ruohai.wang/202308/ws1408-samba-use-guide/</guid>
      <description>å‰è¨€ ws1408åªæœ‰ä¸€ç‰ˆopenwrtå›ºä»¶ï¼Œè¦åœ¨openwrtçš„åŸºç¡€ä¸Šå®‰è£…sambaï¼Œå’Œarmbianæœ‰ç‚¹ä¸å¤ªä¸€æ ·ï¼Œè¿™é‡Œåšç®€å•è®°å½•ã€‚
å…¶å®åœ¨oenwrtçš„webuiä¸Šä¹Ÿæœ‰å…¥å£å¯ä»¥å®‰è£…è½¯ä»¶å’Œé…ç½®ï¼Œä½†æˆ‘å®é™…ç”¨ä¸‹æ¥æ€»æ˜¯ä¼šæœ‰å„ç§é—®é¢˜ã€‚æ‰€ä»¥æœ€åæ”¾å¼ƒäº†webuiå®‰è£…å’Œé…ç½®çš„æ–¹æ³•ï¼Œç›´æ¥æ‰‹æ“ã€‚çœŸçš„ï¼Œè‡ªå·±æ‰‹æ“æ¯”webuiä¸Šå‹¾å‹¾ç‚¹ç‚¹æˆåŠŸç‡é«˜å¤šäº†ã€‚
è¦å®‰è£…è½¯ä»¶ï¼Œè®°å¾—å…ˆæ¢æºï¼ŒæŒ‡è·¯ï¼šè¿…é›·èµšé’±å®ä¸€ä»£ï¼ˆWS1408ï¼‰çš„OpenWrtå¯ç”¨æºåˆ†äº«
å®‰è£…samba å…ˆæ›´æ–°è½¯ä»¶ä»“åº“
opkg update æŸ¥æ‰¾è½¯ä»¶
opkg list | grep samba å®‰è£…è½¯ä»¶
opkg install luci-app-samba4 æ·»åŠ ç³»ç»Ÿç”¨æˆ· ws1408çš„openwrtå›ºä»¶æ¯”è¾ƒç²¾ç®€ï¼Œé»˜è®¤åªæœ‰rootè´¦æˆ·ï¼Œæƒ³æ–°å¢ç³»ç»Ÿç”¨æˆ·éœ€è¦å®‰è£…useraddã€‚
opkg install shadow-useradd æ·»åŠ ç”¨æˆ·jackã€‚è¿™é‡ŒæŒ‡å®šjackè¿™ä¸ªç”¨æˆ·æ— æ³•ç™»å½•ï¼Œå› ä¸ºåªæ˜¯ç”¨æ¥åšsambaçš„ç”¨æˆ·ï¼Œä¸ä¼šç™»å½•ç³»ç»Ÿã€‚
useradd jack -s /bin/false å¦‚æœjackè¿™ä¸ªç”¨æˆ·éœ€è¦ç™»å½•ç³»ç»Ÿï¼Œé‚£ä¸Šé¢çš„å‘½ä»¤ä¸­å»æ‰-s /bin/falseï¼Œç„¶åç»™ä»–è®¾ç½®å¯†ç 
passwd jack sambaä¸­æ·»åŠ ç”¨æˆ· æ·»åŠ äº†ç³»ç»Ÿç”¨æˆ·ä»¥åï¼Œéœ€è¦åœ¨sambaä¸­æ·»åŠ ç”¨æˆ·ã€‚ä¸‹é¢è¿™æ¡å‘½ä»¤æ•²å®Œåå›è½¦ï¼Œæ ¹æ®ç³»ç»Ÿä¼šæç¤ºè®¾ç½®å¯†ç 
smbpasswd -a jack å¦‚æœæƒ³è¦åˆ é™¤sambaç”¨æˆ·ï¼Œå‘½ä»¤åº”è¯¥å¦‚ä¸‹
smbpasswd -x jack ä½†æˆ‘å®é™…ä½¿ç”¨ä¸‹æ¥ï¼Œè¿™æ¡åˆ é™¤ç”¨æˆ·çš„å‘½ä»¤ä¼šä¸€ç›´æç¤ºå¤„ç†å¤±è´¥ã€‚æ‰€ä»¥æœ‰æ•ˆçš„åŠæ³•æ˜¯ç”¨nanoæ‰“å¼€/etc/samba/smbpasswdè¿™ä¸ªä¿å­˜ç”¨æˆ·ä¿¡æ¯çš„æ–‡ä»¶ï¼Œåˆ é™¤æˆ–è€…æ¸…ç©ºé‡Œé¢çš„å†…å®¹ã€‚
é…ç½®å…±äº«æ–‡ä»¶å¤¹ sambaé…ç½®æ–‡ä»¶çš„è·¯å¾„æ˜¯/etc/samba/smb.confï¼Œä½†é»˜è®¤çš„è¿™ä¸ªsmb.confé…ç½®æ–‡ä»¶åªæ˜¯ä¸€ä¸ªè½¯é“¾æ¥ï¼Œå®é™…æŒ‡å‘äº†/var/etc/smb.confã€‚æˆ‘å°è¯•ç›´æ¥ä¿®æ”¹è¿™ä¸ªè½¯é“¾æ¥ç‰ˆçš„smb.confæ–‡ä»¶ï¼Œä½†æ¯æ¬¡ä¸€é‡å¯sambaæœåŠ¡å°±ä¼šè¢«é‡ç½®ã€‚é‚£æ­£å¥½ï¼ŒåŸå§‹æ–‡ä»¶ä¸åŠ¨ï¼Œå’±å¦ç«‹é—¨æˆ·ã€‚
# è¿›ç›®å½• cd /etc/samba # æŠŠåŸæ–‡ä»¶é‡å‘½å mv smb.conf smb.conf.default # æ–°å»ºä¸€ä¸ªé…ç½®æ–‡ä»¶ touch smb.conf ç„¶åç”¨nanoç¼–è¾‘smb.confï¼Œå¡«å†™ä»¥ä¸‹å†…å®¹ã€‚å› ä¸ºæˆ‘å¯¹sambaå…±äº«çš„å®‰å…¨æ€§è¦æ±‚ç•¥é«˜ï¼Œæ‰€ä»¥é™å®šsmbæœ€ä½ç‰ˆæœ¬æ˜¯smb2ï¼Œé™å®šåªæœ‰jackå¯ä»¥è®¿é—®ï¼Œè€Œä¸”ç¦æ­¢åŒ¿åè®¿é—®ã€‚
#======================= Global Setting ======================= [global] workgroup = WORKGROUP security = user server role = standalone server map to guest = never server min protocol = SMB2 #======================= Share Definitions ======================= [ShareFolder] comment = share comment path = /path/to/folder create mask = 0755 directory mask = 0755 valid users = jack browseable = yes writable = yes read only = no public = no guest ok = no å®Œæˆä»¥ä¸Šçš„é…ç½®ä»¥åï¼Œé‡å¯sambaã€‚</description>
    </item>
    
    <item>
      <title>è¿…é›·èµšé’±å®ä¸€ä»£ï¼ˆWS1408ï¼‰çš„OpenWrtå¯ç”¨æºåˆ†äº«</title>
      <link>https://ruohai.wang/202307/ws1408-openwrt-use-guide/</link>
      <pubDate>Sun, 30 Jul 2023 23:58:50 +0800</pubDate>
      
      <guid>https://ruohai.wang/202307/ws1408-openwrt-use-guide/</guid>
      <description>å‰è¨€ å‘¨æœ«å›äº†ä¸€è¶Ÿä¹¡ä¸‹ï¼Œè€½è¯¯äº†ææœºã€‚ğŸ˜„
ws1408åªæœ‰ä¸€ç‰ˆopenwrtå›ºä»¶ï¼Œæ²¡æœ‰armbianã€‚ä½†ä¹‹å‰ä¿©æœˆæˆ‘éƒ½åœ¨æŠ˜è…¾armbianï¼Œå¯¹openwrtæ²¡å•¥ç»éªŒï¼Œè¿™é‡Œç®€å•è®°å½•ä¸‹è¿™ä¸¤å¤©æŠ˜è…¾openwrtçš„å†…å®¹ã€‚
é¦–å…ˆopenwrtä¹Ÿæ˜¯linuxé­”æ”¹ï¼Œæ„å‘³ç€é™¤äº†webuiä¹‹å¤–ï¼Œè¿˜ä»¥sshè¿ä¸Šç”¨å‘½ä»¤è¡Œæ“ä½œã€‚
å…¶æ¬¡ï¼Œè¿™é‡Œè¦ç€é‡è®²ä¸€ä¸‹ï¼Œws1408ç”¨usb burning toolè½¯ä»¶åˆ·openwrtå›ºä»¶çš„æ—¶å€™ï¼Œ
ã€æ“¦é™¤flashã€‘é€‰é¡¹é€‰ã€æ™®é€šæ“¦é™¤ã€‘ï¼Œåƒä¸‡ä¸è¦é€‰ã€å…¨éƒ¨æ“¦é™¤ã€‘
é€‰åè€…ä¼šå¯¼è‡´æœºå™¨å˜ç –ï¼Œæˆ–è€…å¯¼è‡´æœºå™¨åˆ·æˆåŠŸä»¥åæ— æ³•å†åˆ·æœºï¼Œå¿…é¡»è¦ç”¨usb ttlå·¥å…·ã€‚
æ¢æº é¦–å…ˆæ˜¯ws1408çš„è½¯ä»¶æºé…ç½®ï¼Œå›ºä»¶è‡ªå¸¦çš„æºæ˜¯supes.topï¼Œè®¿é—®ä¸ç¨³å®šï¼Œå…ˆæ¢æ‰ã€‚è¿™é‡Œç”¨ustcä¸­ç§‘å¤§çš„æºã€‚
src/gz openwrt_core http://mirrors.ustc.edu.cn/openwrt/releases/22.03.3/targets/at91/sama5/packages src/gz openwrt_base http://mirrors.ustc.edu.cn/openwrt/releases/22.03.3/packages/arm_cortex-a5_vfpv4/base src/gz openwrt_luci http://mirrors.ustc.edu.cn/openwrt/releases/22.03.3/packages/arm_cortex-a5_vfpv4/luci src/gz openwrt_packages http://mirrors.ustc.edu.cn/openwrt/releases/22.03.3/packages/arm_cortex-a5_vfpv4/packages src/gz openwrt_routing http://mirrors.ustc.edu.cn/openwrt/releases/22.03.3/packages/arm_cortex-a5_vfpv4/routing src/gz openwrt_telephony http://mirrors.ustc.edu.cn/openwrt/releases/22.03.3/packages/arm_cortex-a5_vfpv4/telephony æ³¨æ„ws1408è¦é€‰at91/sama5å’Œarm_cortex-a5_vfpv4è¿™ä¿©ç¡¬ä»¶åˆ†æ”¯çš„æºã€‚è‡³äºä¸ºå•¥æˆ‘ä¹Ÿä¸æ¸…æ¥šï¼Œå®é™…ç”¨ä¸‹æ¥ç¡®å®æ²¡é—®é¢˜ï¼Œè¯•ç€è£…äº†samba4ï¼Œä¸€åˆ‡æ­£å¸¸ã€‚
æ¢æºä»¥åï¼Œå°±å¯ä»¥åœ¨webuiä¸­ç‚¹å‡»æ›´æ–°åˆ—è¡¨ï¼Œå¦‚æœwebç«¯æ“ä½œä¾ç„¶æŠ¥é”™ï¼Œå¯ä»¥sshè¿›ç³»ç»Ÿä»¥åæ‰§è¡Œä»¥ä¸‹å‘½ä»¤
opkg update </description>
    </item>
    
    <item>
      <title>ç©å®¢äº‘å¯ç”¨Armbianå’ŒOpenWrtå›ºä»¶åˆ†äº«</title>
      <link>https://ruohai.wang/202307/wky-firmware-share/</link>
      <pubDate>Fri, 14 Jul 2023 23:07:44 +0800</pubDate>
      
      <guid>https://ruohai.wang/202307/wky-firmware-share/</guid>
      <description>ç©å®¢äº‘ï¼Œè¿˜æœ‰å¥½å¤šåå­—ï¼šèµšé’±å®ã€è€æ¯é¸¡ã€ç½‘å¿ƒäº‘ï¼Œè¿™é‡Œéƒ½æŒ‡å‹å·ws1608çš„é‚£ä¸ªå°æœºå™¨ã€‚
è¿™æœºå™¨ç°åœ¨pddã€é—²é±¼ä¸Šçš„ä»·æ ¼ç¨³å®šåœ¨30rmbå·¦å³ï¼Œä½†é—²é±¼ä¸Šéƒ½è¦æ±‚10ä¸ªèµ·åŒ…é‚®ï¼Œå’±ä¹Ÿä¸æ˜¯çŸ¿åœºï¼Œä¹°ä¸€ä¸¤ä¸ªå›æ¥ç©ç©å°±å¤Ÿäº†ï¼Œæ‰€ä»¥æˆ‘æ›´æ¨èä»pddå…¥æ‰‹ã€‚
è¿™æœºå™¨ç©äº†å‡ ä¸ªæ˜ŸæœŸï¼Œç›®å‰æ¥çœ‹ï¼Œå°±èƒ½åˆ·ä¿©å›ºä»¶ã€‚ç¬¬ä¸€åˆ·armbianï¼Œç„¶åæ ¹æ®è‡ªå·±éœ€è¦æ‰‹æ“å„ç§æœåŠ¡ï¼ˆfile browser/qbittorrent/samba/alist/ddns-go/docker/typecho/cups/home assistant/&amp;hellip;ï¼‰ï¼Œæˆ–è€…è£…casaosè¿™ç§æ‰“åŒ…å¥½å„ç§æœåŠ¡çš„è½»ç³»ç»Ÿã€‚ç¬¬äºŒåˆ·openwrtå½“æ—è·¯ç”±ã€‚ä¹Ÿæœ‰å¾ˆå¤šäººåœ¨armbianåŸºç¡€ä¸Šå†è£…openmediavaultï¼Œä½†æˆ‘æ ¹æ®omvå®˜æ–¹çš„æ–‡æ¡£å°è¯•äº†å‡ æ¬¡ï¼Œä¸ç®¡æ˜¯6.1å†…æ ¸è¿˜æ˜¯5.9å†…æ ¸çš„å›ºä»¶ï¼Œéƒ½æ²¡æˆåŠŸã€‚
ç©è¿™ç§å°è®¾å¤‡è‚¯å®šå¾—å»æ©å±±è®ºå›äº†ï¼Œä½†è®ºå›è¿™ç§èµ„æºåˆ†äº«æ¨¡å¼å®åœ¨æ˜¯å¤ªold schooläº†ï¼Œæˆ‘ä¸å¤ªå–œæ¬¢ï¼Œå› ä¸ºæ‰¾èµ„æºå¤ªç´¯ã€‚æ‰€ä»¥è¿™é‡Œç›´æ¥åˆ†äº«æˆ‘ç”¨ä¸‹æ¥éå¸¸ç¨³å®šçš„armbianå’Œopenwrtçš„ä¸¤ä¸ªå›ºä»¶ä¸‹è½½åœ°å€ã€‚
armbianå›ºä»¶åœ°å€:https://github.com/hzyitc/armbian-onecloud
è¿™ä¸ªrepoæ˜¯æ ¹æ®ä¸Šæ¸¸armbian/buildç¼–è¯‘çš„ç©å®¢äº‘ä¸“ç”¨å›ºä»¶ã€‚è¿™é‡Œé‡ç‚¹è¯´ä¸‹ï¼Œå›ºä»¶åç§°ä¸­å¸¦burnå­—æ ·çš„æ˜¯çº¿åˆ·ç‰ˆæœ¬ï¼Œåˆ·å…¥æœºå†…emmcï¼›å¸¦minimalå­—æ ·çš„æ˜¯ç²¾ç®€ç‰ˆã€‚æˆ‘ç”¨ä¸‹æ¥éå¸¸ç¨³å®šã€‚
openwrtå›ºä»¶åœ°å€ï¼šhttps://cloud.189.cn/t/rAv6v2ENnmAn ï¼ˆè®¿é—®ç ï¼š6hhbï¼‰
è¿™ä¸ªæ˜¯æ©å±±è®ºå›é‡Œid:2224758988çš„ç”¨æˆ·åˆ†äº«çš„ç‰ˆæœ¬ï¼Œæˆ‘çŸ­æš‚ä½“éªŒäº†å‡ å¤©ï¼Œä¹Ÿå¾ˆç¨³å®šã€‚å¦‚æœä¸Šé¢è¿™ä¸ªé“¾æ¥å¤±æ•ˆï¼Œå¯ä»¥å»ã€åŸå¸–åœ°å€ã€‘è¿™é‡Œæ‰¾ã€‚æˆ‘å¯¹æ—è·¯ç”±è¿™ç§ä½¿ç”¨æ¨¡å¼å¹¶ä¸æ˜¯å¾ˆæ»¡æ„ï¼Œæ‰€ä»¥ç”¨äº†å‡ å¤©ä»¥åå°±æ’¤æ‰äº†ã€‚</description>
    </item>
    
  </channel>
</rss>
