<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>å–µà¸…^â€¢ï»Œâ€¢^à¸…</title>
    <link>https://ruohai.wang/</link>
    <description>Recent content on å–µà¸…^â€¢ï»Œâ€¢^à¸…</description>
    <generator>Hugo -- gohugo.io</generator>
    <lastBuildDate>Sat, 15 Jul 2023 14:40:06 +0800</lastBuildDate><atom:link href="https://ruohai.wang/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>Linuxä¸‹å®ç°æŒ‚è½½smbå…±äº«æ–‡ä»¶å¤¹</title>
      <link>https://ruohai.wang/posts/linux-smb-mount/</link>
      <pubDate>Sat, 15 Jul 2023 14:40:06 +0800</pubDate>
      
      <guid>https://ruohai.wang/posts/linux-smb-mount/</guid>
      <description>linuxä¸‹è®¿é—®å±€åŸŸç½‘ä¸Šçš„smbå…±äº«æ–‡ä»¶å¤¹ï¼Œéœ€è¦å®‰è£…cifs-utilsã€‚
apt install cifs-utils è¿™é‡Œå‡å®šå…±äº«æ–‡ä»¶å¤¹çš„ç½‘ç»œä½ç½®æ˜¯http://smb_ip/shareï¼Œç”¨æˆ·åsmbï¼Œå¯†ç 123456ã€‚
mount -t cifs //smb_ip/share /mnt/share -o username=smb,password=123456 -t cifsï¼ŒæŒ‚è½½çš„æ–‡ä»¶ç±»å‹ï¼Œsmbä¸º-t cifsã€‚ //smb_ip/shareï¼Œsmbå…±äº«æ–‡ä»¶å¤¹çš„ç½‘ç»œä½ç½® /mnt/shareï¼Œæœ¬åœ°æŒ‚è½½çš„ä½ç½® -oï¼Œ-oåé¢è·Ÿçš„éƒ½æ˜¯æŒ‚è½½çš„è¯¦ç»†å‚æ•°é…ç½®ï¼Œsmbåè®®ã€ç”¨æˆ·åã€å¯†ç ç­‰ç­‰ï¼Œå…·ä½“å¯ä»¥çœ‹è¿™é‡Œè¯¦ç»†å‚æ•°è§£é‡Šï¼Œæˆ–è€…çœ‹å›¾ç‰‡ã€‚ å¦‚æœè¦è®¾ç½®å¼€æœºè‡ªåŠ¨æŒ‚è½½smbï¼Œåœ¨/etc/fstabæ–‡ä»¶ä¸­æ·»åŠ ä¸€è¡Œï¼Œä¿å­˜é€€å‡ºå³å¯ã€‚
//smb_ip/share /mnt/share cifs username=smb,passwd=123456 0 0 ä¹Ÿå¯ä»¥åœ¨/etc/samba/ç›®å½•ä¸‹æ–°å»ºé…ç½®æ–‡ä»¶smbpasswdç”¨æ¥ä¿å­˜smbçš„ç”¨æˆ·åå’Œå¯†ç ä»¥æ–¹ä¾¿ç®¡ç†ï¼Œå†…å®¹å¦‚ä¸‹ã€‚
username=smb password=123456 ç„¶å fstabä¸­æ·»åŠ ä¸€è¡Œ
//smb_ip/share /mnt/share cifs credentials=/etc/samba/smbpasswd 0 0 fstabçš„æ ¼å¼è§„èŒƒå¦‚ä¸‹
&amp;lt;file system&amp;gt; &amp;lt;dir&amp;gt; &amp;lt;type&amp;gt; &amp;lt;options&amp;gt; &amp;lt;dump&amp;gt; &amp;lt;pass&amp;gt; </description>
    </item>
    
    <item>
      <title>Linuxä¸‹ç»™apache2å®‰è£…sslè¯ä¹¦</title>
      <link>https://ruohai.wang/posts/apache2-ssl-cert-setup/</link>
      <pubDate>Sat, 15 Jul 2023 14:38:50 +0800</pubDate>
      
      <guid>https://ruohai.wang/posts/apache2-ssl-cert-setup/</guid>
      <description>æ‹–äº†å¥½å‡ å¤©ä¸€ç›´æ‡’å¾—å¼„sslè¯ä¹¦ï¼Œå› ä¸ºè¿™æœåŠ¡å™¨æ˜¯ä¸€æœ‹å‹é—²ç½®æˆ‘æ‹¿æ¥ç»ƒæ‰‹çš„ï¼Œå‰©1ä¸ªæœˆåˆ°æœŸã€‚ä½†æ™šä¸Šè¢«å¤§å­¦åŒå­¦å«å‡ºå»å–é…’ï¼Œå®Œäº†å›æ¥ä»¥åæœ‰ç‚¹ç²¾ç¥ç„¦è™‘ï¼Œç´¢æ€§æŠŠsslè¯ä¹¦ç»™å¼„äº†ç¼“è§£ä¸€ä¸‹æƒ…ç»ªã€‚
è·å–sslè¯ä¹¦çš„æ­¥éª¤è¿™é‡Œå°±ä¸èµ˜è¿°ã€‚ç›´æ¥å¼€å§‹é‡ç‚¹ã€‚
ç¬¬ä¸€æ­¥ï¼Œè·å–åˆ°çš„apahce2çš„è¯ä¹¦åº”è¯¥æ˜¯ä¸‰ä¸ªæ–‡ä»¶ï¼šdomain.key, domain_chain.crt, domain_public.crtã€‚è¿™ä»¨æ–‡ä»¶åæ˜¯é˜¿é‡Œäº‘è¯ä¹¦çš„æ ¼å¼ã€‚æˆ‘çœ‹åˆ°ä¹Ÿæœ‰å«domain_bundle.crtçš„ï¼Œæ²¡å…³ç³»ï¼Œæœ€åéƒ½æ˜¯å†™ä¸€èµ·çš„ã€‚ æ‹¿åˆ°è¯ä¹¦æ–‡ä»¶ä»¥åï¼ŒæŠŠè¿™ä¸‰ä¸ªæ–‡ä»¶ä¸Šä¼ åˆ°/etc/apache2/sslç›®å½•ä¸‹ï¼Œè¿™é‡Œçš„sslæ–‡ä»¶å¤¹éœ€è¦è‡ªå·±æ–°å»ºï¼Œåå­—å¯ä»¥ç”¨è‡ªå·±å–œæ¬¢çš„ï¼Œåé¢é…ç½®æ–‡ä»¶ä¸­è®°å¾—è·¯å¾„åŒæ­¥ä¿®æ”¹å°±okã€‚ä¹Ÿå¯ä»¥ç›´æ¥åˆ°/etc/apache2/sslç›®å½•ä¸‹ç›´æ¥ç”¨wgetä¸‹è½½è¯ä¹¦åè§£å‹ã€‚ ç¬¬äºŒæ­¥ï¼šå¯ç”¨apache2çš„sslæ¨¡å—
a2enmod ssl ç¬¬ä¸‰æ­¥ï¼šapache2é»˜è®¤çš„sslé…ç½®æ–‡ä»¶çš„è·¯å¾„åœ¨/etc/apache2/sites-available/default-ssl.confã€‚ç°åœ¨æŠŠsslè¯ä¹¦ä¸‰ä¸ªæ–‡ä»¶çš„è·¯å¾„æ·»åŠ åˆ°&amp;lt;VirtualHost *:443&amp;gt;çš„æ ‡ç­¾å†…ã€‚
SSLCertificateFile /etc/apache2/ssl/domain_public.crt SSLCertificateKeyFile /etc/apache2/ssl/domain.key SSLCertificateChainFile /etc/apache2/ssl/domain_chain.crt
ç½‘ä¸Šå¾ˆå¤šæ•™ç¨‹å†™åˆ°è¿™é‡Œå°±è¯´å¯ä»¥ä¿å­˜é€€å‡ºäº†ã€‚ä½†æ˜¯è¦æ³¨æ„ï¼Œå¦‚æœä½ çš„ç½‘ç«™æ ¹ç›®å½•ä¸æ˜¯apache2é»˜è®¤çš„/var/www/htmlè€Œæ˜¯è‡ªå®šä¹‰çš„ç›®å½•ï¼Œé‚£åªåŠ è¿™3è¡Œæ˜¯ä¸è¡Œçš„ï¼è¿˜éœ€è¦æŠŠç½‘ç«™ä¿¡æ¯çš„DocumentRootå’Œ&amp;lt;Directory&amp;gt;çš„ä¿¡æ¯ä¹Ÿé…ç½®è¿›å»ã€‚
ç¬¬å››æ­¥ï¼šç°åœ¨éœ€è¦æŠŠsslé…ç½®æ–‡ä»¶ç”¨è½¯é“¾æ¥æ˜ å°„åˆ°/etc/apache2/sites-enabled/ç›®å½•ï¼Œå‘½ä»¤ä¸­çš„001-ssl.confæ–‡ä»¶åå¯ä»¥å–è‡ªå·±å–œæ¬¢çš„ã€‚
ln -s /etc/apache2/sites-available/default-ssl.conf /etc/apache2/sites-enabled/001-ssl.conf å¦‚æœä¸å–œæ¬¢ç”¨è½¯é“¾æ¥ï¼Œä¹Ÿå¯ä»¥ç›´æ¥æŠŠdefault-ssl.confæ–‡ä»¶å¤åˆ¶ä¸€ä»½åˆ°/sites-enabled/ç›®å½•ä¸‹ã€‚
ç¬¬äº”æ­¥ï¼šé‡å¯apache2ã€‚
systemctl restart apache2 ç¬¬å…­æ­¥ï¼šå¦‚æœæ²¡æœ‰å¼€é˜²ç«å¢™ï¼ˆfirewalld/iptablesï¼‰ï¼Œé‚£åˆ°ä¸Šä¸€æ­¥å°±ç»“æŸäº†ã€‚å¦‚æœå¼€å¯äº†é˜²ç«å¢™ï¼ˆæˆ‘ç”¨çš„æ˜¯firewalldï¼‰ï¼Œè®°å¾—å¼€æ”¾443ç«¯å£ã€‚
# å¼€æ”¾ç«¯å£ firewall-cmd --add-port=443/tcp --permanent # é˜²ç«å¢™é‡è½½ firewall-cmd --reload </description>
    </item>
    
    <item>
      <title>Typechoæ›´æ”¹åå°ç™»å½•åœ°å€</title>
      <link>https://ruohai.wang/posts/change-typecho-admin-dir/</link>
      <pubDate>Sat, 15 Jul 2023 14:37:42 +0800</pubDate>
      
      <guid>https://ruohai.wang/posts/change-typecho-admin-dir/</guid>
      <description>typechoåå°ç™»å½•urlé»˜è®¤å°±æ˜¯/admin/ï¼Œä¸ºäº†å®‰å…¨ï¼Œè¿˜æ˜¯è‡ªå®šä¹‰æ¯”è¾ƒå¥½ã€‚
è¿™é‡Œå‡å®šè¦æŠŠ/admin/æ”¹æˆ/abcd/ï¼Œè¦æ”¹ä¸¤ä¸ªåœ°æ–¹ã€‚
ç½‘ç«™æ ¹ç›®å½•ä¸‹çš„adminæ–‡ä»¶å¤¹ï¼Œé‡å‘½åä¸ºabcd
ç½‘ç«™æ ¹ç›®å½•ä¸‹çš„config.inc.phpï¼ŒæŠŠdefine(&amp;rsquo;TYPECHO_ADMIN_DIR&amp;rsquo;, &amp;lsquo;/admin/&amp;rsquo;)ä¸­çš„adminä¿®æ”¹ä¸ºabcdï¼Œç„¶åä¿å­˜é€€å‡º
ä»¥ä¸Šä¸¤æ­¥æ“ä½œå®Œä»¥åå°±å¯ä»¥ç”¨/abcd/ç™»å½•ç½‘ç«™åå°äº†ï¼ŒæˆåŠŸ~</description>
    </item>
    
    <item>
      <title>å…³äº</title>
      <link>https://ruohai.wang/about/</link>
      <pubDate>Sat, 15 Jul 2023 03:06:48 +0800</pubDate>
      
      <guid>https://ruohai.wang/about/</guid>
      <description>å…³äºæœªæ¥ä½ æ€»æœ‰å‘¨å¯†çš„å®‰æ’ï¼Œç„¶è€Œå‰§æƒ…å´æ€»æ˜¯è¢«ç°å®ç¯¡æ”¹ã€‚
å…³äºç°åœ¨ä½ æ€»æ˜¯å½·å¾¨åˆæ— å¥ˆï¼Œä»»å‡­å²æœˆé»¯ç„¶åˆæ†”æ‚´åœ°ç¦»å¼€ã€‚</description>
    </item>
    
    <item>
      <title>Linuxä¸‹ä»0å¼€å§‹å®‰è£…Typecho</title>
      <link>https://ruohai.wang/posts/install-typecho-step-by-step/</link>
      <pubDate>Sat, 15 Jul 2023 02:52:12 +0800</pubDate>
      
      <guid>https://ruohai.wang/posts/install-typecho-step-by-step/</guid>
      <description>typechoçš„å®‰è£…ï¼Œå®˜æ–¹æœ‰ã€å®‰è£…æŒ‡å¯¼æ–‡æ¡£ã€‘ï¼Œä½†è®²å®è¯æˆ‘çœ‹å®Œå®˜æ–¹æ–‡æ¡£æ˜¯ä¸€å¤´é›¾æ°´çš„ï¼Œå¹¶ä¸çŸ¥é“è¦æ€ä¹ˆå¼„ã€‚æœå…¶å®ƒæ•™ç¨‹ï¼Œå¾ˆå¤šåˆæ˜¯é…åˆå®å¡”é¢æ¿æ¥éƒ¨ç½²ã€‚å®å¡”é¢æ¿æˆ‘è¯•è¿‡å®˜ç½‘çš„demoï¼Œå¹¶ä¸æ˜¯æˆ‘å¯¹å›½äº§çš„è½¯ä»¶äº§å“æœ‰åè§å•Šï¼Œä½†ä¸»é¢˜å’Œæ— å¤„ä¸åœ¨çš„ä»˜è´¹å‡çº§åˆ°proçš„å…¥å£ï¼Œæˆ‘è§‰å¾—ä¸è¡Œã€‚
æ‰€ä»¥è¿™å°±æ˜¯ä¸€ç¯‡ä»0å¼€å§‹å®Œå…¨æ‰‹æ“çš„å®‰è£…æ•™ç¨‹ã€‚
ç¬¬ä¸€æ­¥ï¼šå®‰è£…ç¯å¢ƒçš„å‡†å¤‡ã€‚typechoè¯´ç™½å°±æ˜¯ä¸€ä¸ªphpç½‘ç«™ï¼Œè¦è·‘phpç½‘ç«™ï¼Œå°±éœ€è¦web serverã€‚é‚£å°±nginxæˆ–è€…apache2äºŒé€‰ä¸€ã€‚è¿™äº›å¹´nginxé£å¤´å¼ºåŠ²ï¼Œapache2æ—¥æš®è¥¿å±±ã€‚ä½†å·§äº†ä¹ˆè¿™ä¸æ˜¯ï¼Œæˆ‘é€‰æ‹©apache2ã€‚
apt install apache2 -y apache2å®‰è£…å¥½ä»¥åï¼Œåœ¨æµè§ˆå™¨ä¸­è¾“å…¥http://host_ipçœ‹æ˜¯å¦èƒ½è®¿é—®åˆ°apache2 indexé¡µé¢ï¼Œèƒ½è®¿é—®è¯´æ˜å®‰è£…æˆåŠŸã€‚
ç¬¬äºŒæ­¥ï¼šç½‘ç«™è¦è·‘èµ·æ¥ï¼Œæœ‰äº†web serverï¼Œæ¥ä¸‹å»å°±æ˜¯å®‰è£…æ•°æ®åº“ã€‚typechoå®˜æ–¹è¯´æ”¯æŒmysqlã€postgresqlå’Œsqliteï¼Œåˆåˆ°äº†æŠ€æœ¯é€‰å‹çš„åˆ†å²”å£äº†ã€‚mysqlå› ä¸ºoracelè¿™ä¸ªçˆ¹çš„åŸå› ï¼Œä»debiançš„æºä»“åº“è¢«ç§»é™¤äº†ï¼Œpostgresqlæˆ‘ä¸ç†Ÿï¼Œç•¥è¿‡ï¼Œé‚£å‰©ä¸‹çš„å°±åªæœ‰sqliteæƒ¹ã€‚å…¶å®debiançš„æºä»“åº“é‡Œæœ‰mariadb-serverå¯ä»¥è£…ï¼Œä½†ç”¨mariadbçš„è¯å’Œmysqlä¸€æ ·éœ€è¦å®‰è£…mysqliè¿™ä¸ªphpæ‰©å±•ï¼Œå¾ˆä¸å·§mysqliä¹Ÿä»debianæºä»“åº“é‡Œè¢«ç§»é™¤äº†ã€‚å¼€æºäººéƒ½æ˜¯æœ‰æ´ç™–çš„ï¼Œç¢°äº†oracelçš„ç»Ÿç»Ÿéƒ½è¦æ¸…ç†æ‰ã€‚æˆ‘è¿™é‡Œå·æ‡’ï¼Œåªæƒ³ç”¨apt installä¸€é”®å®‰è£…è€Œä¸æ˜¯å»ä¸‹mysqlå®‰è£…åŒ…ï¼Œæ‰€ä»¥æ•°æ®åº“æœ€ç»ˆé€‰æ‹©ï¼šsqliteã€‚
apt install sqlite3 -y å®‰è£…å®Œæˆåï¼Œè¾“å…¥sqlite3ï¼Œçœ‹å‘½ä»¤æç¤ºç¬¦æ˜¯ä¸æ˜¯ sqlite3 æ¥åˆ¤æ–­æ˜¯å¦æˆåŠŸï¼Œæ•².quité€€å‡ºã€‚
ç¬¬ä¸‰æ­¥ï¼šç°åœ¨è¦åœ¨apache2ä¸­è¿›è¡Œvirtualhosté…ç½®ï¼Œä¹Ÿå°±æ˜¯ç½‘ç«™ä¿¡æ¯é…ç½®ã€‚å¯ä»¥åœ¨/etc/apahce2/apache2.confæ–‡ä»¶ä¸­é…ç½®ï¼Œä¹Ÿå¯ä»¥/etc/apache2/sites-enabled/ç›®å½•ä¸‹é…ç½®ã€‚ä¸ºäº†æ–¹ä¾¿ç®¡ç†ï¼Œè¿™é‡Œé€‰æ‹©/sites-enabled/ç›®å½•ã€‚
å°†ç›®å½•ä¸‹çš„000-default.confé‡å‘½åä¸ºtypecho.conf åœ¨typecho.confä¸­çš„&amp;lt;VirtualHost *:80&amp;gt;æ ‡ç­¾å†…è¿›è¡Œå¦‚ä¸‹é…ç½®ã€‚DocumentRooté…ç½®çš„æ˜¯ä½ ç½‘ç«™çš„æ ¹ç›®å½•ã€‚ DocumentRoot /data/typecho &amp;lt;Directory /data/typecho&amp;gt; Options Indexes FollowSymLinks AllowOverride All Require all granted &amp;lt;/Directory&amp;gt; å®Œæˆé…ç½®åï¼Œé‡å¯apahce2ã€‚ systemctl restart apache2 åœ¨ç½‘ç«™æ ¹ç›®å½•æ–°å»ºphpinfo.phpï¼Œå†…å®¹&amp;lt;?php phpinfo(); ?&amp;gt;ï¼Œä¿å­˜ã€‚ç„¶åæµè§ˆå™¨è®¿é—®http://host_ip/phpinfo.phpï¼ŒæŸ¥çœ‹æ˜¯å¦èƒ½æ­£å¸¸è®¿é—®é¡µé¢ã€‚ è¿™é‡Œæœ‰ä¸€ä¸ªéœ€è¦æ³¨æ„çš„é—®é¢˜ã€‚apache2è·‘èµ·æ¥çš„ç”¨æˆ·:ç»„æ˜¯www-data:www-dataï¼Œè®°å¾—ç»™ç½‘ç«™ç›®å½•/data/typechoåˆ†é…åˆç†æƒé™ï¼Œè¦ä¸ç„¶ä¼šæç¤ºã€you don&amp;rsquo;t hava permissionã€‘æ— æ³•è®¿é—®ã€‚ ç¬¬å››æ­¥ï¼šå¼€å§‹å®‰è£…phpã€‚å…¨ç¨‹æ²¡å•¥å¥½æ³¨æ„çš„ï¼Œç­‰å‘½ä»¤è·‘å®Œå°±å¥½äº†ã€‚
apt install php -y ç¬¬äº”æ­¥ï¼šä¸çŸ¥ä¸è§‰ç»ˆäºåˆ°ç¬¬äº”æ­¥äº†ï¼Œå†™æ•™ç¨‹å¯çœŸç´¯å•Šã€‚åˆ°æ­¤ä¸ºæ­¢ï¼Œå®‰è£…ç¯å¢ƒç®—æ˜¯éƒ½å‡†å¤‡å¥½äº†ï¼Œç°åœ¨å¯ä»¥å»typechoå®˜ç½‘ä¸‹è½½å®‰è£…åŒ…æƒ¹ã€‚
# è¿›å…¥ç½‘ç«™æ ¹ç›®å½• cd /data/typecho # ä¸‹è½½æœ€æ–°ç‰ˆtypechoä»£ç  wget https://github.com/typecho/typecho/releases/download/v1.2.1/typecho.zip # è§£å‹åˆ°å½“å‰ç›®å½• unzip typecho.zip æ¥ç€å°±å¯ä»¥åœ¨æµè§ˆå™¨ä¸­è¾“å…¥http://host_ip/install.phpè¿›è¡Œå®‰è£…ï¼Œç„¶åæ ¹æ®ç½‘é¡µæç¤ºçš„æŠ¥é”™ä¿¡æ¯è¿›è¡Œdebugã€‚ ç¬¬å…­æ­¥ï¼šé©¬ä¸Šå¤§åŠŸå‘Šæˆäº†ã€‚ç‚¹å‡»ä¸‹ä¸€æ­¥ï¼Œé©¬ä¸Šå°±ä¼šçœ‹åˆ°çº¢å­—é”™è¯¯æç¤ºã€‚ ä¸è¦æ…Œï¼Œæ ¹æ®é”™è¯¯æç¤ºä¸€ä¸ªä¸ªå¤„ç†å³å¯ã€‚
# å®‰è£…mbstringï¼Œéœ€è¦é‡å¯apache2ç”Ÿæ•ˆ apt install php-mbstring -y # å®‰è£…æ•°æ®åº“æ‰©å±•ï¼Œæˆ‘ç”¨çš„æ˜¯sqlite3ï¼Œå°±è£…sqlite3çš„æ‰©å±•ï¼Œéœ€è¦é‡å¯apache2ç”Ÿæ•ˆ apt install php-sqlite3 -y # usr/uploadsç›®å½•åˆ†é…æƒé™ã€‚ä¿©æ–¹æ³•ï¼ŒæŠŠ/typecho/ç›®å½•æŒ‡å®šç»™www-data:www-dataï¼Œæˆ–è€…ç»™755ã€‚å› ä¸ºç­‰ä¼šè¿˜éœ€è¦åœ¨ç½‘ç«™æ ¹ç›®å½•å†™å…¥ä¸€ä¸ªconfig.</description>
    </item>
    
    <item>
      <title>Linuxä¸‹å®‰è£…Syncthing</title>
      <link>https://ruohai.wang/posts/install-syncthing/</link>
      <pubDate>Sat, 15 Jul 2023 02:50:44 +0800</pubDate>
      
      <guid>https://ruohai.wang/posts/install-syncthing/</guid>
      <description>ä¸å¾—ä¸è¯´åœ¨linuxä¸‹éšä¾¿å®‰è£…ä¸€ä¸ªè½¯ä»¶éƒ½å¯ä»¥å†™ä¸€ä»½æ•™ç¨‹ï¼Œä¸åƒWindowsä¸‹è½½exeåŒå‡»è¿è¡Œç„¶åä¸‹ä¸€æ­¥ä¸‹ä¸€æ­¥å°±èƒ½æå®šã€‚
è¿™æ¬¡æ˜¯å®‰è£…syncthingï¼Œdebian12çš„ä»“åº“é‡Œå°±æœ‰ï¼Œç›´æ¥aptå®‰è£…å°±è¡Œã€‚
apt install syncthing ä½†è¿™ä¸€æ­¥åªæ˜¯æŠŠsyncthingå®‰è£…åˆ°ç³»ç»Ÿï¼Œæœ€æœ€å…³é”®çš„å¯åŠ¨æœåŠ¡ç„¶åè®¿é—®webuiè¿˜æ˜¯éœ€è¦è‡ªå·±ç¢ç£¨ã€‚æˆ‘å¤§æ¦‚èƒ½çŒœåˆ°å¯åŠ¨å‘½ä»¤æ˜¯systemctl start syncthingï¼Œä½†å®æµ‹å¯åŠ¨ä¸äº†ã€‚è¡Œå§ï¼Œå®˜ç½‘æ²¡å†™ï¼Œè‡ªå·±æ‰¾æ•™ç¨‹ã€‚
ç½‘ä¸Šæœ‰ä¸¤ä»½æ•™ç¨‹ï¼Œä¸€ä»½æ˜¯è¯´ç”¨systemctl start syncthing@user.serviceï¼Œæˆ‘æµ‹è¯•ä»¥åå‘ç°ç¡®å®èƒ½å¯åŠ¨syncthing@user.serviceæœåŠ¡ï¼Œä½†webuiæ— æ³•è®¿é—®ã€‚
æ‰€ä»¥æ­£ç¡®æ˜¯æ•™ç¨‹æ˜¯è¿™æ ·ï¼š
ç¬¬ä¸€æ­¥ï¼šåœ¨/etc/systemd/system/ç›®å½•ä¸‹ï¼Œæ–°å»ºä¸€ä¸ªsyncthing.servceæ–‡ä»¶ï¼Œå†…å®¹å¦‚ä¸‹ã€‚æ³¨æ„Userä¸€æ è®¾ç½®è¿è¡ŒsyncthingæœåŠ¡çš„ç”¨æˆ·ï¼Œæ”¹æˆè‡ªå·±ç³»ç»Ÿçš„ç”¨æˆ·ã€‚
[Unit] Description=Syncthing - Open Source Continuous File Synchronization for %I Documentation=man:syncthing(1) After=network.target [Service] User=Jack ExecStart=/usr/bin/syncthing -no-browser -gui-address=&amp;#34;0.0.0.0:8384&amp;#34; -no-restart -logflags=0 Restart=on-failure SuccessExitStatus=3 4 RestartForceExitStatus=3 4 [Install] WantedBy=multi-user.target ç¬¬äºŒæ­¥ï¼šdaemon-reload/start/enableä¸‰ä»¶å¥—ã€‚
# æœåŠ¡é‡è½½ systemctl daemon-reload # å¯åŠ¨syncthingæœåŠ¡ systemctl start syncthing.service # è®¾ç½®å¼€æœºå¯åŠ¨ systemctl enable syncthing.service ç¬¬ä¸‰æ­¥ï¼šsyncthingé»˜è®¤ç«¯å£8384ï¼Œæ‰“å¼€æµè§ˆå™¨ï¼Œè®¿é—®http://host_ip:8384ï¼Œæå®š~</description>
    </item>
    
    <item>
      <title>Linuxä¸‹å®ç°USBè®¾å¤‡è‡ªåŠ¨æŒ‚è½½</title>
      <link>https://ruohai.wang/posts/usb-auto-mount/</link>
      <pubDate>Sat, 15 Jul 2023 02:49:06 +0800</pubDate>
      
      <guid>https://ruohai.wang/posts/usb-auto-mount/</guid>
      <description>ç»™ç©å®¢äº‘åˆ·çš„armbiané»˜è®¤ä¸æ”¯æŒusbè®¾å¤‡è‡ªåŠ¨æŒ‚è½½ï¼Œæ¥ä¸‹å»å°±æ˜¯æ‰¾å®ç°æ–¹æ¡ˆäº†ï¼Œæœ‰udev/udevil/udiskie/..ã€‚ç®€å•äº†è§£äº†ä¸€ä¸‹ï¼Œæœ€åé€‰æ‹©ç”¨udevil/devmonï¼Œå› ä¸ºcasaosé€‰æ‹©çš„å°±æ˜¯udevil/devmonï¼Œè€Œä¸”è£…å¥½ä»¥åä¸éœ€è¦å†™è„šæœ¬ï¼ŒğŸ˜„ã€‚
å®‰è£…udevil/devmon
apt install udevil -y é…ç½®æ–‡ä»¶çš„é»˜è®¤è·¯å¾„æ˜¯/etc/udevil/udevil.confï¼Œé»˜è®¤ä¼šæŠŠusbè®¾å¤‡æŒ‚è½½åˆ°/media/user/ç›®å½•ä¸‹ï¼ˆè¿™é‡Œçš„useråœ¨åé¢çš„å‘½ä»¤ä¸­ä½“ç°ï¼‰ã€‚è¦è°ƒæ•´æŒ‚è½½è·¯å¾„ï¼Œéœ€è¦åœ¨udevil.confä¸­ä¿®æ”¹ã€‚
æ¥ä¸‹å»è¦å¯åŠ¨udevil/devmonæœåŠ¡ã€‚æ³¨æ„å‘½ä»¤ä¸­çš„userï¼Œè¿™é‡Œå¯¹åº”çš„æ˜¯ä½ çš„linuxç³»ç»Ÿçš„ç”¨æˆ·è´¦æˆ·ï¼Œå¦‚æœä½ ç”¨çš„æ˜¯rootè´¦æˆ·ï¼Œé‚£å°±æ˜¯devmon@rootï¼Œæœ€åusbè®¾å¤‡çš„æŒ‚è½½ç‚¹å°±æ˜¯/media/root/ã€‚ä½ ä¹Ÿå¯ä»¥æŒ‡å®šæŒ‚è½½åˆ°å…¶å®ƒå­˜åœ¨çš„ç”¨æˆ·è´¦æˆ·ï¼Œæ¯”å¦‚devmon@jackï¼Œé‚£æŒ‚è½½ç‚¹å°±æ˜¯/media/jack/ã€‚
systemctl start devmon@user.service å°†devmonæ·»åŠ åˆ°å¼€æœºå¯åŠ¨æœåŠ¡ã€‚
systemctl enable devmon@user.service å®Œæˆä»¥ä¸Šé…ç½®ä»¥åï¼Œå°±ä¸éœ€è¦å†åšä»»ä½•é…ç½®äº†ï¼ŒçœŸæ— æ„Ÿä½¿ç”¨ã€‚
ä½†æˆ‘å®é™…ä½¿ç”¨ä¸­å‘ç°æœ‰ä¸€ç‚¹ç‚¹å°é—®é¢˜ï¼Œç³»ç»Ÿé‡å¯ä»¥åï¼Œsdå¡æ§½ä¸­çš„sdå­˜å‚¨å¡ä¸èƒ½è‡ªåŠ¨æŒ‚è½½ï¼Œéœ€è¦æœ‰ä¸€ä¸ªé‡æ–°æ’æ‹”çš„åŠ¨ä½œä»¥åæ‰èƒ½è¯†åˆ«ã€‚</description>
    </item>
    
    <item>
      <title>Apache2ä¸‹å®ç°Typechoæ°¸ä¹…é“¾æ¥ï¼ˆä¼ªé™æ€ï¼‰</title>
      <link>https://ruohai.wang/posts/apache2-url-rewrite/</link>
      <pubDate>Sat, 15 Jul 2023 02:43:32 +0800</pubDate>
      
      <guid>https://ruohai.wang/posts/apache2-url-rewrite/</guid>
      <description>ä¼ªé™æ€é€šè¿‡url rewriteå®ç°ï¼Œè¿™é‡Œè®°å½•ä¸‹apahceå¼€å¯rewriteåŠŸèƒ½çš„æ–¹æ³•ã€‚
é¦–å…ˆç¬¬ä¸€æ­¥è‚¯å®šæ˜¯åœ¨typechoåå°å¼€å¯åœ°å€é‡å†™åŠŸèƒ½ï¼Œä¸è¦ç®¡é”™è¯¯æç¤ºï¼Œé€‰æ‹©ã€å¯ç”¨ã€‘å¹¶ä¿å­˜è®¾ç½®ã€‚ ç„¶åå¼€å§‹åœ¨apache2ä¸­è¿›è¡Œé…ç½®ï¼š
æœ¬åœ°æ–°å»ºä¸€ä¸ªæ–‡ä»¶ï¼Œæ–‡ä»¶å**.htaccess** ï¼ŒæŠŠä¸‹é¢è¿™æ®µå†…å®¹ç²˜è´´è¿›å»ï¼Œä¿å­˜ï¼Œç„¶åä¸Šä¼ åˆ°ç½‘ç«™æ ¹ç›®å½•ã€‚ &amp;lt;IfModule mod_rewrite.c&amp;gt; RewriteEngine On RewriteBase / RewriteCond %{REQUEST_FILENAME} !-f RewriteCond %{REQUEST_FILENAME} !-d RewriteRule ^(.*)$ index.php [L,E=PATH_INFO:$1] &amp;lt;/IfModule&amp;gt; æ–‡ä»¶ä½ç½®ç¤ºæ„å›¾ï¼š
ä¿®æ”¹apache2.confï¼ˆå¦‚æœä½ çš„ç½‘ç«™è·¯å¾„ä¿¡æ¯é…ç½®åœ¨VirtualHostä¸‹åˆ™ä¿®æ”¹å¯¹åº”ä½ç½®ï¼‰ã€‚è¿™é‡Œä»¥é»˜è®¤çš„/var/wwwä¸ºä¾‹ï¼ŒæŠŠAllowOverrideåçš„å‚æ•°æ”¹ä¸ºFileInfoï¼Œä¸éœ€è¦æ”¹æˆallï¼Œfileinfoçš„æƒé™å°±å¤Ÿäº†ã€‚ &amp;lt;Directory /var/www/&amp;gt; Options Indexes FollowSymLinks AllowOverride FileInfo Require all granted &amp;lt;/Directory&amp;gt; å®Œæˆä»¥ä¸Šä¸¤æ­¥ä»¥åï¼Œå¯ä»¥è¯•ç€é‡å¯apache2ï¼Œå¦‚æœrewriteæ¨¡å—å·²ç»å¼€å¯çš„è¯ï¼Œåˆ°è¿™ä¸€æ­¥ä¼ªé™æ€å°±å·²ç»å®Œæˆäº†ã€‚ systemctl restart apache2 å¦‚æœå¾ˆä¸å¹¸æ“ä½œapache2é‡å¯ä»¥åä½ çš„åœ°å€é‡å†™åŠŸèƒ½ä¾ç„¶æ²¡æœ‰ç”Ÿæ•ˆï¼Œé‚£å°±æ˜¯æœåŠ¡å™¨æ²¡æœ‰å¯ç”¨rewriteæ¨¡å—ï¼Œæ‰§è¡Œä¸‹é¢è¿™æ¡å‘½ä»¤å¯ç”¨apache2-rewriteï¼Œç„¶åå†é‡å¯apache2ã€‚ a2enmod rewrite systemctl restart apache2 </description>
    </item>
    
    <item>
      <title>ä¸ºä»€ä¹ˆé€‰æ‹©Typechoè€Œä¸æ˜¯Hexoæ¥æ­å»ºåšå®¢</title>
      <link>https://ruohai.wang/posts/why-choose-typecho/</link>
      <pubDate>Sat, 15 Jul 2023 02:33:47 +0800</pubDate>
      
      <guid>https://ruohai.wang/posts/why-choose-typecho/</guid>
      <description>å‰è¨€ è¿™ç¯‡æ–‡ç« æ˜¯2023å¹´7æœˆ4å·å†™çš„ï¼Œå½“æ—¶æ–¹æ¡ˆé€‰æ‹©çš„æ—¶å€™ï¼Œæ’é™¤æ‰äº†é™æ€åšå®¢hexoé€‰æ‹©äº†typechoï¼Œç„¶ååšäº†è¿™ç¯‡è®°å½•ã€‚
è°æ›¾æƒ³ä¸åˆ°åŠä¸ªæœˆçš„æ—¶é—´ï¼Œå› ä¸ºæ‹¿æ¥è¿æ‰‹çš„vpså¿«è¦åˆ°æœŸï¼Œåšå®¢ä¹Ÿè¦è½¬ç§»ï¼Œæœ€ç»ˆæ–°åšå®¢æˆ‘é€‰æ‹©äº†é™æ€åšå®¢hugoã€‚ğŸ˜„
æœ¬æ¥è¿™ç¯‡æ–‡ç« æ˜¯åæ§½é™æ€åšå®¢ä¸å¥½ç”¨ä¸æ–¹ä¾¿çš„ï¼Œä½†ä»Šå¤©ï¼ˆ2023-07-15ï¼‰å¯¹å†…å®¹åšäº†é‡æ–°æ•´ç†å’Œè¡¥å……ï¼Œåè€Œå˜æˆäº†ä¸€ç¯‡å¹é™æ€åšå®¢å¥½çš„æ–‡ç« ï¼Œç¬‘æ­»äº†ã€‚
ğŸ˜„
æƒ³è¦è‡ªå»ºåšå®¢çš„æ—¶å€™ï¼Œæˆ‘çš„æ–¹æ¡ˆæ˜¯äºŒé€‰ä¸€ï¼šhexoæˆ–è€…typechoã€‚
hexoå…¥é€‰æ˜¯å› ä¸º2015å¹´çš„æ—¶å€™ç”¨hexo+github pageæ­è¿‡ä¸€ä¸ªåšå®¢ã€‚typechoå…¥é€‰æ˜¯å› ä¸ºç©å®¢äº‘è¿™ä¸ªæœºå™¨ç¡¬ä»¶æ€§èƒ½ç¾¸å¼±ï¼ˆæ²¡é”™ä¸€å¼€å§‹æˆ‘æ˜¯å‡†å¤‡åœ¨ç©å®¢äº‘ä¸Šè‡ªå»ºåšå®¢ï¼‰ï¼Œçœ‹åˆ°æœ‰ä¸€ä¸ªç©å®¢äº‘armbianå›ºä»¶é‡Œå†…ç½®äº†typechoã€‚
æ¥ä¸‹å»å°±æ˜¯å†³å®šç”¨hexoè¿˜æ˜¯typechoäº†ã€‚æœäº†ç½‘ä¸Šå¾ˆå¤šåšå®¢å·¥å…·ä¼˜åŠ£çš„ç‚¹è¯„æ–‡ç« ï¼Œå•°å•°å—¦å—¦ä¸€å¤§å †ï¼Œéƒ½å–œæ¬¢è¯´ä»€ä¹ˆä¸»é¢˜å¥½ä¸å¥½çœ‹ã€‚æœ‰çš„ä¼šæåˆ°åŠ¨æ€åšå®¢ã€é™æ€åšå®¢ä¹‹åˆ†ï¼Œè¿™ä¸ªä¹Ÿå¥½ç†è§£ï¼Œä½†å¾€å¾€ä¹Ÿåªç‚¹åˆ°é™æ€é¡µé¢ã€åŠ¨æ€æ•°æ®è¿™äº›ã€‚
ä½†æ˜¯æœ€æœ€æœ€å…³é”®çš„åŒºåˆ«ï¼Œä»–ä»¬éƒ½æ²¡è¯´ï¼Œæˆ‘æ¥è¯´ï¼š
é™æ€åšå®¢æ˜¯åˆ†æˆæœ¬åœ°ç¯å¢ƒå’ŒæœåŠ¡å™¨ç¯å¢ƒçš„ï¼ï¼ï¼ é™æ€åšå®¢ é™æ€åšå®¢å­˜åœ¨å¦‚ä¸‹å‡ ä¸ªé—®é¢˜ï¼š
éœ€è¦åœ¨æœ¬åœ°æ­å»ºä¸€ä¸ªç¼–è¯‘ç¯å¢ƒã€‚hexoæ˜¯nodejsï¼Œhugoæ˜¯goï¼Œjekyllæ˜¯ruby gemã€‚æƒ³å†™åšå®¢ï¼Œå°±éœ€è¦æœ¬åœ°å†™å¥½markdownæ–‡ä»¶ï¼Œç„¶åæœ¬åœ°ç¼–è¯‘æˆé™æ€é¡µé¢ï¼Œç„¶ågit pushåˆ°æœåŠ¡å™¨ï¼ˆä¹Ÿå¯ä»¥ç”¨sftpå·¥å…·ï¼‰ã€‚æ–‡ç« å‘å¸ƒä»¥åå‘ç°æœ‰é”™è¯¯æƒ³è¦æ”¹ï¼Œå“ï¼Œæœ¬åœ°ç¼–è¾‘é‚£ä»½markdownæ–‡ä»¶ï¼Œç„¶åæœ¬åœ°é‡æ–°ç¼–è¯‘é™æ€é¡µé¢ï¼Œç„¶åå†ç”¨git pushåˆ°æœåŠ¡å™¨ã€‚è¿™ä¹Ÿæ˜¯å°ç™½å®¹æ˜“ç†è§£é”™è¯¯çš„åœ°æ–¹ï¼ŒæŒ‰ç…§hexoã€hugoã€jekyllçš„å®˜æ–¹æ–‡æ¡£å­å“§å­å“§å¼„åŠå¤©ï¼Œæœ€åå‘ç°åªæ˜¯åœ¨è‡ªå·±ç”µè„‘ä¸Šè£…äº†ä¸€ä¸ªç¼–è¯‘ç¯å¢ƒè€Œå·²ã€‚
æ²¡æœ‰åŸç”Ÿè¯„è®ºç³»ç»Ÿã€‚å› ä¸ºæ˜¯éƒ½æ˜¯é™æ€é¡µé¢æ²¡æœ‰ä»€ä¹ˆäº¤äº’ï¼Œè‡ªç„¶ä¹Ÿå°±æ²¡æœ‰åŸç”Ÿè¯„è®ºç³»ç»Ÿï¼Œä½†å¯ä»¥é€šè¿‡é…ç½®ç¬¬ä¸‰æ–¹æœåŠ¡å¤–æŒ‚è¯„è®ºç³»ç»Ÿæ¥å®ç°ã€‚ä½†éšä¹‹è€Œæ¥çš„é—®é¢˜å°±æ˜¯ï¼Œè¿™äº›è¯„è®ºéƒ½ä¿å­˜åœ¨ç¬¬ä¸‰æ–¹ç½‘ç«™ä¸Šï¼Œä¸å½’è‡ªå·±ç®¡ã€‚
éƒ¨ç½²ã€‚é™æ€åšå®¢å¦‚æ­¤æµè¡Œï¼Œæˆ‘è§‰ç€æœ‰å¾ˆå¤§çš„åŸå› æ˜¯å…è´¹çš„github pageså§ã€‚ä½†å¦‚æœæƒ³éƒ¨ç½²åœ¨ä¸»æœºä¸Šï¼Œé‚£å°±å’ŒåŠ¨æ€åšå®¢ä¸€æ ·ï¼Œéœ€è¦å¼€å§‹sshè¿ä¸Šä¸»æœºè£…nginx/apache2å»ºç«™äº†ã€‚
è®¾å¤‡ç»‘å®šã€‚markdownç¼–è¯‘æˆé™æ€é¡µé¢ä»¥åï¼Œéœ€è¦pushåˆ°æœåŠ¡å™¨ï¼Œæˆ–è€…githubã€‚å¦‚æœpushåˆ°æœåŠ¡å™¨ï¼Œé‚£å’ŒåŠ¨æ€åšå®¢ä¸€æ ·ï¼Œéœ€è¦å’Œä¸»æœºåšrsaå¯†é’¥è®¤è¯ç™»å½•ï¼›å¦‚æœpushåˆ°githubï¼Œé‚£éœ€è¦åœ¨githubä¸Šé…ç½®rsaå…¬é’¥ã€‚è¿™éƒ½å¯¼è‡´äº†å®¢æˆ·ç«¯è®¾å¤‡çš„ç»‘å®šï¼Œä¹Ÿå°±æ˜¯æˆ‘ç”¨Aç”µè„‘å†™markdownç„¶åç¼–è¯‘ç„¶åpushï¼Œé‚£æˆ‘æ¢ç”µè„‘äº†æ€ä¹ˆåŠï¼Ÿå¾—é‡æ–°é…ç½®ä¸€érsaå¯†é’¥è®¤è¯ï¼Œæˆ–è€…å…¶å®ƒç”µè„‘è¿œç¨‹ç™»å½•åˆ°Aç”µè„‘è¿›è¡Œpushã€‚
ä¸æ”¯æŒæœç´¢ã€‚éƒ½æ˜¯é™æ€é¡µé¢ï¼Œå¾€å¾€æ²¡æœ‰äº¤äº’åŠŸèƒ½ï¼Œæ¯”å¦‚æœç´¢æ–‡ç« ã€‚éœ€è¦ç”¨æœç´¢å¼•æ“é…åˆä¸€äº›æœç´¢å…¬å¼æ¥å®ç°ã€‚
æ–‡ç« ç®¡ç†ä¸ä¾¿ã€‚æ ‡ç­¾ã€åˆ†ç±»ã€ç½®é¡¶ï¼Œè¿˜æœ‰å¾ˆå¤šåŸºç¡€åŠŸèƒ½ç¼ºå¤±ï¼Œéœ€è¦è‡ªå·±æ‰‹åŠ¨ç®¡ç†ã€‚
åŠ¨æ€åšå®¢ åŠ¨æ€åšå®¢æœ€çŸ¥åçš„å°±æ˜¯wordpressï¼Œä½†å¾ˆå¤šäººéƒ½ä¼šè§‰å¾—å®ƒå¤ªé‡ï¼Œtypechoå¯ä»¥ç†è§£ä¸ºwordpressçš„ç²¾ç®€ç‰ˆã€‚åŠ¨æ€åšå®¢å¥½å¤„éƒ½æœ‰å•¥ï¼Œè°è¯´å¯¹äº†å°±ç»™ä»–ã€‚
åŸç”Ÿè¯„è®ºç³»ç»Ÿã€‚è™½ç„¶æˆ‘çš„åšå®¢å‡ ä¹æ²¡æœ‰ä»€ä¹ˆè®¿é—®é‡ï¼Œè¯„è®ºä¹Ÿå®Œå…¨æ²¡æœ‰ï¼Œä½†è¯„è®ºåŠŸèƒ½å®ƒå¿…é¡»å¾—æœ‰ã€‚
è‡ªå¸¦ç®¡ç†åå°ï¼Œå¯ä»¥ç›´æ¥åœ¨ç½‘ç«™åå°å¯¹å…¨ç«™èµ„æºè¿›è¡Œé…ç½®ï¼Œæ¯”å¦‚æ–‡ç« çš„ç¼–è¾‘ã€å‘å¸ƒã€åˆ é™¤ï¼Œè¯„è®ºçš„ç®¡ç†ï¼Œä¸»é¢˜çš„é…ç½®ï¼Œé¡µé¢çš„è°ƒæ•´ã€‚
ä¸ç»‘å®šè®¾å¤‡ã€‚å‡ºé—¨æ²¡å¸¦è‡ªå·±ç”µè„‘ï¼Œä¸å¾—ä¸ç”¨å…¶å®ƒç”µè„‘ï¼Œç…§æ ·å¯ä»¥æµè§ˆå™¨ç™»å½•ç½‘ç«™åå°ç®¡ç†åšå®¢ã€‚
åŠ¨æ€åšå®¢ç³»ç»Ÿéƒ½è‡ªå¸¦åŠŸèƒ½å¼ºå¤§çš„å¯Œæ–‡æœ¬ç¼–è¾‘å™¨/markdownç¼–è¾‘å™¨ï¼Œä¸ç”¨å†èŠ±å¿ƒæ€å»é€‰ä»€ä¹ˆæ”¯æŒè¯­æ³•é«˜äº®ã€æ”¯æŒå®æ—¶é¢„è§ˆã€å…è´¹çš„markdownç¼–è¾‘å™¨ï¼Œç³»ç»Ÿè‡ªå¸¦ã€‚
åŠ¨æ€åšå®¢ç³»ç»Ÿè‡ªå¸¦åŠŸèƒ½å¼ºå¤§çš„æ–‡ç« åˆ†ç±»åŠŸèƒ½ã€æ ‡ç­¾ç®¡ç†åŠŸèƒ½ã€æœç´¢åŠŸèƒ½ï¼Œè¿™äº›ç½‘ç«™æ ‡é…çš„åŠŸèƒ½ï¼Œé™æ€åšå®¢éƒ½éœ€è¦è‡ªå·±åŠ¨æ‰‹å»å®ç°ã€‚
è¿™ä¹ˆçœ‹ä¸‹æ¥ï¼Œå¥½åƒé™æ€åšå®¢ä¸€æ— æ˜¯å¤„ï¼ŒåŠ¨æ€åšå®¢å…¨æ˜¯ä¼˜ç‚¹ã€‚é‚£ä¸ºä»€ä¹ˆè¿˜æœ‰é‚£ä¹ˆå¤šäººé€‰æ‹©é™æ€åšå®¢ï¼Ÿ
ç½‘ç«™ç²¾ç®€ï¼Œless is moreï¼Œç æ‰æ‰€æœ‰åŠŸèƒ½ä»¥åå¯ä»¥æŠŠå…¨éƒ¨æ³¨æ„åŠ›éƒ½ç”¨åœ¨ã€å†™åšå®¢ã€‘è¿™ä»¶äº‹ä¸Šã€‚
å…è´¹ã€‚åªè¦æ³¨å†Œä¸€ä¸ªgithubè´¦å·ï¼Œå°±å¯ä»¥æŠŠåšå®¢éƒ¨ç½²åˆ°github pagesï¼Œä¸èŠ±é’±ï¼Œç„¶åä¹°ä¸ª10å—ä¸€å¹´çš„å»‰ä»·åŸŸåï¼Œæå®šã€‚å¦‚æœç”¨åŠ¨æ€åšå®¢ï¼Œè‡ªå·±çš„å°ä¸»æœºæ²¡æ³•å¤‡æ¡ˆå§ï¼Œå°±ä¸èƒ½è§£å°80/443ç«¯å£ï¼Œé‚£å°±å¾—ä¹°vpsã€‚å›½å†…é˜¿é‡Œäº‘è…¾è®¯äº‘å„ç§äº‘ï¼Œè¦å¤‡æ¡ˆè¦å®¡æ ¸ï¼Œæµ·å¤–linodeã€vultrã€azureã€awsã€digital oceanï¼Œå„æœ‰ä¼˜åŠ£å¾—æŒ‘å¥½ä¹…å§è€Œä¸”ä»·æ ¼ä¸ä¾¿å®œã€‚ä¸€å¹´ä¸€å¹´ç»­è´¹å¤ªå¿ƒç—›ã€‚</description>
    </item>
    
    <item>
      <title>Linuxä¸‹å®‰è£…Navidromeè‡ªå»ºæµåª’ä½“æœåŠ¡</title>
      <link>https://ruohai.wang/posts/navidrome-setup/</link>
      <pubDate>Sat, 15 Jul 2023 00:28:12 +0800</pubDate>
      
      <guid>https://ruohai.wang/posts/navidrome-setup/</guid>
      <description>navidromeï¼Œå¼€æºçš„æµåª’ä½“æœåŠ¡å™¨ï¼Œå…¨å¹³å°å®¢æˆ·ç«¯éƒ½æœ‰ã€‚åŠŸèƒ½å’Œç¾¤æ™–çš„audio stationä¸€æ ·ï¼Œä½†é¦–å…ˆä¸æ˜¯äººäººéƒ½æœ‰ç¾¤æ™–ï¼Œå…¶æ¬¡æœ‰ç¾¤æ™–çš„äººä¹Ÿä¸ä¸€å®šéƒ½å–œæ¬¢ç¾¤æ™–é‚£ä¸ªæ²™é›•çš„audio stationã€‚
è¿™é‡Œè®°å½•ä¸‹å®‰è£…æ­¥éª¤ã€‚å…¶å®å®˜ç½‘çš„å®‰è£…æ•™ç¨‹å·²ç»éå¸¸å®Œæ•´ä¸”è¯¦ç»†ï¼Œåªæ˜¯æ²¡æœ‰ä¸­æ–‡ç‰ˆè€Œå·²ã€‚è‹±æ–‡é˜…è¯»æ²¡é—®é¢˜çš„å¯ä»¥ç›´æ¥çœ‹ã€å®˜æ–¹å®‰è£…æ•™ç¨‹ã€‘ã€‚è¿™é‡Œä»…åšä¸€ä¸ªè‡ªå·±å®‰è£…è¿‡ç¨‹çš„è®°å½•å’Œè‹±è¯‘ä¸­ã€‚æœ‰äººä¼šé—®navidromeä¸æ˜¯æ”¯æŒdockerå®‰è£…å—è€Œä¸”dockerå®‰è£…å¾ˆç®€å•ï¼ŒSTOPï¼æˆ‘ä¸å–œæ¬¢dockerï¼Œæ‰€ä»¥é€‰æ‹©è‡ªå·±æ‰‹æ“ã€‚
å¥½äº†ï¼Œè®©æˆ‘ä»¬å¼€å§‹å®‰è£…navidromeå§ï¼
ç¬¬ä¸€æ­¥ï¼šå®‰è£…ffmpegï¼ˆå¤§æ¦‚500MBï¼‰
apt install ffmpeg -y ç¬¬äºŒæ­¥ï¼šåˆ›å»ºnavidromeçš„å®‰è£…æ–‡ä»¶å¤¹å’Œè¿è¡Œæ–‡ä»¶å¤¹å¹¶åˆ†é…ç”¨æˆ·å’Œç»„ã€‚å¯¹çš„ï¼Œè¿™ä¸€æ­¥å°±è¦æƒ³å¥½è¿è¡Œnavidromeè¦åˆ†é…çš„æƒé™äº†ï¼Œæ€•éº»çƒ¦å°±rootä¸€æŠŠæ¢­ã€‚è¿™é‡Œç”¨æˆ·å’Œç»„æˆ‘ä»¬éƒ½ç”¨jackã€‚æ–‡ä»¶å¤¹è·¯å¾„å¯ä»¥è‡ªå®šä¹‰ï¼Œåªæ˜¯åé¢çš„é…ç½®è¿‡ç¨‹ä¸­åŒæ­¥ä¿®æ”¹ä¸ºè‡ªå®šä¹‰è·¯å¾„å³å¯ã€‚
install -d -o jack -g jack /opt/navidrome install -d -o jack -g jack /var/lib/navidrome ç¬¬ä¸‰æ­¥ï¼šè¿›å…¥/opt/navidromeï¼Œåˆ°å®˜æ–¹githubä¸‹è½½å¯¹åº”è‡ªå·±ç¡¬ä»¶å¹³å°ç‰ˆæœ¬çš„å®‰è£…åŒ…ï¼Œæˆ‘è¿™é‡Œä»¥amd64ç‰ˆæœ¬ä¸ºä¾‹ï¼Œè§£å‹å¹¶åˆ†é…æƒé™ã€‚
cd /opt/navidrome wget https://github.com/navidrome/navidrome/releases/download/v0.49.3/navidrome_0.49.3_Linux_arm64.tar.gz tar -zxvf navidrome_0.49.3_Linux_arm64.tar.gz chown -R jack:jack /opt/navidrome ç¬¬å››æ­¥ï¼šåœ¨/var/lib/navidromeç›®å½•ä¸‹åˆ›å»ºé…ç½®æ–‡ä»¶navidrome.tomlï¼Œé…ç½®å‚æ•°ã€‚é»˜è®¤åªæœ‰ä¸€å¥ï¼Œç”¨æ¥æŒ‡å®šéŸ³ä¹çš„æºæ–‡ä»¶è·¯å¾„ã€‚æ›´å¤šè‡ªå®šä¹‰å‚æ•°çœ‹ã€å®˜æ–¹é¡µé¢ã€‘ã€‚
MusicFolder = &amp;#34;/media/music&amp;#34; æ³¨æ„é…ç½®è¿™ä¸ªåª’ä½“æºæ–‡ä»¶å¤¹çš„ç”¨æˆ·æƒé™ï¼Œå¦‚æœå¼„ä¸æ¸…å°±ç…§æ ·åˆ†é…ç»™jackã€‚
chown -R jack:jack /media/music ç¬¬äº”æ­¥ï¼šåˆ°è¿™ä¸€æ­¥å…¶å®å·²ç»ç®—å¤§åŠŸå‘Šæˆäº†ï¼Œæ¥ä¸‹å»åªæ˜¯æŠŠnavidromeæ·»åŠ åˆ°ç³»ç»ŸæœåŠ¡å¹¶è®¾ç½®å¼€æœºè‡ªå¯ã€‚åœ¨/etc/systemd/systemç›®å½•ä¸‹æ–°å»ºnavidrome.serviceæ–‡ä»¶ï¼Œç„¶åæ·»åŠ é…ç½®ä¿¡æ¯ã€‚æ³¨æ„å‚æ•°ä¸­çš„Userå’ŒGroupä¸¤ä¸ªå‚æ•°å¯¹åº”çš„å€¼è¦æ”¹æˆä½ è‡ªå·±çš„å€¼ã€‚å…¶å®ƒå‚æ•°é»˜è®¤å³å¯ï¼Œå¦‚æœä½ èƒ½çœ‹æ‡‚å‚æ•°ä¹Ÿå¯ä»¥è‡ªè¡Œä¿®æ”¹ã€‚
[Unit] Description=Navidrome Music Server and Streamer compatible with Subsonic/Airsonic After=remote-fs.target network.target AssertPathExists=/var/lib/navidrome [Install] WantedBy=multi-user.target [Service] User=jack Group=jack Type=simple ExecStart=/opt/navidrome/navidrome --configfile &amp;#34;/var/lib/navidrome/navidrome.toml&amp;#34; WorkingDirectory=/var/lib/navidrome TimeoutStopSec=20 KillMode=process Restart=on-failure # See https://www.</description>
    </item>
    
    <item>
      <title>Linuxä¸‹Tailscaleçš„å®‰è£…å’Œé…ç½®</title>
      <link>https://ruohai.wang/posts/tailscale-setup/</link>
      <pubDate>Sat, 15 Jul 2023 00:25:16 +0800</pubDate>
      
      <guid>https://ruohai.wang/posts/tailscale-setup/</guid>
      <description>æˆ‘çš„naså’Œç©å®¢äº‘armbianå°ä¸»æœºçš„å¤–ç½‘è®¿é—®æ–¹æ¡ˆä¸€ç›´ç”¨çš„æ˜¯ipv6 + ddnsï¼Œå› ä¸ºæˆ‘æ‰‹ä¸Šæ­£å¥½æœ‰ä¸ªåŸŸåï¼Œè¿™ä¸ªæ–¹æ¡ˆç¡®å®å¾ˆå¥½ç”¨ï¼Œä¸ä»…æ–¹ä¾¿è€Œä¸”é…ç½®ä¹Ÿå¾ˆç®€å•ï¼Œé™¤äº†ipv6åœ°å€æ›´æ–°çš„ååˆ†é’Ÿå·¦å³çš„æ—¶é—´ä¼šçŸ­æš‚æ‰çº¿ï¼Œå…¶å®ƒæ–¹é¢æˆ‘è§‰å¾—å·²ç»ååˆ†å®Œç¾ã€‚
ä»Šå¤©åœ¨twitteræœ‰æœ‹å‹é—®é¢˜ç©å®¢äº‘æœºå™¨åˆ·armbianåèƒ½ä¸èƒ½è·‘tailscaleï¼Œæˆ‘è¯´æ²¡ç”¨è¿‡ä¸æ¸…æ¥šï¼Œä½†å‹¾èµ·äº†æˆ‘çš„å¥½å¥‡å¿ƒï¼Œæ‰€ä»¥æŒ‰ç…§å®˜æ–¹æ–‡æ¡£çš„æ‰‹å†Œå®‰è£…é…ç½®äº†ä¸€ä¸‹ï¼Œemmmï¼ŒåŒæ ·å¾ˆå¥½ç”¨ï¼ŒåŒæ ·å¾ˆæ–¹ä¾¿è€Œä¸”é…ç½®ç®€å•ï¼Œç®€å•åˆ°å‹æ ¹å°±æ²¡æœ‰å‡ æ­¥æ“ä½œï¼Œæ•™ç¨‹éƒ½æ²¡ä»€ä¹ˆå¥½å†™çš„ã€‚
ä½†æˆ‘åœ¨å®‰è£…ç»„ç½‘å¥½äº†ä»¥åè¿˜æ˜¯ç¢°åˆ°äº†ä¸€ç‚¹ç®€å•çš„ä½¿ç”¨å°ç–‘æƒ‘ã€‚è€Œä¸”tailscaleå’Œipv6å…¬ç½‘ä½¿ç”¨åœºæ™¯è™½ç„¶å­˜åœ¨é‡å ï¼Œä¹Ÿæ˜¯æœ‰ä¸€äº›å·®å¼‚åŒ–çš„ï¼Œæ‰€ä»¥è®°å½•ä¸€ä¸‹ã€‚
é¦–å…ˆå°±æ˜¯å»ã€tailscaleå®˜ç½‘ã€‘æ³¨å†Œè´¦å·äº†ï¼Œæ²¡å•¥å¥½è¯´çš„ï¼Œæ ¹æ®å®˜ç½‘æç¤ºæ“ä½œå°±è¡Œäº†ã€‚æ³¨å†Œå¥½äº†ä»¥åï¼Œsshè¿›linuxæœºå™¨ï¼Œå¼€å§‹å®‰è£…ã€‚
ç¬¬ä¸€æ­¥ï¼šå®‰è£…ï¼Œä¸€æ¡å‘½ä»¤ï¼Œè€å¿ƒç­‰å®ƒè·‘å®Œï¼Œè·‘å®Œä¼šæç¤ºå®‰è£…æˆåŠŸã€‚
curl -fsSL https://tailscale.com/install.sh | sh ç¬¬äºŒæ­¥ï¼šæ ¹æ®ç»ˆç«¯é‡Œå®‰è£…æˆåŠŸçš„æç¤ºï¼Œå¯åŠ¨tailscaleã€‚
tailscale up å¯åŠ¨æˆåŠŸä»¥åï¼Œç»ˆç«¯ä¼šå‡ºç°ä¸€ä¸ªurlé“¾æ¥ï¼Œå¤åˆ¶é“¾æ¥åˆ°æµè§ˆå™¨ä¸­æ‰“å¼€ï¼Œæ ¹æ®æç¤ºä¸‹ä¸€æ­¥å†ä¸‹ä¸€æ­¥ï¼ŒæŠŠè®¾å¤‡æ·»åŠ åˆ°è‡ªå·±è´¦å·ã€‚ åœ¨linuxå®‰è£…tailscaleå°±è¿™ä¹ˆç®€å•ï¼Œæ²¡äº†ã€‚
ç„¶ååœ¨tailscaleç™»å½•ä»¥åè¿›å…¥ä¸ªäººä¸­å¿ƒçš„machinesé¡µé¢ï¼Œå¯ä»¥çœ‹åˆ°è‡ªå·±è´¦å·ä¸‹çš„è®¾å¤‡ã€‚ å¯ä»¥çœ‹åˆ°æ¯ä¸ªè®¾å¤‡åé¢éƒ½åˆ†é…äº†ä¸€ä¸ª100å¼€å¤´çš„ipv4åœ°å€ã€‚
å‡å®šæˆ‘ç°åœ¨éœ€è¦åœ¨debianè¿™å°æœºå™¨ä¸Šè®¿é—®onecloudæœºå™¨ä¸Šçš„ä¸€ä¸ªæœåŠ¡ï¼ˆæ¯”å¦‚ç¾¤æ™–ï¼Œç«¯å£æ˜¯5000)ï¼Œé‚£åªéœ€è¦åœ¨debianæœºå™¨ä¸Šæ‰“å¼€æµè§ˆå™¨ï¼Œè¾“å…¥onecloudçš„tailscaleåˆ†é…çš„ipv4åœ°å€å’Œç«¯å£å·ï¼Œä¹Ÿå°±æ˜¯100.xxx.xx.xx:5000ï¼Œå°±å¯ä»¥æƒ¹~~å®æµ‹åŸºæœ¬èƒ½è·‘æ»¡å¸¦å®½ã€‚
å®é™…ä½“éªŒä¸‹æ¥ï¼Œæ³¨å†Œã€å®‰è£…ã€ä½¿ç”¨ï¼Œå®Œå…¨å°±æ˜¯å‚»ç“œå¼æ“ä½œï¼Œ0é…ç½®å°±å¯ä»¥ä½¿ç”¨ï¼Œæ¯”ipv6 + ddnsçš„æ–¹æ¡ˆè¿˜è¦ç®€å•ã€‚
å†è¯´ä¸€ä¸‹tailscaleå’Œipv6æ–¹æ¡ˆä½¿ç”¨åœºæ™¯çš„ä¸åŒã€‚é»˜è®¤é…ç½®ä¸‹ï¼Œipv6æ˜¯å…¬ç½‘å¼€æ”¾çš„ï¼Œæ„å‘³ç€åªè¦çŸ¥é“ipv6åœ°å€å’Œç«¯å£å·ï¼Œæ‰€æœ‰äººéƒ½å¯ä»¥è®¿é—®åˆ°ï¼Œè¿™å°±å¸¦æ¥ä¸€ä¸ªå®‰å…¨ä¸Šé—®é¢˜ï¼Œéœ€è¦ç”¨æˆ·è‡ªå·±è¿›è¡Œä¸€äº›å®‰å…¨åŠ å›ºçš„é…ç½®ï¼Œæ¯”å¦‚è£…é˜²ç«å¢™ã€ä¿®æ”¹æœåŠ¡çš„é»˜è®¤ç«¯å£ã€ä½¿ç”¨å¤æ‚å¯†ç ç­‰ç­‰ã€‚ä½†tailscaleåªæ˜¯ä¸€ä¸ªè´¦æˆ·ä¸‹çš„å±€åŸŸç½‘ä¹‹å†…çš„è®¾å¤‡ä¹‹é—´å¼€æ”¾è®¿é—®ï¼Œå¹¶ä¸å¯¹å…¬ç½‘å¼€æ”¾ï¼Œè€Œä¸”tailscaleæœåŠ¡æœ¬èº«çš„å®‰å…¨æªæ–½å°±æ‹‰æ»¡ã€‚
æ‰€ä»¥æ¯”è¾ƒåˆé€‚çš„ä½¿ç”¨åœºæ™¯æ˜¯ï¼š
ç½‘ç»œèµ„æºï¼ˆç½‘ä¸Šèƒ½ä¸‹è½½åˆ°çš„å„ç§ç”µå½±ç”µè§†å‰§ç”µå­ä¹¦éŸ³ä¹å›¾ç‰‡æ–‡ç« ï¼‰ï¼Œç”¨ipv6 + ddnså³å¯ï¼Œæ³„éœ²ä¹Ÿæ— å¦¨ã€‚ ä¸ªäººèµ„æ–™ï¼ˆå·¥ä½œç”Ÿæ´»å®¶åº­ä¸­çš„ç…§ç‰‡éŸ³é¢‘æ–‡æ¡£ç­‰ç§å¯†ææ–™)ï¼Œç”¨tailscaleï¼Œæœç»ç§å¯†èµ„æ–™æ³„éœ²ã€‚ </description>
    </item>
    
    <item>
      <title>Linuxä¸‹firewalldé˜²ç«å¢™çš„å®‰è£…å’Œé…ç½®</title>
      <link>https://ruohai.wang/posts/firewalld-setup/</link>
      <pubDate>Sat, 15 Jul 2023 00:19:54 +0800</pubDate>
      
      <guid>https://ruohai.wang/posts/firewalld-setup/</guid>
      <description>å‰å‡ å¹´ä¹°äº†vpsä»¥åéƒ½æ˜¯è·‘ssä¸€é”®è„šæœ¬ç„¶åå°±æ‰”é‚£å„¿ä¸ç®¡äº†ï¼Œé™¤äº†vpsæœåŠ¡å•†é»˜è®¤æä¾›çš„å®‰å…¨æªæ–½ï¼Œå…¶å®ƒé˜²æŠ¤ä¸º0ã€‚è™½ç„¶åšäº†å¥½å¤šå¹´çš„webå¼€å‘ï¼Œä½†éƒ½åªæ˜¯åšä¸€äº›crudæ¬ç –ç²—æ´»ï¼Œå¯¹linuxç»´æŠ¤å¹¶ä¸äº†è§£ã€‚è¿™æ¬¡å€Ÿç€æŠ˜è…¾ç©å®¢äº‘å°æœºå™¨armbiançš„æœºä¼šï¼Œæ­£å¥½æ‘¸ç´¢å­¦ä¹ ä¸€ä¸‹ã€‚
ğŸ˜„
linuxä¸‹ç®¡ç†é˜²ç«å¢™è§„åˆ™çš„å·¥å…·ï¼Œå¤§è‡´æ˜¯iptables/firewalld/ufwï¼Œè¿™é‡Œç•¥è¿‡æ–¹æ¡ˆé€‰å‹è¿‡ç¨‹ï¼Œåªè¯´firewalldçš„å®‰è£…å’Œç®€å•é…ç½®ã€‚è¦æ³¨æ„firewalldå®‰è£…å¥½ä»¥åï¼Œé»˜è®¤åªå…è®¸dhcpv6-clientå’ŒsshæœåŠ¡ï¼Œå…¶å®ƒæœåŠ¡ã€ç«¯å£å…¨éƒ¨ä¼šè¢«æ‹¦æˆªï¼Œå¦‚æœsshæ”¹äº†è‡ªå®šä¹‰ç«¯å£ï¼ŒåŠ¡å¿…è¦è®°å¾—æ”¾è¡Œè¯¥ç«¯å£ã€‚
å®‰è£…ï¼Œå¾ˆç®€å•ã€‚å®‰è£…å¥½ä»¥åè‡ªåŠ¨å¯ç”¨ï¼Œè‡ªåŠ¨é…ç½®ä¸ºå¼€æœºå¯åŠ¨æœåŠ¡ã€‚
apt install firewalld æŸ¥çœ‹firewalldå½“å‰çŠ¶æ€
systemctl status firewalld æ°¸ä¹…å¼€æ”¾æŸä¸ªç«¯å£
firewall-cmd --add-port=80/tcp --permanent ä¿®æ”¹è§„åˆ™ä»¥åé‡è½½ç”Ÿæ•ˆ
firewall-cmd --reload æŸ¥çœ‹å½“å‰å¼€æ”¾çš„æœåŠ¡
firewall-cmd --list-service æŸ¥çœ‹å½“å‰å¼€æ”¾çš„ç«¯å£
firewall-cmd --list-ports æ°¸ä¹…å¼€æ”¾æŸä¸ªæœåŠ¡
firewall-cmd --add-service=samba --permanent æ°¸ä¹…å…³é—­æŸä¸ªç«¯å£
firewall-cmd --remove-port=22/tcp --permanent </description>
    </item>
    
    <item>
      <title>Linuxä¸‹é…ç½®RSAå…¬é’¥è®¤è¯ç™»å½•</title>
      <link>https://ruohai.wang/posts/pub-key-auth-config/</link>
      <pubDate>Fri, 14 Jul 2023 23:41:25 +0800</pubDate>
      
      <guid>https://ruohai.wang/posts/pub-key-auth-config/</guid>
      <description>ä¸ºäº†å®‰å…¨ï¼Œlinuxä¸»æœºä¸€èˆ¬éƒ½ä¼šç¦æ‰å¯†ç ç™»å½• + rsaå¯†é’¥è®¤è¯ç™»å½•ã€‚è¿™é‡Œè®°å½•ä»¥ä¸‹è¿™ä¸¤ä¸ªæ“ä½œçš„è¿‡ç¨‹ã€‚
ç¬¬ä¸€æ­¥ï¼šç”Ÿæˆrsaå¯†é’¥å¯¹ï¼Œä¸å¤šèµ˜è¿°ã€‚
ssh-keygen ç”Ÿæˆä¿©æ–‡ä»¶ï¼Œid_rsaå’Œid_rsa.pubã€‚
ç¬¬äºŒæ­¥ï¼šç¡®ä¿åœ¨linuxä¸»æœºç”¨æˆ·ç›®å½•ä¸‹æœ‰.sshæ–‡ä»¶å¤¹ï¼Œæ²¡æœ‰çš„è¯å°±æ–°å»ºã€‚
mkdir ~/.ssh ç¬¬ä¸‰æ­¥ï¼šç”¨sftpå‘½ä»¤æˆ–è€…sftpå®¢æˆ·ç«¯ï¼ŒæŠŠid_rsa.pubä¸Šä¼ åˆ°~/.sshç›®å½•ä¸‹ã€‚ä¸Šä¼ å®Œæˆåï¼Œæœ€å¥½æŠŠid_rsa.pubæ–‡ä»¶é‡å‘½åä¸ºauthorized_keysã€‚
ç¬¬å››æ­¥ï¼šç¼–è¾‘/etc/ssh/sshd_configæ–‡ä»¶ã€‚
# æ‰¾åˆ°è¿™ä¸ªé…ç½®ï¼Œå»æ‰æ³¨é‡Šå¯ç”¨ PubkeyAuthentication yes # æ‰¾åˆ°è¿™ä¸ªé…ç½®ï¼Œå»æ‰æ³¨é‡Šå¯ç”¨ AuthorizedKeysFile .ssh/authorized_keys ç¬¬äº”æ­¥ï¼šæœ¬åœ°ç»ˆç«¯é…ç½®å¥½id_rsaç§é’¥å°±å¯ä»¥sshå…å¯†ç ç™»å½•äº†ã€‚æ¥ä¸‹å»å°±æ˜¯ç¦ç”¨å¯†ç ç™»å½•ã€‚
# æ‰¾åˆ°è¿™ä¸ªé…ç½®ï¼Œå»æ‰æ³¨é‡Šå¯ç”¨ï¼Œæ³¨æ„valueæ˜¯noï¼Œç¦æ­¢å¯†ç éªŒè¯ PasswordAuthentication no ä¿®æ”¹åä¿å­˜é€€å‡ºï¼Œé‡å¯sshdåé…ç½®ç”Ÿæ•ˆã€‚ğŸ˜„
sysmtectl restart sshd </description>
    </item>
    
    <item>
      <title>Linuxä¸‹å®‰è£…qBittorrent</title>
      <link>https://ruohai.wang/posts/install-qbit/</link>
      <pubDate>Fri, 14 Jul 2023 23:35:17 +0800</pubDate>
      
      <guid>https://ruohai.wang/posts/install-qbit/</guid>
      <description>debianä»“åº“é‡Œqbitæœ‰ä¿©ç‰ˆæœ¬ï¼Œä¸€ä¸ªqbittorrentï¼Œå¦ä¸€ä¸ªqbittorrent-noxã€‚å‰è€…å¸¦qt5ç¼–å†™çš„guiï¼Œåè€…æ²¡æœ‰guiåªæœ‰webuiã€‚æˆ‘æ˜¯åœ¨ç©å®¢äº‘çš„å°æœºå™¨ä¸Šè£…ï¼Œä¸éœ€è¦guiï¼Œæ‰€ä»¥è¿™é‡Œé€‰qbittorrent-noxã€‚
apt install qbittorrent-nox å®‰è£…å®Œæˆåï¼Œç›´æ¥ç”¨å®ˆæŠ¤çº¿ç¨‹æ¨¡å¼å¯åŠ¨ã€‚
qbittorrent-nox -d é»˜è®¤ç«¯å£8080ï¼Œæ‰“å¼€æµè§ˆå™¨ï¼Œè®¿é—®http://host_ip:8080ï¼Œé»˜è®¤ç”¨æˆ·adminï¼Œé»˜è®¤å¯†ç adminadminï¼Œå°±å¯ä»¥å¼€å§‹ä½¿ç”¨äº†ã€‚
ä¹Ÿå¯ä»¥æŠŠqbitæ·»åŠ åˆ°systemdæœåŠ¡å¹¶è®¾ç½®å¼€æœºè‡ªå¯ï¼Œè¿™æ ·å°±ä¸éœ€è¦å†æ¯æ¬¡æ•²å‘½ä»¤å¯åŠ¨ã€‚
ç¬¬ä¸€æ­¥ï¼šåœ¨/etc/systemd/system/ç›®å½•ä¸‹æ–°å»ºæ–‡ä»¶qbittorrent.serviceï¼ŒæŠŠä¸‹é¢å†…å®¹å¤åˆ¶è¿›å»ï¼Œä¿å­˜é€€å‡ºã€‚æ³¨æ„Userä¸€æ çš„å€¼æ˜¯æŒ‡å®šè¿è¡Œqbitä»»åŠ¡çš„ç”¨æˆ·ï¼Œéœ€è¦æ ¹æ®è‡ªå·±çš„æƒ…å†µä¿®æ”¹ã€‚
[Unit] Description=qBittorrent Daemon Service After=network.target [Service] User=Jack ExecStart=/usr/bin/qbittorrent-nox ExecStop=/usr/bin/killall -w qbittorrent-nox [Install] WantedBy=multi-user.target ç¬¬äºŒéƒ¨ï¼šæ·»åŠ systemdæœåŠ¡çš„ä¸‰æ¡å‘½ä»¤ã€‚
# æœåŠ¡é‡è½½ systemctl daemon-reload # å¯åŠ¨æœåŠ¡(å¦‚æœå·²ç»å¯åŠ¨qbitï¼Œè¿™ä¸€æ­¥å¯ä»¥è·³è¿‡ï¼‰ systemctl start qbittorrent.service # æ·»åŠ ä¸ºå¼€æœºè‡ªå¯ systemctl enable qbittorrent.service </description>
    </item>
    
    <item>
      <title>Linuxä¸‹è‡ªå®šä¹‰ä¸»æœºåç§°ï¼ˆhostnameï¼‰</title>
      <link>https://ruohai.wang/posts/change-hostname/</link>
      <pubDate>Fri, 14 Jul 2023 23:28:48 +0800</pubDate>
      
      <guid>https://ruohai.wang/posts/change-hostname/</guid>
      <description>æŸ¥çœ‹å½“å‰çš„ä¸»æœºå
hostname æˆ–è€…
hostnamectl å›¾æ–¹ä¾¿å¯ä»¥ç”¨ä¸€æ¡å‘½ä»¤ä¿®æ”¹ï¼Œè¿™æ¡å‘½ä»¤ä¿®æ”¹çš„æ˜¯/etc/hostnameæ–‡ä»¶ã€‚é€€å‡ºé‡æ–°ç™»å½•ä»¥åå°±å¯ä»¥çœ‹åˆ°æ˜¯æ–°çš„ä¸»æœºå
hostnamectl set-hostname [newname] ä¸¥è°¨ä¸€äº›å¯ä»¥ä¿®æ”¹/etc/hostsï¼Œä½†ä¸Šé¢è¿™ä¸ªæ“ä½œåæˆ‘çš„ç›®çš„å·²ç»å®Œæˆï¼Œæ‰€ä»¥è¿™é‡Œä¸åšè®°å½•ã€‚ğŸ˜„</description>
    </item>
    
    <item>
      <title>Linuxä¸‹è®¾ç½®é™æ€IPï¼ˆå›ºå®šIPï¼‰</title>
      <link>https://ruohai.wang/posts/static-ip-address-config/</link>
      <pubDate>Fri, 14 Jul 2023 23:23:33 +0800</pubDate>
      
      <guid>https://ruohai.wang/posts/static-ip-address-config/</guid>
      <description>å…ˆæŸ¥çœ‹è‡ªå·±è®¾å¤‡çš„ç½‘å¡åç§°
ifconfig å¦‚æœæç¤ºå‘½ä»¤ä¸å­˜åœ¨ï¼Œåˆ™å…ˆå®‰è£…net-tools
apt install net-tools è·å–åˆ°ç½‘å¡åç§°åï¼Œåœ¨/etc/network/interfacesæ–‡ä»¶ä¸­è¿›è¡Œç¼–è¾‘ã€‚å­ç½‘æ©ç ã€ç½‘å…³åœ°å€ã€dnsåœ°å€å¯ä»¥æ ¹æ®è‡ªå·±çš„å®é™…ç½‘ç»œæƒ…å†µè¿›è¡Œè°ƒæ•´ã€‚å®Œæˆç¼–è¾‘ä»¥åä¿å­˜é€€å‡ºã€‚
# å¼€æœºè‡ªåŠ¨å¯ç”¨eth0 auto eth0 # ä½¿ç”¨é™æ€ip iface eth0 inet static # ipåœ°å€ address 192.168.1.4 # å­ç½‘æ©ç  netmask 255.255.255.0 # ç½‘å…³åœ°å€ gateway 192.168.1.1 # dnsæœåŠ¡å™¨ dns-nameservers 192.168.1.1 é‡å¯ç½‘ç»œ
service network restart æˆ–è€…
systemctl restart network å¦‚æœä»¥ä¸Šä¸¤ä¸ªå‘½ä»¤éƒ½æç¤ºæ— æ•ˆï¼Œç›´æ¥é‡å¯å§ã€‚ğŸ˜„</description>
    </item>
    
    <item>
      <title>Linuxä¸‹å®‰è£…Docker Engine</title>
      <link>https://ruohai.wang/posts/install-docker-engine/</link>
      <pubDate>Fri, 14 Jul 2023 23:20:11 +0800</pubDate>
      
      <guid>https://ruohai.wang/posts/install-docker-engine/</guid>
      <description>åœ¨linuxä¸Šå®‰è£…dockerï¼Œå®˜æ–¹æœ‰è¯¦ç»†çš„æ•™ç¨‹æŒ‡å¯¼å¦‚ä½•å®‰è£…ã€‚ä½†å¦‚æœä½ å’Œæˆ‘ä¸€æ ·ç”¨çš„linuxå‘è¡Œç‰ˆæ˜¯debianä»¥åŠdebiançš„è¡ç”Ÿå‘è¡Œç‰ˆï¼Œå¯ä»¥ç›´æ¥ç”¨debianå®˜æ–¹ç»´æŠ¤çš„docker.ioã€‚
apt install docker.io dockerå®˜æ–¹æŠŠdocker.ioç§°ä¸ºunofficial packageséå®˜æ–¹çš„ç‰ˆæœ¬ã€‚
å› ä¸ºdocker.ioæ˜¯debianåœ¨ç»´æŠ¤è€Œä¸æ˜¯dockerå®˜æ–¹ï¼Œè€Œä¸”2019å¹´çš„æ—¶å€™æ›¾ç»åœæ­¢ç»´æŠ¤äº†1å¹´å¯¼è‡´ç‰ˆæœ¬è½åå¤ªå¤šã€‚ä½†ç°åœ¨ä¸ç”¨æ‹…å¿ƒdocker.ioç‰ˆæœ¬é—®é¢˜ï¼Œç›®å‰ä»“åº“é‡Œå·²ç»æ˜¯20.10.24ã€‚</description>
    </item>
    
    <item>
      <title>Linuxä¸‹æ·»åŠ è‡ªå®šä¹‰alias</title>
      <link>https://ruohai.wang/posts/add-alias/</link>
      <pubDate>Fri, 14 Jul 2023 23:14:36 +0800</pubDate>
      
      <guid>https://ruohai.wang/posts/add-alias/</guid>
      <description>linuxä¸‹æ·»åŠ è‡ªå®šä¹‰aliasï¼Œç¼–è¾‘çš„æ–‡ä»¶ä½ç½®æœ‰ä¿©åœ°æ–¹ï¼Œå…¨å±€ï¼ˆå¯¹æ‰€æœ‰ç”¨æˆ·ç”Ÿæ•ˆï¼‰ç”Ÿæ•ˆæ˜¯/etc/bash.bashrcï¼Œå¯¹å½“å‰ç”¨æˆ·ç”Ÿæ•ˆæ˜¯~/.bashrcã€‚
è¿™é‡Œä»¥ä»…é’ˆå¯¹å•ä¸ªç”¨æˆ·è¿›è¡Œé…ç½®ä¸ºä¾‹ã€‚
nano ~/.bashrc åœ¨æœ€åº•ä¸‹æ·»åŠ ä¸€è¡Œ
alias ll=&amp;#39;ls -l&amp;#39; ä¿å­˜ï¼Œç„¶åç”¨sourceå‘½ä»¤ä½¿ç”Ÿæ•ˆ
source ~/.bashrc </description>
    </item>
    
    <item>
      <title>ç©å®¢äº‘å¯ç”¨Armbianå’ŒopenWRTå›ºä»¶åˆ†äº«</title>
      <link>https://ruohai.wang/posts/wky-fireware-share/</link>
      <pubDate>Fri, 14 Jul 2023 23:07:44 +0800</pubDate>
      
      <guid>https://ruohai.wang/posts/wky-fireware-share/</guid>
      <description>ç©å®¢äº‘ï¼Œè¿˜æœ‰å¥½å¤šåå­—ï¼šèµšé’±å®ã€è€æ¯é¸¡ã€ç½‘å¿ƒäº‘ï¼Œè¿™é‡Œéƒ½æŒ‡å‹å·ws1608çš„é‚£ä¸ªå°æœºå™¨ã€‚
è¿™æœºå™¨ç°åœ¨pddã€é—²é±¼ä¸Šçš„ä»·æ ¼ç¨³å®šåœ¨30rmbå·¦å³ï¼Œä½†é—²é±¼ä¸Šéƒ½è¦æ±‚10ä¸ªèµ·åŒ…é‚®ï¼Œå’±ä¹Ÿä¸æ˜¯çŸ¿åœºï¼Œä¹°ä¸€ä¸¤ä¸ªå›æ¥ç©ç©å°±å¤Ÿäº†ï¼Œæ‰€ä»¥æˆ‘æ›´æ¨èä»pddå…¥æ‰‹ã€‚
è¿™æœºå™¨ç©äº†å‡ ä¸ªæ˜ŸæœŸï¼Œç›®å‰æ¥çœ‹ï¼Œå°±èƒ½åˆ·ä¿©å›ºä»¶ã€‚ç¬¬ä¸€åˆ·armbianï¼Œç„¶åæ ¹æ®è‡ªå·±éœ€è¦æ‰‹æ“å„ç§æœåŠ¡ï¼ˆfile browser/qbittorrent/samba/alist/ddns-go/docker/typecho/cups/home assistant/&amp;hellip;ï¼‰ï¼Œæˆ–è€…è£…casaosè¿™ç§æ‰“åŒ…å¥½å„ç§æœåŠ¡çš„è½»ç³»ç»Ÿã€‚ç¬¬äºŒåˆ·openwrtå½“æ—è·¯ç”±ã€‚ä¹Ÿæœ‰å¾ˆå¤šäººåœ¨armbianåŸºç¡€ä¸Šå†è£…openmediavaultï¼Œä½†æˆ‘æ ¹æ®omvå®˜æ–¹çš„æ–‡æ¡£å°è¯•äº†å‡ æ¬¡ï¼Œä¸ç®¡æ˜¯6.1å†…æ ¸è¿˜æ˜¯5.9å†…æ ¸çš„å›ºä»¶ï¼Œéƒ½æ²¡æˆåŠŸã€‚
ç©è¿™ç§å°è®¾å¤‡è‚¯å®šå¾—å»æ©å±±è®ºå›äº†ï¼Œä½†è®ºå›è¿™ç§èµ„æºåˆ†äº«æ¨¡å¼å®åœ¨æ˜¯å¤ªold schooläº†ï¼Œæˆ‘ä¸å¤ªå–œæ¬¢ï¼Œå› ä¸ºæ‰¾èµ„æºå¤ªç´¯ã€‚æ‰€ä»¥è¿™é‡Œç›´æ¥åˆ†äº«æˆ‘ç”¨ä¸‹æ¥éå¸¸ç¨³å®šçš„armbianå’Œopenwrtçš„ä¸¤ä¸ªå›ºä»¶ä¸‹è½½åœ°å€ã€‚
armbianå›ºä»¶åœ°å€:https://github.com/hzyitc/armbian-onecloud
è¿™ä¸ªrepoæ˜¯æ ¹æ®ä¸Šæ¸¸armbian/buildç¼–è¯‘çš„ç©å®¢äº‘ä¸“ç”¨å›ºä»¶ã€‚è¿™é‡Œé‡ç‚¹è¯´ä¸‹ï¼Œå›ºä»¶åç§°ä¸­å¸¦burnå­—æ ·çš„æ˜¯çº¿åˆ·ç‰ˆæœ¬ï¼Œåˆ·å…¥æœºå†…emmcï¼›å¸¦minimalå­—æ ·çš„æ˜¯ç²¾ç®€ç‰ˆã€‚æˆ‘ç”¨ä¸‹æ¥éå¸¸ç¨³å®šã€‚
openwrtå›ºä»¶åœ°å€ï¼šhttps://cloud.189.cn/t/rAv6v2ENnmAn ï¼ˆè®¿é—®ç ï¼š6hhbï¼‰
è¿™ä¸ªæ˜¯æ©å±±è®ºå›é‡Œid:2224758988çš„ç”¨æˆ·åˆ†äº«çš„ç‰ˆæœ¬ï¼Œæˆ‘çŸ­æš‚ä½“éªŒäº†å‡ å¤©ï¼Œä¹Ÿå¾ˆç¨³å®šã€‚å¦‚æœä¸Šé¢è¿™ä¸ªé“¾æ¥å¤±æ•ˆï¼Œå¯ä»¥å»ã€åŸå¸–åœ°å€ã€‘è¿™é‡Œæ‰¾ã€‚æˆ‘å¯¹æ—è·¯ç”±è¿™ç§ä½¿ç”¨æ¨¡å¼å¹¶ä¸æ˜¯å¾ˆæ»¡æ„ï¼Œæ‰€ä»¥ç”¨äº†å‡ å¤©ä»¥åå°±æ’¤æ‰äº†ã€‚</description>
    </item>
    
    <item>
      <title>Linuxä¸‹å®‰è£…File Browser</title>
      <link>https://ruohai.wang/posts/filebrowser-setup/</link>
      <pubDate>Fri, 14 Jul 2023 23:00:29 +0800</pubDate>
      
      <guid>https://ruohai.wang/posts/filebrowser-setup/</guid>
      <description>ç¬¬ä¸€æ­¥ï¼šæ–°å»ºå®‰è£…ç›®å½•
mkdir /usr/local/filebrowser ç¬¬äºŒæ­¥ï¼šæ ¹æ®è‡ªå·±çš„ç¡¬ä»¶å¹³å°ä»ã€å®˜æ–¹github repoã€‘ä¸‹è½½å¯¹åº”ç‰ˆæœ¬çš„å®‰è£…åŒ…ï¼Œè¿™é‡Œä»¥armv7ä¸ºä¾‹ã€‚
# è¿›å…¥å®‰è£…æ–‡ä»¶å¤¹ cd /usr/local/filebrowser # ä¸‹è½½å®‰è£…åŒ… wget https://github.com/filebrowser/filebrowser/releases/download/v2.23.0/linux-armv7-filebrowser.tar.gz # è§£å‹ tar -zxvf linux-armv7-filebrowser.tar.gz ç¬¬ä¸‰æ­¥ï¼šåœ¨å®‰è£…ç›®å½•/usr/local/filebrowserä¸‹æ–°å»ºconfig.jsonï¼Œæ·»åŠ é…ç½®ä¿¡æ¯ã€‚
# åˆ›å»ºé…ç½®æ–‡ä»¶ nano /usr/local/filebrowser/config.json æ·»åŠ ä»¥ä¸‹å†…å®¹ã€‚å…¶ä¸­rootå‚æ•°ç”¨æ¥æŒ‡å®šfireborwserå±•ç¤ºçš„æ ¹ç›®å½•ï¼Œæ¯”å¦‚è®¾å®šä¸º/homeï¼Œåˆ™webuiä¸­åªèƒ½çœ‹åˆ°/homeç›®å½•ä¸‹çš„å†…å®¹ã€‚
{ &amp;#34;port&amp;#34;: 8600, &amp;#34;address&amp;#34;: &amp;#34;0.0.0.0&amp;#34;, &amp;#34;root&amp;#34;: &amp;#34;/&amp;#34;, &amp;#34;database&amp;#34;: &amp;#34;/usr/local/filebrowser/filebrowser.db&amp;#34;, &amp;#34;log&amp;#34;: &amp;#34;/var/log/filebrowser.log&amp;#34;, &amp;#34;username&amp;#34;: &amp;#34;admin&amp;#34; } ç¬¬å››æ­¥ï¼šæŠŠfilebrowseræ·»åŠ åˆ°systemdæœåŠ¡ã€‚
# åˆ›å»ºé…ç½®æ–‡ä»¶ nano /etc/systemd/system/filebrowser.service æ·»åŠ å¦‚ä¸‹å†…å®¹åä¿å­˜é€€å‡ºã€‚
[Unit] Description=The filebrowser Process Manager After=network.target [Service] Type=simple ExecStart=/usr/local/filebrowser/filebrowser -c /usr/local/filebrowser/config.json ExecStop=/bin/killall filebrowser PrivateTmp=true [Install] WantedBy=multi-user.target ç¬¬äº”æ­¥ï¼šsystemdé‡è½½æœåŠ¡å¹¶è®¾ç½®å¼€æœºå¯åŠ¨
# é‡è½½æœåŠ¡ systemctl daemon-reload # å¯åŠ¨filebrowser systemctl start filebrowser.service # è®¾ç½®å¼€æœºå¯åŠ¨ systemctl enable filebrowser.</description>
    </item>
    
    <item>
      <title>Linuxä¸‹Bash Shellå¼€å¯å‘½ä»¤è‡ªåŠ¨è¡¥å…¨</title>
      <link>https://ruohai.wang/posts/bash-completion-setup/</link>
      <pubDate>Fri, 14 Jul 2023 22:51:22 +0800</pubDate>
      
      <guid>https://ruohai.wang/posts/bash-completion-setup/</guid>
      <description>å¦‚æœåªæ˜¯å¯¹å•ä¸ªç”¨æˆ·ç”Ÿæ•ˆï¼Œé‚£ä¸‹æ–‡ä¸­çš„/etc/bash.bashrcéƒ½è¦è°ƒæ•´ä¸º~/.bashrcã€‚
ç¬¬ä¸€æ­¥ï¼šå®‰è£…bash-completionã€‚
apt install bash-completion ç¬¬äºŒæ­¥ï¼šæŸ¥çœ‹/etc/bash.bashrcæ–‡ä»¶ä¸­æ˜¯å¦é€‚é…ã€‚
# æ‰“å¼€bashçš„ç”¨æˆ·é…ç½®æ–‡ä»¶ nano /etc/bash.bashrc æŸ¥çœ‹æ˜¯å¦æœ‰ä¸‹é¢è¿™æ®µå†…å®¹ï¼Œå¦‚æœæ²¡æœ‰å°±æ·»åŠ åˆ°æœ€åï¼Œä¿å­˜é€€å‡ºã€‚è¿™æ®µä»£ç çš„æ„æ€æ˜¯åˆ¤æ–­ç³»ç»Ÿæ˜¯å¦å®‰è£…äº†bash_completionï¼Œå¦‚æœå®‰è£…åˆ™å¯ç”¨è‡ªåŠ¨è¡¥å…¨åŠŸèƒ½ã€‚
if ! shopt -oq posix; then if [ -f /usr/share/bash-completion/bash_completion ]; then . /usr/share/bash-completion/bash_completion elif [ -f /etc/bash_completion ]; then . /etc/bash_completion fi fi ç¬¬ä¸‰æ­¥ï¼šé‡æ–°åŠ è½½ç”¨æˆ·çš„bashé…ç½®ä¿¡æ¯ã€‚
source /etc/bash.bashrc </description>
    </item>
    
    <item>
      <title>Linuxä¸‹ä¿®æ”¹sshé»˜è®¤ç«¯å£</title>
      <link>https://ruohai.wang/posts/set-new-ssh-port/</link>
      <pubDate>Fri, 14 Jul 2023 22:28:56 +0800</pubDate>
      
      <guid>https://ruohai.wang/posts/set-new-ssh-port/</guid>
      <description>å‰è¨€ è¿™æ˜¯ä¸€ç¯‡ä»æ¬ç“¦å·¥vpsçš„typechoæ¬è¿‡æ¥çš„æ–‡ç« ã€‚å¯¹å†…å®¹å’Œæ ¼å¼åšäº†è½»å¾®è°ƒæ•´ã€‚
å†™è¿™ç¯‡æ–‡ç« æ˜¯å› ä¸ºå‰ä¸¤å¤©æƒ³åŠ¨æ‰‹æ”¹linuxä¸»æœºçš„é»˜è®¤sshç«¯å£ï¼Œä½†å‘ç°æ— è®ºæ€ä¹ˆæ”¹sshd_configæ–‡ä»¶éƒ½æ— æµäºäº‹ã€‚ç®€ä¸­äº’è”ç½‘ä¸Šä»¥å…³é”®å­—sshã€ä¿®æ”¹ç«¯å£ä¹‹ç±»æœå‡ºæ¥çš„æ–‡ç« éƒ½åƒç¯‡ä¸€å¾‹ï¼Œå†æœç«¯å£ä¿®æ”¹ä»¥åæ— æ•ˆï¼Œå‡ºæ¥çš„å†…å®¹éƒ½è¯´å› ä¸ºselinuxã€‚æˆ‘å°±åœ¨è¿™è¿™ä¸ªé”™è¯¯çš„æ–¹å‘ä¸ŠæŠ˜è…¾äº†å¥½ä¹…ï¼Œä½†å®é™…æˆ‘çš„ä¸»æœºå‹æ ¹å°±æ²¡å¼€å¯selinuxã€‚
æœ€åç”¨googleæœè‹±æ–‡å…³é”®å­—ï¼Œæ‰æ‰¾åˆ°åŸå› ï¼šsystemdç¯å¢ƒä¸‹sshåˆ†ä¸ºssh.socketå’Œssh.serviceï¼Œè¿™ä¿©ä¸åŒæœåŠ¡çš„é…ç½®æ–‡ä»¶å®Œå…¨ä¸åŒã€‚è€Œè¾ƒæ–°çš„debian/ubuntuç³»ç»Ÿç”¨çš„æ˜¯ssh.socketã€‚
æ‰¾åˆ°é—®é¢˜åŸå› ä»¥åå°±å¾ˆå¥½è§£å†³äº†ï¼Œè¿™é‡Œåšç®€å•è®°å½•ã€‚
æŸ¥çœ‹sshæœåŠ¡ç±»å‹ è¦ä¿®æ”¹sshé»˜è®¤ç«¯å£ï¼Œé¦–å…ˆè¦åˆ†æ¸…æ¥šè‡ªå·±linuxæœºå™¨çš„sshæ˜¯ssh.socketè¿˜æ˜¯ssh.serviceã€‚
systemctl status sshd æ ¹æ®å›¾ä¸­å‡ºç°çš„ssh.socketå­—æ ·åŒºåˆ†ã€‚ ssh.service ssh.serviceçš„ç«¯å£ä¿®æ”¹å¾ˆç®€å•ï¼Œæ‰“å¼€é…ç½®æ–‡ä»¶
nano /etc/ssh/sshd_config æ‰¾åˆ°portçš„é…ç½®è¿›è¡Œä¿®æ”¹
# æ‰¾åˆ°è¿™æ¡ï¼Œé»˜è®¤æ˜¯æ³¨é‡Šæ‰çš„ï¼Œè¿™é‡Œå»æ‰æ³¨é‡Š Port 22 # æ·»åŠ ä¸€è¡Œè‡ªå®šä¹‰çš„ç«¯å£ Port 12345 ç„¶åé‡å¯sshæœåŠ¡å³å¯
systemctl restart sshd æµ‹è¯•æ–°ç«¯å£OKä»¥åï¼Œå†æ³¨é‡Šæ‰æ—§ç«¯å£ç„¶åé‡å¯sshdå³å¯ã€‚
ssh.socket ssh.socketé…ç½®æ–‡ä»¶åœ¨/lib/systemd/system/ssh.socketï¼Œä½†æˆ‘å»ºè®®ä½ åƒä¸‡ä¸è¦å»åŠ¨åŸå§‹æ–‡ä»¶ã€‚é¦–å…ˆæ˜¯è¿™ä¸ªé…ç½®æ–‡ä»¶ä¼šåœ¨æ›´æ–°opensshçš„æ—¶å€™è¢«è¦†ç›–æ‰ï¼Œå…¶æ¬¡åœ¨ssh.socketè¿è¡ŒçŠ¶æ€ä¸‹ä¿®æ”¹é…ç½®æ–‡ä»¶ï¼Œä¼šå¯¼è‡´ssh.socketæœåŠ¡å‡ºç°å¼‚å¸¸ï¼ˆåœæ­¢å·¥ä½œè€Œä¸”æ— æ³•æ¥å—æ–°çš„è¿æ¥ï¼‰ã€‚æ‰€ä»¥æ­£ç¡®çš„é…ç½®æ–¹å¼å¦‚ä¸‹
# æ–°å»ºé…ç½®æ–‡ä»¶ç›®å½• mkdir -p /etc/systemd/system/ssh.socket.d æ–°å»ºé…ç½®æ–‡ä»¶å¹¶å†™å…¥ç›‘å¬ç«¯å£ä¿¡æ¯
cat &amp;gt;/etc/systemd/system/ssh.socket.d/listen.conf &amp;lt;&amp;lt;EOF [Socket] # è¿™ä¸€æ éœ€è¦ä¿ç•™ï¼Œç”¨æ¥è¦†ç›–åŸé…ç½®æ–‡ä»¶ä¸­çš„22ç«¯å£ ListenStream= # è¿™ä¸€æ å¡«å†™æ–°çš„sshç«¯å£ ListenStream=1234 EOF æœ€åå°±æ˜¯systemdé‡è½½æœåŠ¡å¹¶é‡å¯sshäº†ã€‚
# é‡è½½æœåŠ¡ systemctl daemon-reload # é‡å¯ssh systemctl restart ssh è¿™ä¸ªé…ç½®æ–¹æ³•çš„å‚è€ƒæ¥æºï¼š
https://askubuntu.com/questions/1439461/ssh-default-port-not-changing-ubuntu-22-10 https://discourse.ubuntu.com/t/sshd-now-uses-socket-based-activation-ubuntu-22-10-and-later/30189/6 ä»ssh.socketåˆ‡æ¢åˆ°ssh.service è®²çœŸï¼Œæˆ‘è™½ç„¶å·²ç»æŒæ¡åœ¨ssh.socketæ¨¡å¼ä¸‹é…ç½®æ–°ç«¯å£çš„æ–¹æ³•ï¼Œä½†å®é™…æ“ä½œè¿‡ç¨‹ä¸­è¿˜æ˜¯ç¢°åˆ°äº†ssh.socketå¼‚å¸¸çš„é—®é¢˜ã€‚é‚£ä¸å¦‚ç›´æ¥ä»ssh.socketåˆ‡æ¢åˆ°ssh.serviceå§ï¼
# ç¦ç”¨ssh.socketæœåŠ¡ systemctl disable --now ssh.socket # å¯ç”¨ssh.</description>
    </item>
    
    <item>
      <title>Linuxä¸‹ç”¨Hugoæ­å»ºåšå®¢å¹¶éƒ¨ç½²åˆ°Github Pages</title>
      <link>https://ruohai.wang/posts/hugo-setup-and-deploy-to-github/</link>
      <pubDate>Fri, 14 Jul 2023 15:15:15 +0800</pubDate>
      
      <guid>https://ruohai.wang/posts/hugo-setup-and-deploy-to-github/</guid>
      <description>å‰è¨€ æ‰‹ä¸Šå¥½å‡ å°armv7å¹³å°çš„ç”µå­åƒåœ¾ï¼Œæ²¡é”™è¯´çš„å°±æ˜¯è¿…é›·èµšé’±å®äºŒä»£ï¼ˆws1508ï¼‰å’Œè¿…é›·ç©å®¢äº‘ï¼ˆws1608ï¼‰ã€‚æ€»ç¢ç£¨ç€è®©è¿™äº›ç”µå­åƒåœ¾åœ¨å®ƒä»¬çš„ç”Ÿå‘½æœ«æœŸå‘æŒ¥æœ€åçš„å…‰å’Œçƒ­ï¼Œç»™å®ƒä»¬åˆ·armbianã€åˆ·openwrtã€‚æ­£å¥½æˆ‘çš„æ¬ç“¦å·¥vpsè¿˜å‰©åŠä¸ªæœˆè¦åˆ°æœŸäº†ï¼Œ49.99åˆ€/å¹´çš„è´¹ç”¨ï¼Œå¯¹äºç°åœ¨çš„æˆ‘ä¹Ÿç®—æ˜¯ä¸€ç¬”ä¸å°çš„æ”¯å‡ºã€‚èƒ½çœåˆ™çœï¼Œæ‰€ä»¥å‡†å¤‡åšå®¢æ¬å®¶ã€‚æœ‰å¾ˆå¤šæ¡åƒåœ¾ç©å®¶ä¼šæŠŠåšå®¢è·‘åœ¨è‡ªå·±çš„armå°ä¸»æœºä¸Šï¼Œä½†å›½å†…çš„ç½‘ç»œç¯å¢ƒä¸‹ï¼Œè‡ªå»ºæœåŠ¡å™¨çš„å¤‡æ¡ˆå’Œ80/443ç«¯å£è§£å°æ ¹æœ¬æ— è§£ï¼Œåªèƒ½åšåˆ°url:portè¿›è¡Œå…¬ç½‘è®¿é—®ï¼Œä½†è¿™çº¯ç²¹å°±æ˜¯è‡ªå¨±è‡ªä¹å˜›ã€‚æœ€åè¿˜æ˜¯å†³å®šæŠŠåšå®¢éƒ¨ç½²åˆ°å…è´¹çš„github pagesã€‚
æ—¢ç„¶è¦ç”¨github pagesï¼Œé‚£åªèƒ½ç”¨é™æ€åšå®¢ï¼Œæ— è®ºæ˜¯hexoã€hugoè¿˜æ˜¯jekyllï¼Œéƒ½éœ€è¦ä¸€ä¸ªæœ¬åœ°çš„ç¼–è¯‘ç¯å¢ƒã€‚æ—¢ç„¶å¦‚æ­¤ï¼Œæ­£å¥½å°è¯•ä¸€ä¸‹åœ¨èµšé’±å®äºŒä»£ï¼ˆws1508ï¼‰è¿™å°è®¾å¤‡ä¸Šå®‰è£…hugoã€‚
ç©å®¢äº‘ï¼ˆws1608ï¼‰å’Œèµšé’±å®äºŒä»£ï¼ˆws1508ï¼‰ä¸»è¦ç¡¬ä»¶é…ç½®ä¸Šä¸€æ¨¡ä¸€æ ·ï¼ŒåŒæ ·é€‚ç”¨è¿™ä¸ªæ•™ç¨‹ã€‚
å…¶å®å…¨å¹³å°éƒ½é€‚ç”¨è¿™ä¸ªæ•™ç¨‹ï¼Œåªéœ€è¦æŠŠapt installæ¢æˆè‡ªå·±ç³»ç»Ÿçš„ç‰ˆæœ¬å°±è¡Œäº†ã€‚
å‰æœŸå‡†å¤‡ ä¸€å°åŠŸèƒ½æ­£å¸¸çš„ç”µè„‘/ä¸»æœºï¼Œlinux/windows/macos/&amp;hellip;ã€‚èµšé’±å®äºŒä»£çš„ç¡¬ä»¶æ˜¯32ä½armv7ï¼Œç³»ç»Ÿæ˜¯armbian-bookworn githubè´¦å·ï¼Œå‡å®šç”¨æˆ·åjackï¼Œå¹¶æ–°å»ºrepoå–åä¸ºjack.github.io å®‰è£…hugo å®‰è£…git apt install git å®‰è£…hugoã€‚åœ¨armbian-bookwormçš„ä»“åº“é‡Œæœ‰hugoï¼Œåœ¨å½“ä¸‹è¿™ä¸ªæ—¥æœŸï¼ˆ2023-07-14ï¼‰ï¼Œä»“åº“é‡Œçš„hugoç‰ˆæœ¬æ˜¯v0.111.3ï¼Œæ˜¯2023å¹´3æœˆå‘å¸ƒçš„ã€‚github hugoå®˜æ–¹ä»“åº“çš„ç‰ˆæœ¬å·²ç»æ˜¯v0.115.3ã€‚è™½ç„¶éƒ½è¯´å–œæ–°åŒæ—§ï¼Œä½†è¿™ä¸æ˜¯å·§äº†ä¹ˆï¼Œæˆ‘å°±ç”¨armbianä»“åº“çš„æ—§ç‰ˆã€‚ apt install hugo åˆ›å»ºåšå®¢ç›®å½•ï¼Œä¸‹è½½ä¸»é¢˜ # ä¸ºæ–¹ä¾¿ç®¡ç†åœ¨æ ¹ç›®å½•æ–°å»ºdataæ–‡ä»¶å¤¹mkdir /data# åœ¨dataç›®å½•ä¸‹åˆ›å»ºåšå®¢ç›®å½•cd data/hugo new site blog# è¿›å…¥blogç›®å½•ï¼Œè¿›è¡Œgitåˆå§‹åŒ–cd blog/git init# ä¸‹è½½è‡ªå·±å–œæ¬¢çš„ä¸»é¢˜ï¼ˆè¿™é‡Œç”¨m10cä¸ºä¾‹ï¼‰git clone https://github.com/vaga/hugo-theme-m10c.git themes/m10c ç¼–è¾‘åšå®¢æ ¹ç›®å½•çš„config.tomlï¼Œæ·»åŠ ä¸€è¡Œã€‚æ³¨æ„è¿™é‡Œv0.111.3ç‰ˆæœ¬çš„hugoé…ç½®æ–‡ä»¶æ˜¯config.tomlï¼Œä½†v0.115.3ç‰ˆæœ¬çš„é…ç½®æ–‡ä»¶æ˜¯hugo.tomlã€‚ theme = &amp;#39;m10c&amp;#39; åˆ°è¿™ä¸€æ­¥ï¼Œæœ¬åœ°hugoå®‰è£…å°±ç®—å®Œæˆäº†ã€‚æ¥ä¸‹å»æ˜¯è¿›è¡Œæœ¬åœ°è¿è¡Œå’Œé¢„è§ˆã€‚ä»è¿™ä¸€æ­¥å¼€å§‹æˆ‘ç¢°åˆ°äº†ä¸å°‘çš„å‘ï¼Œæœ¬æ¥30åˆ†é’Ÿå°±æå®šçš„äº‹æƒ…ï¼Œæˆ‘æ„£æ˜¯æŠ˜è…¾äº†å‡ ä¸ªå°æ—¶ï¼Œå¼„äº†ä¸€ä¸ªé€šå®µã€‚è¿™éƒ½æ˜¯åœ¨æˆ‘å†³å®šè¦ç”¨sshåœ¨armv7ç”µå­åƒåœ¾ä¸Šè£…hugoçš„é‚£ä¸€åˆ»å°±æ³¨å®šäº†çš„ã€‚å¤©å ‚æœ‰è·¯ä½ ä¸èµ°ï¼Œåœ°ç‹±æ— é—¨ä½ åè¦é—¯ã€‚ğŸ˜” æœ¬åœ°è¿è¡Œå’Œé¢„è§ˆ é¢„è§ˆä¸»é¢˜ã€‚å¦‚æœæ˜¯æœ¬åœ°å®‰è£…hugoï¼Œç„¶åæœ¬åœ°è¿è¡Œæœ¬åœ°é¢„è§ˆï¼Œé‚£ç½‘ä¸Šçš„æ•™ç¨‹å¤šå¦‚ç‰›æ¯›ï¼Œéƒ½ä¼šæ•™ä½ æ•²å‘½ä»¤hugo serverç„¶åæ‰“å¼€æµè§ˆå™¨è¾“å…¥http://localhost:1313å°±å¯ä»¥é¢„è§ˆäº†ã€‚ä½†å¾ˆä¸å·§ï¼Œæˆ‘æ˜¯ç”¨å±€åŸŸç½‘å†…å…¶å®ƒæœºå™¨é¢„è§ˆã€‚æ‰€ä»¥ä»è¿™ä¸€æ­¥å¼€å§‹å°±æœ‰äº†åŒºåˆ«ã€‚æ³¨æ„å‚æ•°--bind=&amp;quot;0.0.0.0&amp;quot;ç”¨æ¥ç›‘å¬å±€åŸŸç½‘å†…çš„è®¿é—®ï¼Œä¸‹é¢è¿™æ¡å‘½ä»¤æ‰§è¡ŒæˆåŠŸä»¥åï¼Œå°±å¯ä»¥æµè§ˆå™¨ä¸­è®¿é—®http://host_ip:1313è¿›è¡Œä¸»é¢˜é¢„è§ˆäº†ã€‚ hugo server --bind=&amp;#34;0.0.0.0&amp;#34; å†™æ–‡ç« ã€‚ç”¨ä¸‹é¢è¿™æ¡å‘½ä»¤åˆ›å»ºmarkdownæ–‡æ¡£ï¼Œç„¶åç”¨è‡ªå·±å–œæ¬¢çš„æ–‡æœ¬ç¼–è¾‘å™¨ï¼ˆnano/vim/&amp;hellip;ï¼‰æ‰“å¼€å®ƒå†™å†…å®¹ã€‚è¿™é‡Œæœ‰ä¸€ä¸ªå‘ï¼Œæ ¹æ®æ¨¡æ¿åˆ›å»ºçš„markdownæ–‡æ¡£çš„å¤´éƒ¨ä¿¡æ¯é‡Œæœ‰ä¸ªå‚æ•°draft: trueç”¨æ¥æ ‡è®°è¿™ä¸ªæ–‡æ¡£æ˜¯ä¸€ä»½è‰ç¨¿ã€‚æ³¨æ„å•Šï¼Œå®ƒæ ‡è®°äº†è‡ªå·±æ˜¯è‰ç¨¿ï¼Œä¸æ˜¯æ­£å¼æ–‡ç« ï¼Œä¸‹é¢è¦è€ƒã€‚ hugo new posts/hello-world.md é¢„è§ˆæ–‡ç« ã€‚ç½‘ä¸Šçš„æ•™ç¨‹åœ¨è¿™ä¸€æ­¥éƒ½ä¼šè¯´æ‰§è¡Œhugo serverï¼Œä½†æ˜¯è¦æ³¨æ„ï¼Œæ–‡ç« çš„å¤´éƒ¨ä¿¡æ¯é‡Œdraft: trueæ ‡è®°äº†å®ƒæ˜¯ä¸€ç¯‡è‰ç¨¿ï¼Œé»˜è®¤ä¸ä¼šå±•ç¤ºã€‚æ‰€ä»¥æƒ³è¦çœ‹åˆ°æ–‡ç« ï¼Œè¦ä¹ˆæ”¹å¤´éƒ¨ä¿¡æ¯draft: falseï¼Œè¦ä¹ˆå‘½ä»¤åŠ ä¸Š-Då‚æ•°ï¼Œè¿™æ ·å®ƒä¼šæŠŠè‰ç¨¿ä¹Ÿè¿›è¡Œå±•ç¤ºã€‚æˆ‘çš„å»ºè®®æ˜¯æ”¹æ–‡ç« å¤´éƒ¨ä¿¡æ¯draft: falseï¼Œè¿™æ ·åé¢å‘å¸ƒåˆ°github pagesçš„æ—¶å€™å°±ä¸ä¼šè¸©å‘äº†ã€‚ hugo server --bind=&amp;#34;0.</description>
    </item>
    
    <item>
      <title>Linuxä¸‹ç”¨Speedtest CLIè¿›è¡Œç½‘ç»œæµ‹é€Ÿ</title>
      <link>https://ruohai.wang/posts/speedtest-cli-setup/</link>
      <pubDate>Fri, 14 Jul 2023 14:57:37 +0800</pubDate>
      
      <guid>https://ruohai.wang/posts/speedtest-cli-setup/</guid>
      <description>å‰è¨€ æƒ³è¦linuxä¸‹æµ‹ä¸€ä¸‹ç½‘é€Ÿï¼Œæœºå™¨æ˜¯èµšé’±å®äºŒä»£ï¼ˆws1508ï¼‰ï¼Œç¡¬ä»¶æ˜¯32ä½armv7ï¼Œç³»ç»Ÿæ˜¯armbian-bookwormã€‚
debiançš„ä»“åº“é‡Œæœ‰ä¸€ä¸ªspeedtest-cliçš„åŒ…ï¼Œä¸€å¼€å§‹æˆ‘ç”¨çš„å°±æ˜¯è¿™ä¸ªã€‚ä½†æ³¨æ„è¿™ä¸ªåŒ…ä¸æ˜¯speedtestå®˜æ–¹åœ¨ç»´æŠ¤ï¼Œä¸æ˜¯å®˜æ–¹çš„ï¼è¿™ä¹Ÿè§£é‡Šäº†ä¸ºä»€ä¹ˆæˆ‘ä¹‹å‰ç”¨debianä»“åº“é‡Œçš„speedtest-cliè¿›è¡Œæµ‹é€Ÿçš„æ—¶å€™ï¼Œå®ƒè‡ªåŠ¨é€‰æ‹©çš„æœåŠ¡å™¨éƒ½æ˜¯hongkongæˆ–è€…taiwanï¼Œå¯¼è‡´æµ‹é€Ÿå®Œå…¨ä¸å‡†ã€‚è€Œä¸”é€šè¿‡å‘½ä»¤speedtest --list|grep Chinaä¹Ÿæœä¸å‡ºä»»ä½•ç»“æœï¼Œä¸€åº¦ç¦»è°±åˆ°speedtest --listå‡ºæ¥åªæœ‰taiwançš„æœåŠ¡å™¨ã€‚
åæ¥ç½‘ä¸Šæœäº†ä¸€åœˆã€æ‰¾åˆ°äº†åŸå› ã€‘ï¼Œæ‰çŸ¥é“è¿™ä¸ªåŒ…ä¸æ˜¯speedtestå®˜æ–¹çš„ã€‚
linuxä¸ŠçœŸçš„æ˜¯å¥½å¤šå‘å•Šï¼Œä¸€ä¸ªç®€å•çš„ç½‘ç»œæµ‹é€Ÿéƒ½æ˜¯å¦‚æ­¤ã€‚
å¥½äº†ï¼Œç°åœ¨è®°å½•ä¸€ä¸‹æ€ä¹ˆå®‰è£…speedtestå®˜æ–¹çš„å·¥å…·æ¥å®Œæˆlinuxä¸‹çš„ç½‘ç»œæµ‹é€Ÿã€‚
å®‰è£… æ‰¾åˆ°ã€speedtestå®˜æ–¹ç½‘ç«™ã€‘ï¼Œé¦–é¡µå°±æœ‰å®‰è£…æ­¥éª¤ã€‚ # ä¸‹è½½shè„šæœ¬ curl -s https://packagecloud.io/install/repositories/ookla/speedtest-cli/script.deb.sh | sudo bash # å®‰è£… apt install speedtest æŸ¥è¯¢å¯ç”¨çš„æµ‹é€ŸæœåŠ¡å™¨ å…ˆspeedtest -hçœ‹ä¸€ä¸‹ä½¿ç”¨æ‰‹å†Œã€‚ Usage: speedtest [&amp;lt;options&amp;gt;] -h, --help Print usage information -V, --version Print version number -L, --servers List nearest servers -s, --server-id=# Specify a server from the server list using its id -I, --interface=ARG Attempt to bind to the specified interface when connecting to servers -i, --ip=ARG Attempt to bind to the specified IP address when connecting to servers -o, --host=ARG Specify a server, from the server list, using its host&amp;#39;s fully qualified domain name -p, --progress=yes|no Enable or disable progress bar (Note: only available for &amp;#39;human-readable&amp;#39; or &amp;#39;json&amp;#39; and defaults to yes when interactive) -P, --precision=# Number of decimals to use (0-8, default=2) -f, --format=ARG Output format (see below for valid formats) --progress-update-interval=# Progress update interval (100-1000 milliseconds) -u, --unit[=ARG] Output unit for displaying speeds (Note: this is only applicable for â€˜human-readableâ€™ output format and the default unit is Mbps) -a Shortcut for [-u auto-decimal-bits] -A Shortcut for [-u auto-decimal-bytes] -b Shortcut for [-u auto-binary-bits] -B Shortcut for [-u auto-binary-bytes] --selection-details Show server selection details --ca-certificate=ARG CA Certificate bundle path -v Logging verbosity.</description>
    </item>
    
  </channel>
</rss>
