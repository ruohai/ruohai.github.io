<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>202403s on 喵ฅ^•ﻌ•^ฅ</title>
    <link>https://ruohai.wang/202403/</link>
    <description>Recent content in 202403s on 喵ฅ^•ﻌ•^ฅ</description>
    <generator>Hugo -- gohugo.io</generator>
    <lastBuildDate>Sat, 30 Mar 2024 06:02:16 +0800</lastBuildDate><atom:link href="https://ruohai.wang/202403/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>在玩客云上安装&amp;配置MiniDLNA</title>
      <link>https://ruohai.wang/202403/minidlna-config-on-onecloud/</link>
      <pubDate>Sat, 30 Mar 2024 06:02:16 +0800</pubDate>
      
      <guid>https://ruohai.wang/202403/minidlna-config-on-onecloud/</guid>
      <description>前言 在看海纳思官方页面的一些功能介绍的时候发现了minidlna。之前我都是直接用的samba，对dlna协议还真没试过，这次正好了解下。
实际在配置的过程中碰到了不少问题，比如扫描不到媒体目录下的文件，花了一些时间debug，这里做一些记录。
安装 玩客云刷的是armbian系统，安装minidlna很简单，一条命令。
sudo apt install minidlna 需要注意minidlna服务需要安装的包会比较多，大概占用100~300MB的存储空间。玩客云的内置存储空间不多，请合理规划。
配置 先列一下minidlna的三个配置文件：
/etc/minidlna.conf /etc/defalut/minidlna.conf /lib/systemd/system/minidlna.service 再说一下要改的配置，以下各配置项修改后需要重启minidlna后生效。
媒体文件目录
修改/etc/minidlna.conf，把media_dir=/var/lib/minidlna调整为自己存放媒体文件的目录
默认端口
修改/etc/minidlna.conf，找到port=8200，可以用默认端口，也可以根据自己的喜好调整。如果有安装ufw或者firewalld，记得放行端口。
默认用户/组
默认用户:组都是minidlna，会碰到一些目录读取的权限问题。图方便的话可以直接chmod 777，或者修改/lib/systemd/system/minidlna.service，调整User=minidlna和Group=minidlna两项，想省事可以可以都用root账户。
如果改成其它用户/组，修改以后注意一起修改/var/cache/minidlna目录的权限。
max_user_watches
改完上面这些以后，启动minidlna依然会报错，查看/var/log/minidlna下的日志，发现有报错信息
monitor.c:222: warn: WARNING: Inotify max_user_watches [8638] is low or close to the number of used watches [2] and I do not have permission to increase this limit. Please do so manually by writing a higher value into /proc/sys/fs/inotify/max_user_watches. 意识是默认设置的程序可监控的文件数量8638个太少了，程序无法运行，需要把这个值改的大一些
修改方法
sudo sysctl -w fs.inotify.max_user_watches=524288 到这一步，minidlna重新载入配置然后重启即可。</description>
    </item>
    
    <item>
      <title>PhotoPrism社区版解析照片地理位置（Geocoding）接口请求超时</title>
      <link>https://ruohai.wang/202403/photoprism-geocoding-api-limit/</link>
      <pubDate>Thu, 28 Mar 2024 22:56:25 +0800</pubDate>
      
      <guid>https://ruohai.wang/202403/photoprism-geocoding-api-limit/</guid>
      <description>在自建相册应用的选择上我一直用的photoprism，社区版免费而且功能已经能满足我的需求，更重要的是官方还在维护基于arm32/v7版本的镜像，这就意味着我可以把它安装在玩客云上（前提是关掉所有需要tensorflow图像识别算法的功能）。
之前我使用photoprism的时候，偶尔用docker-compose logs -f，或者在web端的资料库-日志中查看日志时，会看到获取照片地理位置的接口报错，提示请求超时，最后导致照片无法获取详细的地理位置信息。
我一直以为是网络原因（被gfw干扰之类）所以接口不稳定，也试过给photoprism挂全局代理，但似乎并没有什么卵用。
直到今天，我偶尔从web端的版本比较入口跳转到官网
仔细查看了社区版与订阅版的区别，发现了其中一条
社区版的geocoding接口是有请求频率限制的！！！
这个接口的用途就是根据照片中保存的gps经纬度信息，转译成自然语言的地理信息。
它被限制请求频率，意味着在导入照片数量比较大的时候，照片的地理位置无法转译。具体的免费请求次数、频率在官网没有查到。
对这个功能有强烈需求的话，可以考虑花钱订阅photoprism，最便宜的€2/mo就解除限制惹。
😂</description>
    </item>
    
    <item>
      <title>海南五天四夜环岛自驾游记录</title>
      <link>https://ruohai.wang/202403/road-trip-in-hainan/</link>
      <pubDate>Sat, 23 Mar 2024 14:05:26 +0800</pubDate>
      
      <guid>https://ruohai.wang/202403/road-trip-in-hainan/</guid>
      <description>前言 和苏小胖认识快满俩月了，他是研究生在读临近毕业已经忙完了毕业论文而且不着急找工作，我是无业赋闲（躺平摆烂）每天无所事事，所以俩人一合计，出门玩一趟吧。
小胖最开始选的地点是婺源篁岭，这不是马上开油菜花了嘛。我对于去哪儿没啥要求，只要能出门就行。但规划婺源行程的时候，发现那地方到油菜花季节的时候，酒店价格贵的要死。小胖是个追求性价比的省钱小能手，我的经济情况也不允许我住太贵的酒店。所以婺源篁岭，pass！❌
最后经过小胖一番筛选，确定了去海南。现在是海南旅游的淡季，去海南的机票很便宜（出海南就有点贵啦），而且酒店也很便宜。小胖说他之前去过两次海南，依然觉得海南值得再去一趟。
一开始是计划跟团游的，网上找一些散客团，报价普遍在800~1200rmb左右，加上往返机票，总开支大概2500rmb。但因为是淡季，散客团拼团一直不顺利，所以我们改成了租车环岛自驾，查了岛上的租车费用，5天的费用大概900rmb，再加上充电/加油，总开销的预算大概在4000rmb。
确定了自驾游的方案以后，我们就开始做行程计划然后出发惹。
行程 这是出发前我们大致排的行程（图中加了删除线的景点后来都没去）
可以看到餐饮、住宿、门票的预算都给的很低，最后总体开销控制在4100rmb。当然，实际开销肯定会有出入，具体就丰俭由人，大家可以根据自己的钱包来定。
关于租车 关于租车有挺多可以说道的，😄
海南租车，相信大品牌就选神州、一嗨，想要性价比可以从携程、飞猪上找。但无论在哪个平台租车，切记一定一定要买车行的保险，可以免去99%的车损纠纷，而且免去了发生轻微剐蹭的赔偿。 如果车行的保险不包含三者险，请根据自己的钱包和车技水平，选择是不是要购买三者险，我的建议是请一定买三者险。 海南环岛高速都是双车道，东线上路况一般而且车很多，经常会碰到占道维护的情况。景区停车往往非常拥挤，很容易出现剐蹭，有三者险能减少很多麻烦事。 租车首选电车，电车用电成本很低，充电桩的电价大概0.9~1.4rmb/kwh，我们实际跑完全程以后，每公里成本大概0.21rmb。岛上充电桩的覆盖率也不错，虽然我们在几次充电过程中碰到了几个小问题，但总体的体验还是挺棒的。 租油车也可以，但用车成本会比电车高不少。海南高速免费，但高速费都折算进油价里了，油价比大陆贵1rmb左右。而且相同租车价格下，可选的油车在加速性能、静谧性、车内空间、倒车影响、辅助驾驶功能上，完全没法和电车相比。 还有一点很有意思，海南很多停车场对电车也有优惠，比如南海文化旅游景区，电车4块钱，油车8块钱。这实在是让人难以理解，同样是停车，为什么电车能半价。 我们租车选的最便宜的电车，红旗e-qm5，同样租车价格下的油车可选的是日产轩逸。红旗这车网上都喷它是垃圾，但我们用它跑完全程以后，感受就是：日产轩逸给红旗e-qm5提鞋都不配。 租车行的红旗e-qm5都是吉林牌照，这车定位是b级车，厂家推出这车型就是准备卖给网约车公司和租车公司的，上市价19w，吉林那边补贴、优惠以后落地9w块，所以很多租车公司在吉林提车再拉到海南作租赁。 我们租的红旗e-qm5是一年新车，但后备箱液压杆已经出现了支撑杆球头脱出的问题，品控不太行。😂 建议 &amp;amp; 注意事项 石梅湾、日月湾、万美湾、清水湾等其它湾，选择一个即可，都是沙滩 + 水上项目，各个湾之间同质化严重，没必要都去。 神州半岛去灯塔的路上也有很多沙滩，也又水上项目，如果时间紧，上面那些湾都不用去，在神州半岛逛沙滩就行了。 自驾环岛，海口去三亚建议走东线，如果最后要返回海口，建议走中线，中线路况更好而且车很少。 沙滩服一般成交价35rmb，比这贵没必要买。而且本地人不穿沙滩服，穿这个走在景点很容易被当作待宰的羔羊，注意避坑。不过沙滩服穿着是挺凉快的。 清补凉价格10~15rmb，就是椰汁打底，加一堆果切，还有红枣干、葡萄干、补丁之类。 抱罗粉就是海南米粉，只是拌的料不一样。 椰子价格，金椰10块3个，青椰12块3个。本地人都说青椰更好喝。金椰的味道有点像加水稀释过的青皮甘蔗汁。 青果槟榔不要轻易尝试。 呀诺达热带雨林，和槟榔谷、蜈支洲岛一样的高消费景区，门票进去以后所有项目都要另外花钱。 关于景点 在安排行程的时候，我们排了很多景点上去，但实际很多景点我们都跳过了，这中间一部分原因是时间确实来不及，更多的原因是很多景点实在是槽点太多。根据时间顺序最后简单记录。
巴厘村
门票45rmb，停车5rmb/h。点评：⭐
就一个山寨巴厘岛的小村子，早些年是归侨的聚居地。
这村子最大的景就是那个和巴厘岛“天堂之门”一模一样的门。村子不大也不小，大概半小时就逛完了，一些南洋风格的建筑，很多购物点。门票包含了一次免费照相（有套路）一次免费试喝。
免费照相的套路，就是在进门以后给你拍个照，然后打印出来一个6寸免费照片和一个8寸收费照片。其中6寸免费的那个，照片只占了相纸1/4的面积，其它地方都印着宣传语。8寸那个是打印好的，但想拿走的话，不好意思，25rmb。
免费试喝，因为景区里有椰子粉和咖啡粉的购物点，可以进店免费蹭吃蹭喝，店家会给一个非常mini的小杯子给你一份椰汁一份咖啡，还有一小份薄饼。
停车场有4~5个充电车位，是快充枪，费用1.4rmb/kwh。
石梅湾
免费，停车5rmb/h。点评：⭐⭐⭐
是个沙滩，沙子很软，海水很漂亮，但没有什么可以拍照的点。
要玩的开心就是花钱玩水上项目，摩托艇、香蕉船、海上拖伞、直升机、潜水，收费从几百到几千不等，淡季的时候可以试试砍价，比如摩托艇，一开始报价260rmb，小胖子最后砍到180rmb，俩人在海上兜了一个来回，还是挺刺激的。
神州半岛灯塔
免费，停车有俩地方，一个是小区停车场，2rmb/次，一个是景区停车场，20rmb/次。点评：⭐⭐
神州半岛的景就是一个灯塔，从停车场到灯塔还有3公里的路，要么租电瓶车，两轮电瓶车20rmb/2h，三轮电瓶车50rmb/2h。景区也有观光车，10rmb，但不清楚是单程还是往返。
去灯塔的路上都是沙滩，免费开放，也都标配大量的水上项目，还弄了很多漂亮的拍照打卡点。
至于那个网红灯塔，就一个拍照打卡的地方，对拍照没兴趣的话可以吹吹海风。
后海村
免费，停车4rmb/天。点评：⭐⭐⭐
后海村，紧挨着蜈支洲岛的景区大门，而且有免费开放的后海湾可以玩水。可以选择在后海住一晚。
后海街是一条步行街，所有来到蜈支洲岛和后海湾玩水的游客都会逛这条街，所以人流密集度可想而知，淡季的时候都是摩肩接踵，旺季的话完全无法想象。
整条街上就是标配的各种各样的烧烤摊摊、小商品摊、小吃摊，烟雾缭绕、酒吧，还有当地特色的冲浪店，乌央乌央，属于那种每一个旅游城市都标配的网红步行街。
后海真正值得玩的，还是在后海湾冲浪。在后海街上多问一些冲浪店，打听一下价格，也可以上一些团购网站看看点评和口碑。别当冤大头选什么1v1、1v2，就选1v4或者1v多的，因为冲浪教练的任务很简单，就两个，第一是在岸上简单的教你如何使用冲浪板，第二是下水以后帮你推板子起一个加速的作用。除非你天赋异禀立刻就能学会然后去劈大海浪🌊，要不然99%的游客就是上板、落水、继续上板、继续落水，教练推几次以后就可以和另外几个游客一起互相推板玩。
玩冲浪最好自备泳衣泳裤，虽然冲浪店都会提供，但自备的话干净卫生而且款式也好看。
如果你玩冲浪的重点是拍照，🤔，emmm，拍照可能是另外收费的项目，记得提前和教练谈好价钱。
蜈支洲岛
门票 + 往返船票144rmb，环岛观光车138rmb，这俩是必选项目，建议买套票。停车4rmb/天。点评：⭐⭐
蜈支洲岛是个雷，大雷还是小雷取决于你愿意花多少钱玩水上项目。从开始登岛那一刻开始，你的钱包就开始流血啦。观光车必选，因为岛上的前半段就不允许徒步环岛，所以登岛 + 观光车就是260rmb。
然后上岛为了干啥，当然是为了玩啊，岛上能玩的都是水上项目，就是标配的那些潜水、冲浪、海上拖伞、摩托艇等等各种你能想得到的水上项目，收费从几百到几千不等，请根据自己的经济情况选择。
如果对水上项目没啥兴趣（比如已经在其它地方玩过了），或者不想花钱，那就坐上观光车环岛随便逛逛吧，有5个停靠点，可以下车溜达一下然后拍照打卡。😄
第一市场</description>
    </item>
    
    <item>
      <title>黑豹X2（Panther X2）刷入Armbian系统</title>
      <link>https://ruohai.wang/202403/panther-x2-flash-armbian/</link>
      <pubDate>Tue, 12 Mar 2024 18:20:47 +0800</pubDate>
      
      <guid>https://ruohai.wang/202403/panther-x2-flash-armbian/</guid>
      <description>前言 前段时间逛海鲜市场的时候留意到一个矿渣盒子，黑豹x2，又是一个类似迅雷赚钱宝这样的挖矿项目已经gg的定制硬件盒子，目前海鲜市场的价格大概在135rmb左右。去年的时候好像价格只要70rmb，现在价格差不多已经翻一倍了。😂
硬件配置是rockchip 3566 + 4gb内存 + 32gb 内置emmc闪存 + tf卡扩展 + 千兆网口 + usb2.0接口，没有视频输出接口，原封包装的话自带一张64GB闪迪tf卡，12v/2a的dc供电。
这个硬件配置，cpu性能在一众盒子里算比较顶，内存和闪存给的都比较充裕，而且支持tf卡扩展，aarch64/arm64架构，在很长一段时间里都不用担心性能瓶颈，更不用担心像玩客云的arm32/armv7l架构缺少第三方应用支持。不过鸡肋的地方也很多，比如usb接口只是2.0而且只给了一个，没有hdmi/dp没法当电视盒子用，只有单个网口不能当软路由。
ophub的项目amlogic-s9xxx-armbian中已经有这个盒子的armbian固件，本文中提到的armbian固件都从这个项目中下载。
卡刷 黑豹x2刷机有两种方法，第一种是卡刷，这种方法比较简单而且不需要特殊工具。
第一步：u盘/tf卡引导
用rufus把armbian固件写入tf卡或者u盘，然后插到机器上后通电，等待半分钟后可以在路由器后台看到新增armbian设备的ip，然后ssh连上设备。
如果不需要把系统写入emmc，到这一步就可以直接使用了，也就是把u盘/tf卡作为存储介质。
第二步：固件写入内置emmc
这个操作和amlogic芯片的电视盒子有区别，无法直接用armbian-install来完成了。
在上一步tf/u盘中的系统成功启动以后，需要用dd命令直接将armbian固件（eg：Armbian_24.5.0_xxx.img）写入到内置的emmc上。写入完成后，关机拔掉tf卡/u盘，再通电开机，就进入emmc上的armbian系统惹。
dd if=Armbian_24.5.0_xxx.img of=/dev/mmcblk1 bs=1M status=progress 线刷 线刷需要准备：
双公头usb线 rockchip驱动程序DriverAssitant rockchip开发工具RKDevTool rk356x的bootloader文件 刷机工具包下载地址在文章最后。
第一步：电脑安装驱动
第二步：选择固件
启动RKDevTool软件，在boot一栏中，选择rk356x-MiniLoaderAll.bin文件，在system一栏中，选择自己下载的armbian镜像文件。
第三步：开始刷机
设备不要通电。用卡针长按盒子的reset，然后连接双公头usb线，电脑会有叮咚提示音，在瑞芯微开发工具中会显示发现一个LOADER设备。 点击【高级功能——进入maskrom】让设备重启。 点击【下载镜像——执行】开始刷机。 提示下载完成即为刷机完成，可以拔掉双公头usb线缆，然后通电开机。 参考文章 PantherX2(黑豹X2)刷机。注：本文中有5张图片都引用自这篇博客，因为我刷机的时候没有截图，事后也懒得重刷补图。这里感谢 rupu.net 的辛苦制图。 百元矿渣Panther X2（黑豹 X2）：小白折腾日记1 资源包 百度网盘：【Panther-X2-刷机工具.7z】 提取码: 7e4a</description>
    </item>
    
  </channel>
</rss>
